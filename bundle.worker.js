(()=>{var t={2167:(t,e)=>{"use strict";function r(t,e){return void 0===e&&(e=Object),e&&"function"==typeof e.freeze?e.freeze(t):t}var n=r({HTML:"text/html",isHTML:function(t){return t===n.HTML},XML_APPLICATION:"application/xml",XML_TEXT:"text/xml",XML_XHTML_APPLICATION:"application/xhtml+xml",XML_SVG_IMAGE:"image/svg+xml"}),i=r({HTML:"http://www.w3.org/1999/xhtml",isHTML:function(t){return t===i.HTML},SVG:"http://www.w3.org/2000/svg",XML:"http://www.w3.org/XML/1998/namespace",XMLNS:"http://www.w3.org/2000/xmlns/"});e.freeze=r,e.MIME_TYPE=n,e.NAMESPACE=i},6129:(t,e,r)=>{var n=r(2167),i=r(1146),o=r(1045),a=r(6925),s=i.DOMImplementation,u=n.NAMESPACE,c=a.ParseError,h=a.XMLReader;function d(t){this.options=t||{locator:{}}}function f(){this.cdata=!1}function l(t,e){e.lineNumber=t.lineNumber,e.columnNumber=t.columnNumber}function p(t){if(t)return"\n@"+(t.systemId||"")+"#[line:"+t.lineNumber+",col:"+t.columnNumber+"]"}function g(t,e,r){return"string"==typeof t?t.substr(e,r):t.length>=e+r||e?new java.lang.String(t,e,r)+"":t}function m(t,e){t.currentElement?t.currentElement.appendChild(e):t.doc.appendChild(e)}d.prototype.parseFromString=function(t,e){var r=this.options,n=new h,i=r.domBuilder||new f,a=r.errorHandler,s=r.locator,c=r.xmlns||{},d=/\/x?html?$/.test(e),l=d?o.HTML_ENTITIES:o.XML_ENTITIES;return s&&i.setDocumentLocator(s),n.errorHandler=function(t,e,r){if(!t){if(e instanceof f)return e;t=e}var n={},i=t instanceof Function;function o(e){var o=t[e];!o&&i&&(o=2==t.length?function(r){t(e,r)}:t),n[e]=o&&function(t){o("[xmldom "+e+"]\t"+t+p(r))}||function(){}}return r=r||{},o("warning"),o("error"),o("fatalError"),n}(a,i,s),n.domBuilder=r.domBuilder||i,d&&(c[""]=u.HTML),c.xml=c.xml||u.XML,t&&"string"==typeof t?n.parse(t,c,l):n.errorHandler.error("invalid doc source"),i.doc},f.prototype={startDocument:function(){this.doc=(new s).createDocument(null,null,null),this.locator&&(this.doc.documentURI=this.locator.systemId)},startElement:function(t,e,r,n){var i=this.doc,o=i.createElementNS(t,r||e),a=n.length;m(this,o),this.currentElement=o,this.locator&&l(this.locator,o);for(var s=0;s<a;s++){t=n.getURI(s);var u=n.getValue(s),c=(r=n.getQName(s),i.createAttributeNS(t,r));this.locator&&l(n.getLocator(s),c),c.value=c.nodeValue=u,o.setAttributeNode(c)}},endElement:function(t,e,r){var n=this.currentElement;n.tagName,this.currentElement=n.parentNode},startPrefixMapping:function(t,e){},endPrefixMapping:function(t){},processingInstruction:function(t,e){var r=this.doc.createProcessingInstruction(t,e);this.locator&&l(this.locator,r),m(this,r)},ignorableWhitespace:function(t,e,r){},characters:function(t,e,r){if(t=g.apply(this,arguments)){if(this.cdata)var n=this.doc.createCDATASection(t);else n=this.doc.createTextNode(t);this.currentElement?this.currentElement.appendChild(n):/^\s*$/.test(t)&&this.doc.appendChild(n),this.locator&&l(this.locator,n)}},skippedEntity:function(t){},endDocument:function(){this.doc.normalize()},setDocumentLocator:function(t){(this.locator=t)&&(t.lineNumber=0)},comment:function(t,e,r){t=g.apply(this,arguments);var n=this.doc.createComment(t);this.locator&&l(this.locator,n),m(this,n)},startCDATA:function(){this.cdata=!0},endCDATA:function(){this.cdata=!1},startDTD:function(t,e,r){var n=this.doc.implementation;if(n&&n.createDocumentType){var i=n.createDocumentType(t,e,r);this.locator&&l(this.locator,i),m(this,i),this.doc.doctype=i}},warning:function(t){console.warn("[xmldom warning]\t"+t,p(this.locator))},error:function(t){console.error("[xmldom error]\t"+t,p(this.locator))},fatalError:function(t){throw new c(t,this.locator)}},"endDTD,startEntity,endEntity,attributeDecl,elementDecl,externalEntityDecl,internalEntityDecl,resolveEntity,getExternalSubset,notationDecl,unparsedEntityDecl".replace(/\w+/g,(function(t){f.prototype[t]=function(){return null}})),e.DOMParser=d,i.DOMImplementation,i.XMLSerializer},1146:(t,e,r)=>{var n=r(2167).NAMESPACE;function i(t){return""!==t}function o(t,e){return t.hasOwnProperty(e)||(t[e]=!0),t}function a(t){if(!t)return[];var e=function(t){return t?t.split(/[\t\n\f\r ]+/).filter(i):[]}(t);return Object.keys(e.reduce(o,{}))}function s(t,e){for(var r in t)e[r]=t[r]}function u(t,e){var r=t.prototype;if(!(r instanceof e)){function n(){}n.prototype=e.prototype,s(r,n=new n),t.prototype=r=n}r.constructor!=t&&("function"!=typeof t&&console.error("unknown Class:"+t),r.constructor=t)}var c={},h=c.ELEMENT_NODE=1,d=c.ATTRIBUTE_NODE=2,f=c.TEXT_NODE=3,l=c.CDATA_SECTION_NODE=4,p=c.ENTITY_REFERENCE_NODE=5,g=c.ENTITY_NODE=6,m=c.PROCESSING_INSTRUCTION_NODE=7,y=c.COMMENT_NODE=8,v=c.DOCUMENT_NODE=9,b=c.DOCUMENT_TYPE_NODE=10,w=c.DOCUMENT_FRAGMENT_NODE=11,x=c.NOTATION_NODE=12,E={},A={},N=(E.INDEX_SIZE_ERR=(A[1]="Index size error",1),E.DOMSTRING_SIZE_ERR=(A[2]="DOMString size error",2),E.HIERARCHY_REQUEST_ERR=(A[3]="Hierarchy request error",3)),_=(E.WRONG_DOCUMENT_ERR=(A[4]="Wrong document",4),E.INVALID_CHARACTER_ERR=(A[5]="Invalid character",5),E.NO_DATA_ALLOWED_ERR=(A[6]="No data allowed",6),E.NO_MODIFICATION_ALLOWED_ERR=(A[7]="No modification allowed",7),E.NOT_FOUND_ERR=(A[8]="Not found",8)),k=(E.NOT_SUPPORTED_ERR=(A[9]="Not supported",9),E.INUSE_ATTRIBUTE_ERR=(A[10]="Attribute in use",10));function S(t,e){if(e instanceof Error)var r=e;else r=this,Error.call(this,A[t]),this.message=A[t],Error.captureStackTrace&&Error.captureStackTrace(this,S);return r.code=t,e&&(this.message=this.message+": "+e),r}function D(){}function M(t,e){this._node=t,this._refresh=e,C(this)}function C(t){var e=t._node._inc||t._node.ownerDocument._inc;if(t._inc!=e){var r=t._refresh(t._node);ct(t,"length",r.length),s(r,t),t._inc=e}}function T(){}function O(t,e){for(var r=t.length;r--;)if(t[r]===e)return r}function G(t,e,r,i){if(i?e[O(e,i)]=r:e[e.length++]=r,t){r.ownerElement=t;var o=t.ownerDocument;o&&(i&&j(o,t,i),function(t,e,r){t&&t._inc++,r.namespaceURI===n.XMLNS&&(e._nsMap[r.prefix?r.localName:""]=r.value)}(o,t,r))}}function I(t,e,r){var n=O(e,r);if(!(n>=0))throw S(_,new Error(t.tagName+"@"+r));for(var i=e.length-1;n<i;)e[n]=e[++n];if(e.length=i,t){var o=t.ownerDocument;o&&(j(o,t,r),r.ownerElement=null)}}function z(){}function L(){}function U(t){return("<"==t?"&lt;":">"==t&&"&gt;")||"&"==t&&"&amp;"||'"'==t&&"&quot;"||"&#"+t.charCodeAt()+";"}function P(t,e){if(e(t))return!0;if(t=t.firstChild)do{if(P(t,e))return!0}while(t=t.nextSibling)}function R(){}function j(t,e,r,i){t&&t._inc++,r.namespaceURI===n.XMLNS&&delete e._nsMap[r.prefix?r.localName:""]}function W(t,e,r){if(t&&t._inc){t._inc++;var n=e.childNodes;if(r)n[n.length++]=r;else{for(var i=e.firstChild,o=0;i;)n[o++]=i,i=i.nextSibling;n.length=o}}}function F(t,e){var r=e.previousSibling,n=e.nextSibling;return r?r.nextSibling=n:t.firstChild=n,n?n.previousSibling=r:t.lastChild=r,W(t.ownerDocument,t),e}function q(t,e,r){var n=e.parentNode;if(n&&n.removeChild(e),e.nodeType===w){var i=e.firstChild;if(null==i)return e;var o=e.lastChild}else i=o=e;var a=r?r.previousSibling:t.lastChild;i.previousSibling=a,o.nextSibling=r,a?a.nextSibling=i:t.firstChild=i,null==r?t.lastChild=o:r.previousSibling=o;do{i.parentNode=t}while(i!==o&&(i=i.nextSibling));return W(t.ownerDocument||t,t),e.nodeType==w&&(e.firstChild=e.lastChild=null),e}function B(){this._nsMap={}}function H(){}function X(){}function V(){}function K(){}function Y(){}function $(){}function Z(){}function Q(){}function J(){}function tt(){}function et(){}function rt(){}function nt(t,e){var r=[],n=9==this.nodeType&&this.documentElement||this,i=n.prefix,o=n.namespaceURI;if(o&&null==i&&null==(i=n.lookupPrefix(o)))var a=[{namespace:o,prefix:null}];return at(this,r,t,e,a),r.join("")}function it(t,e,r){var i=t.prefix||"",o=t.namespaceURI;if(!o)return!1;if("xml"===i&&o===n.XML||o===n.XMLNS)return!1;for(var a=r.length;a--;){var s=r[a];if(s.prefix===i)return s.namespace!==o}return!0}function ot(t,e,r){t.push(" ",e,'="',r.replace(/[<&"]/g,U),'"')}function at(t,e,r,i,o){if(o||(o=[]),i){if(!(t=i(t)))return;if("string"==typeof t)return void e.push(t)}switch(t.nodeType){case h:var a=t.attributes,s=a.length,u=t.firstChild,c=t.tagName,g=c;if(!(r=n.isHTML(t.namespaceURI)||r)&&!t.prefix&&t.namespaceURI){for(var x,E=0;E<a.length;E++)if("xmlns"===a.item(E).name){x=a.item(E).value;break}if(!x)for(var A=o.length-1;A>=0;A--)if(""===(N=o[A]).prefix&&N.namespace===t.namespaceURI){x=N.namespace;break}if(x!==t.namespaceURI)for(A=o.length-1;A>=0;A--){var N;if((N=o[A]).namespace===t.namespaceURI){N.prefix&&(g=N.prefix+":"+c);break}}}e.push("<",g);for(var _=0;_<s;_++)"xmlns"==(k=a.item(_)).prefix?o.push({prefix:k.localName,namespace:k.value}):"xmlns"==k.nodeName&&o.push({prefix:"",namespace:k.value});for(_=0;_<s;_++){var k,S,D;it(k=a.item(_),0,o)&&(ot(e,(S=k.prefix||"")?"xmlns:"+S:"xmlns",D=k.namespaceURI),o.push({prefix:S,namespace:D})),at(k,e,r,i,o)}if(c===g&&it(t,0,o)&&(ot(e,(S=t.prefix||"")?"xmlns:"+S:"xmlns",D=t.namespaceURI),o.push({prefix:S,namespace:D})),u||r&&!/^(?:meta|link|img|br|hr|input)$/i.test(c)){if(e.push(">"),r&&/^script$/i.test(c))for(;u;)u.data?e.push(u.data):at(u,e,r,i,o.slice()),u=u.nextSibling;else for(;u;)at(u,e,r,i,o.slice()),u=u.nextSibling;e.push("</",g,">")}else e.push("/>");return;case v:case w:for(u=t.firstChild;u;)at(u,e,r,i,o.slice()),u=u.nextSibling;return;case d:return ot(e,t.name,t.value);case f:return e.push(t.data.replace(/[<&]/g,U).replace(/]]>/g,"]]&gt;"));case l:return e.push("<![CDATA[",t.data,"]]>");case y:return e.push("\x3c!--",t.data,"--\x3e");case b:var M=t.publicId,C=t.systemId;if(e.push("<!DOCTYPE ",t.name),M)e.push(" PUBLIC ",M),C&&"."!=C&&e.push(" ",C),e.push(">");else if(C&&"."!=C)e.push(" SYSTEM ",C,">");else{var T=t.internalSubset;T&&e.push(" [",T,"]"),e.push(">")}return;case m:return e.push("<?",t.target," ",t.data,"?>");case p:return e.push("&",t.nodeName,";");default:e.push("??",t.nodeName)}}function st(t,e,r){var n;switch(e.nodeType){case h:(n=e.cloneNode(!1)).ownerDocument=t;case w:break;case d:r=!0}if(n||(n=e.cloneNode(!1)),n.ownerDocument=t,n.parentNode=null,r)for(var i=e.firstChild;i;)n.appendChild(st(t,i,r)),i=i.nextSibling;return n}function ut(t,e,r){var n=new e.constructor;for(var i in e){var o=e[i];"object"!=typeof o&&o!=n[i]&&(n[i]=o)}switch(e.childNodes&&(n.childNodes=new D),n.ownerDocument=t,n.nodeType){case h:var a=e.attributes,s=n.attributes=new T,u=a.length;s._ownerElement=n;for(var c=0;c<u;c++)n.setAttributeNode(ut(t,a.item(c),!0));break;case d:r=!0}if(r)for(var f=e.firstChild;f;)n.appendChild(ut(t,f,r)),f=f.nextSibling;return n}function ct(t,e,r){t[e]=r}E.INVALID_STATE_ERR=(A[11]="Invalid state",11),E.SYNTAX_ERR=(A[12]="Syntax error",12),E.INVALID_MODIFICATION_ERR=(A[13]="Invalid modification",13),E.NAMESPACE_ERR=(A[14]="Invalid namespace",14),E.INVALID_ACCESS_ERR=(A[15]="Invalid access",15),S.prototype=Error.prototype,s(E,S),D.prototype={length:0,item:function(t){return this[t]||null},toString:function(t,e){for(var r=[],n=0;n<this.length;n++)at(this[n],r,t,e);return r.join("")}},M.prototype.item=function(t){return C(this),this[t]},u(M,D),T.prototype={length:0,item:D.prototype.item,getNamedItem:function(t){for(var e=this.length;e--;){var r=this[e];if(r.nodeName==t)return r}},setNamedItem:function(t){var e=t.ownerElement;if(e&&e!=this._ownerElement)throw new S(k);var r=this.getNamedItem(t.nodeName);return G(this._ownerElement,this,t,r),r},setNamedItemNS:function(t){var e,r=t.ownerElement;if(r&&r!=this._ownerElement)throw new S(k);return e=this.getNamedItemNS(t.namespaceURI,t.localName),G(this._ownerElement,this,t,e),e},removeNamedItem:function(t){var e=this.getNamedItem(t);return I(this._ownerElement,this,e),e},removeNamedItemNS:function(t,e){var r=this.getNamedItemNS(t,e);return I(this._ownerElement,this,r),r},getNamedItemNS:function(t,e){for(var r=this.length;r--;){var n=this[r];if(n.localName==e&&n.namespaceURI==t)return n}return null}},z.prototype={hasFeature:function(t,e){return!0},createDocument:function(t,e,r){var n=new R;if(n.implementation=this,n.childNodes=new D,n.doctype=r||null,r&&n.appendChild(r),e){var i=n.createElementNS(t,e);n.appendChild(i)}return n},createDocumentType:function(t,e,r){var n=new $;return n.name=t,n.nodeName=t,n.publicId=e||"",n.systemId=r||"",n}},L.prototype={firstChild:null,lastChild:null,previousSibling:null,nextSibling:null,attributes:null,parentNode:null,childNodes:null,ownerDocument:null,nodeValue:null,namespaceURI:null,prefix:null,localName:null,insertBefore:function(t,e){return q(this,t,e)},replaceChild:function(t,e){this.insertBefore(t,e),e&&this.removeChild(e)},removeChild:function(t){return F(this,t)},appendChild:function(t){return this.insertBefore(t,null)},hasChildNodes:function(){return null!=this.firstChild},cloneNode:function(t){return ut(this.ownerDocument||this,this,t)},normalize:function(){for(var t=this.firstChild;t;){var e=t.nextSibling;e&&e.nodeType==f&&t.nodeType==f?(this.removeChild(e),t.appendData(e.data)):(t.normalize(),t=e)}},isSupported:function(t,e){return this.ownerDocument.implementation.hasFeature(t,e)},hasAttributes:function(){return this.attributes.length>0},lookupPrefix:function(t){for(var e=this;e;){var r=e._nsMap;if(r)for(var n in r)if(r[n]==t)return n;e=e.nodeType==d?e.ownerDocument:e.parentNode}return null},lookupNamespaceURI:function(t){for(var e=this;e;){var r=e._nsMap;if(r&&t in r)return r[t];e=e.nodeType==d?e.ownerDocument:e.parentNode}return null},isDefaultNamespace:function(t){return null==this.lookupPrefix(t)}},s(c,L),s(c,L.prototype),R.prototype={nodeName:"#document",nodeType:v,doctype:null,documentElement:null,_inc:1,insertBefore:function(t,e){if(t.nodeType==w){for(var r=t.firstChild;r;){var n=r.nextSibling;this.insertBefore(r,e),r=n}return t}return null==this.documentElement&&t.nodeType==h&&(this.documentElement=t),q(this,t,e),t.ownerDocument=this,t},removeChild:function(t){return this.documentElement==t&&(this.documentElement=null),F(this,t)},importNode:function(t,e){return st(this,t,e)},getElementById:function(t){var e=null;return P(this.documentElement,(function(r){if(r.nodeType==h&&r.getAttribute("id")==t)return e=r,!0})),e},getElementsByClassName:function(t){var e=a(t);return new M(this,(function(r){var n=[];return e.length>0&&P(r.documentElement,(function(i){if(i!==r&&i.nodeType===h){var o=i.getAttribute("class");if(o){var s=t===o;if(!s){var u=a(o);s=e.every((c=u,function(t){return c&&-1!==c.indexOf(t)}))}s&&n.push(i)}}var c})),n}))},createElement:function(t){var e=new B;return e.ownerDocument=this,e.nodeName=t,e.tagName=t,e.localName=t,e.childNodes=new D,(e.attributes=new T)._ownerElement=e,e},createDocumentFragment:function(){var t=new tt;return t.ownerDocument=this,t.childNodes=new D,t},createTextNode:function(t){var e=new V;return e.ownerDocument=this,e.appendData(t),e},createComment:function(t){var e=new K;return e.ownerDocument=this,e.appendData(t),e},createCDATASection:function(t){var e=new Y;return e.ownerDocument=this,e.appendData(t),e},createProcessingInstruction:function(t,e){var r=new et;return r.ownerDocument=this,r.tagName=r.target=t,r.nodeValue=r.data=e,r},createAttribute:function(t){var e=new H;return e.ownerDocument=this,e.name=t,e.nodeName=t,e.localName=t,e.specified=!0,e},createEntityReference:function(t){var e=new J;return e.ownerDocument=this,e.nodeName=t,e},createElementNS:function(t,e){var r=new B,n=e.split(":"),i=r.attributes=new T;return r.childNodes=new D,r.ownerDocument=this,r.nodeName=e,r.tagName=e,r.namespaceURI=t,2==n.length?(r.prefix=n[0],r.localName=n[1]):r.localName=e,i._ownerElement=r,r},createAttributeNS:function(t,e){var r=new H,n=e.split(":");return r.ownerDocument=this,r.nodeName=e,r.name=e,r.namespaceURI=t,r.specified=!0,2==n.length?(r.prefix=n[0],r.localName=n[1]):r.localName=e,r}},u(R,L),B.prototype={nodeType:h,hasAttribute:function(t){return null!=this.getAttributeNode(t)},getAttribute:function(t){var e=this.getAttributeNode(t);return e&&e.value||""},getAttributeNode:function(t){return this.attributes.getNamedItem(t)},setAttribute:function(t,e){var r=this.ownerDocument.createAttribute(t);r.value=r.nodeValue=""+e,this.setAttributeNode(r)},removeAttribute:function(t){var e=this.getAttributeNode(t);e&&this.removeAttributeNode(e)},appendChild:function(t){return t.nodeType===w?this.insertBefore(t,null):function(t,e){var r=e.parentNode;if(r){var n=t.lastChild;r.removeChild(e),n=t.lastChild}return n=t.lastChild,e.parentNode=t,e.previousSibling=n,e.nextSibling=null,n?n.nextSibling=e:t.firstChild=e,t.lastChild=e,W(t.ownerDocument,t,e),e}(this,t)},setAttributeNode:function(t){return this.attributes.setNamedItem(t)},setAttributeNodeNS:function(t){return this.attributes.setNamedItemNS(t)},removeAttributeNode:function(t){return this.attributes.removeNamedItem(t.nodeName)},removeAttributeNS:function(t,e){var r=this.getAttributeNodeNS(t,e);r&&this.removeAttributeNode(r)},hasAttributeNS:function(t,e){return null!=this.getAttributeNodeNS(t,e)},getAttributeNS:function(t,e){var r=this.getAttributeNodeNS(t,e);return r&&r.value||""},setAttributeNS:function(t,e,r){var n=this.ownerDocument.createAttributeNS(t,e);n.value=n.nodeValue=""+r,this.setAttributeNode(n)},getAttributeNodeNS:function(t,e){return this.attributes.getNamedItemNS(t,e)},getElementsByTagName:function(t){return new M(this,(function(e){var r=[];return P(e,(function(n){n===e||n.nodeType!=h||"*"!==t&&n.tagName!=t||r.push(n)})),r}))},getElementsByTagNameNS:function(t,e){return new M(this,(function(r){var n=[];return P(r,(function(i){i===r||i.nodeType!==h||"*"!==t&&i.namespaceURI!==t||"*"!==e&&i.localName!=e||n.push(i)})),n}))}},R.prototype.getElementsByTagName=B.prototype.getElementsByTagName,R.prototype.getElementsByTagNameNS=B.prototype.getElementsByTagNameNS,u(B,L),H.prototype.nodeType=d,u(H,L),X.prototype={data:"",substringData:function(t,e){return this.data.substring(t,t+e)},appendData:function(t){t=this.data+t,this.nodeValue=this.data=t,this.length=t.length},insertData:function(t,e){this.replaceData(t,0,e)},appendChild:function(t){throw new Error(A[N])},deleteData:function(t,e){this.replaceData(t,e,"")},replaceData:function(t,e,r){r=this.data.substring(0,t)+r+this.data.substring(t+e),this.nodeValue=this.data=r,this.length=r.length}},u(X,L),V.prototype={nodeName:"#text",nodeType:f,splitText:function(t){var e=this.data,r=e.substring(t);e=e.substring(0,t),this.data=this.nodeValue=e,this.length=e.length;var n=this.ownerDocument.createTextNode(r);return this.parentNode&&this.parentNode.insertBefore(n,this.nextSibling),n}},u(V,X),K.prototype={nodeName:"#comment",nodeType:y},u(K,X),Y.prototype={nodeName:"#cdata-section",nodeType:l},u(Y,X),$.prototype.nodeType=b,u($,L),Z.prototype.nodeType=x,u(Z,L),Q.prototype.nodeType=g,u(Q,L),J.prototype.nodeType=p,u(J,L),tt.prototype.nodeName="#document-fragment",tt.prototype.nodeType=w,u(tt,L),et.prototype.nodeType=m,u(et,L),rt.prototype.serializeToString=function(t,e,r){return nt.call(t,e,r)},L.prototype.toString=nt;try{if(Object.defineProperty){function ht(t){switch(t.nodeType){case h:case w:var e=[];for(t=t.firstChild;t;)7!==t.nodeType&&8!==t.nodeType&&e.push(ht(t)),t=t.nextSibling;return e.join("");default:return t.nodeValue}}Object.defineProperty(M.prototype,"length",{get:function(){return C(this),this.$$length}}),Object.defineProperty(L.prototype,"textContent",{get:function(){return ht(this)},set:function(t){switch(this.nodeType){case h:case w:for(;this.firstChild;)this.removeChild(this.firstChild);(t||String(t))&&this.appendChild(this.ownerDocument.createTextNode(t));break;default:this.data=t,this.value=t,this.nodeValue=t}}}),ct=function(t,e,r){t["$$"+e]=r}}}catch(t){}e.DocumentType=$,e.DOMException=S,e.DOMImplementation=z,e.Element=B,e.Node=L,e.NodeList=D,e.XMLSerializer=rt},1045:(t,e,r)=>{var n=r(2167).freeze;e.XML_ENTITIES=n({amp:"&",apos:"'",gt:">",lt:"<",quot:'"'}),e.HTML_ENTITIES=n({lt:"<",gt:">",amp:"&",quot:'"',apos:"'",Agrave:"À",Aacute:"Á",Acirc:"Â",Atilde:"Ã",Auml:"Ä",Aring:"Å",AElig:"Æ",Ccedil:"Ç",Egrave:"È",Eacute:"É",Ecirc:"Ê",Euml:"Ë",Igrave:"Ì",Iacute:"Í",Icirc:"Î",Iuml:"Ï",ETH:"Ð",Ntilde:"Ñ",Ograve:"Ò",Oacute:"Ó",Ocirc:"Ô",Otilde:"Õ",Ouml:"Ö",Oslash:"Ø",Ugrave:"Ù",Uacute:"Ú",Ucirc:"Û",Uuml:"Ü",Yacute:"Ý",THORN:"Þ",szlig:"ß",agrave:"à",aacute:"á",acirc:"â",atilde:"ã",auml:"ä",aring:"å",aelig:"æ",ccedil:"ç",egrave:"è",eacute:"é",ecirc:"ê",euml:"ë",igrave:"ì",iacute:"í",icirc:"î",iuml:"ï",eth:"ð",ntilde:"ñ",ograve:"ò",oacute:"ó",ocirc:"ô",otilde:"õ",ouml:"ö",oslash:"ø",ugrave:"ù",uacute:"ú",ucirc:"û",uuml:"ü",yacute:"ý",thorn:"þ",yuml:"ÿ",nbsp:" ",iexcl:"¡",cent:"¢",pound:"£",curren:"¤",yen:"¥",brvbar:"¦",sect:"§",uml:"¨",copy:"©",ordf:"ª",laquo:"«",not:"¬",shy:"­­",reg:"®",macr:"¯",deg:"°",plusmn:"±",sup2:"²",sup3:"³",acute:"´",micro:"µ",para:"¶",middot:"·",cedil:"¸",sup1:"¹",ordm:"º",raquo:"»",frac14:"¼",frac12:"½",frac34:"¾",iquest:"¿",times:"×",divide:"÷",forall:"∀",part:"∂",exist:"∃",empty:"∅",nabla:"∇",isin:"∈",notin:"∉",ni:"∋",prod:"∏",sum:"∑",minus:"−",lowast:"∗",radic:"√",prop:"∝",infin:"∞",ang:"∠",and:"∧",or:"∨",cap:"∩",cup:"∪",int:"∫",there4:"∴",sim:"∼",cong:"≅",asymp:"≈",ne:"≠",equiv:"≡",le:"≤",ge:"≥",sub:"⊂",sup:"⊃",nsub:"⊄",sube:"⊆",supe:"⊇",oplus:"⊕",otimes:"⊗",perp:"⊥",sdot:"⋅",Alpha:"Α",Beta:"Β",Gamma:"Γ",Delta:"Δ",Epsilon:"Ε",Zeta:"Ζ",Eta:"Η",Theta:"Θ",Iota:"Ι",Kappa:"Κ",Lambda:"Λ",Mu:"Μ",Nu:"Ν",Xi:"Ξ",Omicron:"Ο",Pi:"Π",Rho:"Ρ",Sigma:"Σ",Tau:"Τ",Upsilon:"Υ",Phi:"Φ",Chi:"Χ",Psi:"Ψ",Omega:"Ω",alpha:"α",beta:"β",gamma:"γ",delta:"δ",epsilon:"ε",zeta:"ζ",eta:"η",theta:"θ",iota:"ι",kappa:"κ",lambda:"λ",mu:"μ",nu:"ν",xi:"ξ",omicron:"ο",pi:"π",rho:"ρ",sigmaf:"ς",sigma:"σ",tau:"τ",upsilon:"υ",phi:"φ",chi:"χ",psi:"ψ",omega:"ω",thetasym:"ϑ",upsih:"ϒ",piv:"ϖ",OElig:"Œ",oelig:"œ",Scaron:"Š",scaron:"š",Yuml:"Ÿ",fnof:"ƒ",circ:"ˆ",tilde:"˜",ensp:" ",emsp:" ",thinsp:" ",zwnj:"‌",zwj:"‍",lrm:"‎",rlm:"‏",ndash:"–",mdash:"—",lsquo:"‘",rsquo:"’",sbquo:"‚",ldquo:"“",rdquo:"”",bdquo:"„",dagger:"†",Dagger:"‡",bull:"•",hellip:"…",permil:"‰",prime:"′",Prime:"″",lsaquo:"‹",rsaquo:"›",oline:"‾",euro:"€",trade:"™",larr:"←",uarr:"↑",rarr:"→",darr:"↓",harr:"↔",crarr:"↵",lceil:"⌈",rceil:"⌉",lfloor:"⌊",rfloor:"⌋",loz:"◊",spades:"♠",clubs:"♣",hearts:"♥",diams:"♦"}),e.entityMap=e.HTML_ENTITIES},3969:(t,e,r)=>{var n=r(1146);e.DOMImplementation=n.DOMImplementation,e.XMLSerializer=n.XMLSerializer,e.DOMParser=r(6129).DOMParser},6925:(t,e,r)=>{var n=r(2167).NAMESPACE,i=/[A-Z_a-z\xC0-\xD6\xD8-\xF6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,o=new RegExp("[\\-\\.0-9"+i.source.slice(1,-1)+"\\u00B7\\u0300-\\u036F\\u203F-\\u2040]"),a=new RegExp("^"+i.source+o.source+"*(?::"+i.source+o.source+"*)?$");function s(t,e){this.message=t,this.locator=e,Error.captureStackTrace&&Error.captureStackTrace(this,s)}function u(){}function c(t,e){return e.lineNumber=t.lineNumber,e.columnNumber=t.columnNumber,e}function h(t,e,r,i,o,a){function s(t,e,n){r.attributeNames.hasOwnProperty(t)&&a.fatalError("Attribute "+t+" redefined"),r.addValue(t,e,n)}for(var u,c=++e,h=0;;){var d=t.charAt(c);switch(d){case"=":if(1===h)u=t.slice(e,c),h=3;else{if(2!==h)throw new Error("attribute equal must after attrName");h=3}break;case"'":case'"':if(3===h||1===h){if(1===h&&(a.warning('attribute value must after "="'),u=t.slice(e,c)),e=c+1,!((c=t.indexOf(d,e))>0))throw new Error("attribute value no end '"+d+"' match");s(u,f=t.slice(e,c).replace(/&#?\w+;/g,o),e-1),h=5}else{if(4!=h)throw new Error('attribute value must after "="');s(u,f=t.slice(e,c).replace(/&#?\w+;/g,o),e),a.warning('attribute "'+u+'" missed start quot('+d+")!!"),e=c+1,h=5}break;case"/":switch(h){case 0:r.setTagName(t.slice(e,c));case 5:case 6:case 7:h=7,r.closed=!0;case 4:case 1:case 2:break;default:throw new Error("attribute invalid close char('/')")}break;case"":return a.error("unexpected end of input"),0==h&&r.setTagName(t.slice(e,c)),c;case">":switch(h){case 0:r.setTagName(t.slice(e,c));case 5:case 6:case 7:break;case 4:case 1:"/"===(f=t.slice(e,c)).slice(-1)&&(r.closed=!0,f=f.slice(0,-1));case 2:2===h&&(f=u),4==h?(a.warning('attribute "'+f+'" missed quot(")!'),s(u,f.replace(/&#?\w+;/g,o),e)):(n.isHTML(i[""])&&f.match(/^(?:disabled|checked|selected)$/i)||a.warning('attribute "'+f+'" missed value!! "'+f+'" instead!!'),s(f,f,e));break;case 3:throw new Error("attribute value missed!!")}return c;case"":d=" ";default:if(d<=" ")switch(h){case 0:r.setTagName(t.slice(e,c)),h=6;break;case 1:u=t.slice(e,c),h=2;break;case 4:var f=t.slice(e,c).replace(/&#?\w+;/g,o);a.warning('attribute "'+f+'" missed quot(")!!'),s(u,f,e);case 5:h=6}else switch(h){case 2:r.tagName,n.isHTML(i[""])&&u.match(/^(?:disabled|checked|selected)$/i)||a.warning('attribute "'+u+'" missed value!! "'+u+'" instead2!!'),s(u,u,e),e=c,h=1;break;case 5:a.warning('attribute space is required"'+u+'"!!');case 6:h=1,e=c;break;case 3:h=4,e=c;break;case 7:throw new Error("elements closed character '/' and '>' must be connected to")}}c++}}function d(t,e,r){for(var i=t.tagName,o=null,a=t.length;a--;){var s=t[a],u=s.qName,c=s.value;if((l=u.indexOf(":"))>0)var h=s.prefix=u.slice(0,l),d=u.slice(l+1),f="xmlns"===h&&d;else d=u,h=null,f="xmlns"===u&&"";s.localName=d,!1!==f&&(null==o&&(o={},p(r,r={})),r[f]=o[f]=c,s.uri=n.XMLNS,e.startPrefixMapping(f,c))}for(a=t.length;a--;)(h=(s=t[a]).prefix)&&("xml"===h&&(s.uri=n.XML),"xmlns"!==h&&(s.uri=r[h||""]));var l;(l=i.indexOf(":"))>0?(h=t.prefix=i.slice(0,l),d=t.localName=i.slice(l+1)):(h=null,d=t.localName=i);var g=t.uri=r[h||""];if(e.startElement(g,d,i,t),!t.closed)return t.currentNSMap=r,t.localNSMap=o,!0;if(e.endElement(g,d,i),o)for(h in o)e.endPrefixMapping(h)}function f(t,e,r,n,i){if(/^(?:script|textarea)$/i.test(r)){var o=t.indexOf("</"+r+">",e),a=t.substring(e+1,o);if(/[&<]/.test(a))return/^script$/i.test(r)?(i.characters(a,0,a.length),o):(a=a.replace(/&#?\w+;/g,n),i.characters(a,0,a.length),o)}return e+1}function l(t,e,r,n){var i=n[r];return null==i&&((i=t.lastIndexOf("</"+r+">"))<e&&(i=t.lastIndexOf("</"+r)),n[r]=i),i<e}function p(t,e){for(var r in t)e[r]=t[r]}function g(t,e,r,n){if("-"===t.charAt(e+2))return"-"===t.charAt(e+3)?(i=t.indexOf("--\x3e",e+4))>e?(r.comment(t,e+4,i-e-4),i+3):(n.error("Unclosed comment"),-1):-1;if("CDATA["==t.substr(e+3,6)){var i=t.indexOf("]]>",e+9);return r.startCDATA(),r.characters(t,e+9,i-e-9),r.endCDATA(),i+3}var o=function(t,e){var r,n=[],i=/'[^']+'|"[^"]+"|[^\s<>\/=]+=?|(\/?\s*>|<)/g;for(i.lastIndex=e,i.exec(t);r=i.exec(t);)if(n.push(r),r[1])return n}(t,e),a=o.length;if(a>1&&/!doctype/i.test(o[0][0])){var s=o[1][0],u=!1,c=!1;a>3&&(/^public$/i.test(o[2][0])?(u=o[3][0],c=a>4&&o[4][0]):/^system$/i.test(o[2][0])&&(c=o[3][0]));var h=o[a-1];return r.startDTD(s,u,c),r.endDTD(),h.index+h[0].length}return-1}function m(t,e,r){var n=t.indexOf("?>",e);if(n){var i=t.substring(e,n).match(/^<\?(\S*)\s*([\s\S]*?)\s*$/);return i?(i[0].length,r.processingInstruction(i[1],i[2]),n+2):-1}return-1}function y(){this.attributeNames={}}s.prototype=new Error,s.prototype.name=s.name,u.prototype={parse:function(t,e,r){var i=this.domBuilder;i.startDocument(),p(e,e={}),function(t,e,r,i,o){function a(t){var e=t.slice(1,-1);return e in r?r[e]:"#"===e.charAt(0)?function(t){if(t>65535){var e=55296+((t-=65536)>>10),r=56320+(1023&t);return String.fromCharCode(e,r)}return String.fromCharCode(t)}(parseInt(e.substr(1).replace("x","0x"))):(o.error("entity not found:"+t),t)}function u(e){if(e>N){var r=t.substring(N,e).replace(/&#?\w+;/g,a);x&&p(N),i.characters(r,0,e-N),N=e}}function p(e,r){for(;e>=b&&(r=w.exec(t));)v=r.index,b=v+r[0].length,x.lineNumber++;x.columnNumber=e-v+1}for(var v=0,b=0,w=/.*(?:\r\n?|\n)|.*$/g,x=i.locator,E=[{currentNSMap:e}],A={},N=0;;){try{var _=t.indexOf("<",N);if(_<0){if(!t.substr(N).match(/^\s*$/)){var k=i.doc,S=k.createTextNode(t.substr(N));k.appendChild(S),i.currentElement=S}return}switch(_>N&&u(_),t.charAt(_+1)){case"/":var D=t.indexOf(">",_+3),M=t.substring(_+2,D).replace(/[ \t\n\r]+$/g,""),C=E.pop();D<0?(M=t.substring(_+2).replace(/[\s<].*/,""),o.error("end tag name: "+M+" is not complete:"+C.tagName),D=_+1+M.length):M.match(/\s</)&&(M=M.replace(/[\s<].*/,""),o.error("end tag name: "+M+" maybe not complete"),D=_+1+M.length);var T=C.localNSMap,O=C.tagName==M;if(O||C.tagName&&C.tagName.toLowerCase()==M.toLowerCase()){if(i.endElement(C.uri,C.localName,M),T)for(var G in T)i.endPrefixMapping(G);O||o.fatalError("end tag name: "+M+" is not match the current start tagName:"+C.tagName)}else E.push(C);D++;break;case"?":x&&p(_),D=m(t,_,i);break;case"!":x&&p(_),D=g(t,_,i,o);break;default:x&&p(_);var I=new y,z=E[E.length-1].currentNSMap,L=(D=h(t,_,I,z,a,o),I.length);if(!I.closed&&l(t,D,I.tagName,A)&&(I.closed=!0,r.nbsp||o.warning("unclosed xml attribute")),x&&L){for(var U=c(x,{}),P=0;P<L;P++){var R=I[P];p(R.offset),R.locator=c(x,{})}i.locator=U,d(I,i,z)&&E.push(I),i.locator=x}else d(I,i,z)&&E.push(I);n.isHTML(I.uri)&&!I.closed?D=f(t,D,I.tagName,a,i):D++}}catch(t){if(t instanceof s)throw t;o.error("element parse error: "+t),D=-1}D>N?N=D:u(Math.max(_,N)+1)}}(t,e,r,i,this.errorHandler),i.endDocument()}},y.prototype={setTagName:function(t){if(!a.test(t))throw new Error("invalid tagName:"+t);this.tagName=t},addValue:function(t,e,r){if(!a.test(t))throw new Error("invalid attribute:"+t);this.attributeNames[t]=this.length,this[this.length++]={qName:t,value:e,offset:r}},length:0,getLocalName:function(t){return this[t].localName},getLocator:function(t){return this[t].locator},getQName:function(t){return this[t].qName},getURI:function(t){return this[t].uri},getValue:function(t){return this[t].value}},e.XMLReader=u,e.ParseError=s},9315:(t,e,r)=>{var n=r(7432),i=r(6186),o=r(3349),a=r(7775),s=r(3265),u=r(9502).createRandomIndex,c=r(478),h=c.UndirectedLouvainIndex,d=c.DirectedLouvainIndex,f={attributes:{community:"community",weight:"weight"},fastLocalMoves:!0,randomWalk:!0,resolution:1,rng:Math.random,weighted:!1};function l(t,e,r){var n=t.get(e);void 0===n&&(n=0),n+=r,t.set(e,n)}function p(t,e,r,n,i){return Math.abs(n-i)<1e-10?t!==e&&r>t:n>i}function g(t,e,r){var n,i,o,c,d,f,g,m,y,v,b,w,x,E,A,N,_,k,S,D=new h(e,{attributes:{weight:r.attributes.weight},keepDendrogram:t,resolution:r.resolution,weighted:r.weighted}),M=u(r.rng),C=!0,T=!0,O=new a(Float64Array,D.C),G=0,I=0,z=[];for(r.fastLocalMoves&&(o=new s(D.C));C;){if(w=D.C,C=!1,T=!0,r.fastLocalMoves){for(S=0,m=r.randomWalk?M(w):0,y=0;y<w;y++,m++)v=m%w,o.enqueue(v);for(;0!==o.size;){for(v=o.dequeue(),I++,x=0,O.clear(),n=D.belongings[v],c=D.starts[v],d=D.starts[v+1];c<d;c++)b=D.neighborhood[c],x+=f=D.weights[c],l(O,i=D.belongings[b],f);for(N=D.fastDeltaWithOwnCommunity(v,x,O.get(n)||0,n),A=n,g=0;g<O.size;g++)(i=O.dense[g])!==n&&(E=O.vals[g],G++,p(A,n,i,_=D.fastDelta(v,x,E,i),N)&&(N=_,A=i));if(N<0){if((A=D.isolate(v,x))===n)continue}else{if(A===n)continue;D.move(v,x,A)}for(C=!0,S++,c=D.starts[v],d=D.starts[v+1];c<d;c++)b=D.neighborhood[c],(i=D.belongings[b])!==A&&o.enqueue(b)}z.push(S)}else for(k=[],z.push(k);T;){for(T=!1,S=0,m=r.randomWalk?M(w):0,y=0;y<w;y++,m++){for(v=m%w,I++,x=0,O.clear(),n=D.belongings[v],c=D.starts[v],d=D.starts[v+1];c<d;c++)b=D.neighborhood[c],x+=f=D.weights[c],l(O,i=D.belongings[b],f);for(N=D.fastDeltaWithOwnCommunity(v,x,O.get(n)||0,n),A=n,g=0;g<O.size;g++)(i=O.dense[g])!==n&&(E=O.vals[g],G++,p(A,n,i,_=D.fastDelta(v,x,E,i),N)&&(N=_,A=i));if(N<0){if((A=D.isolate(v,x))===n)continue}else{if(A===n)continue;D.move(v,x,A)}T=!0,S++}k.push(S),C=T||C}C&&D.zoomOut()}return{index:D,deltaComputations:G,nodesVisited:I,moves:z}}function m(t,e,r){var n,i,o,c,h,f,g,m,y,v,b,w,x,E,A,N,_,k,S,D,M,C,T=new d(e,{attributes:{weight:r.attributes.weight},keepDendrogram:t,resolution:r.resolution,weighted:r.weighted}),O=u(r.rng),G=!0,I=!0,z=new a(Float64Array,T.C),L=0,U=0,P=[];for(r.fastLocalMoves&&(o=new s(T.C));G;){if(E=T.C,G=!1,I=!0,r.fastLocalMoves){for(C=0,v=r.randomWalk?O(E):0,b=0;b<E;b++,v++)w=v%E,o.enqueue(w);for(;0!==o.size;){for(w=o.dequeue(),U++,A=0,N=0,z.clear(),n=T.belongings[w],c=T.starts[w],h=T.starts[w+1],f=T.offsets[w];c<h;c++)g=c<f,x=T.neighborhood[c],m=T.weights[c],g?N+=m:A+=m,l(z,i=T.belongings[x],m);for(S=T.deltaWithOwnCommunity(w,A,N,z.get(n)||0,n),k=n,y=0;y<z.size;y++)(i=z.dense[y])!==n&&(_=z.vals[y],L++,p(k,n,i,D=T.delta(w,A,N,_,i),S)&&(S=D,k=i));if(S<0){if((k=T.isolate(w,A,N))===n)continue}else{if(k===n)continue;T.move(w,A,N,k)}for(G=!0,C++,c=T.starts[w],h=T.starts[w+1];c<h;c++)x=T.neighborhood[c],(i=T.belongings[x])!==k&&o.enqueue(x)}P.push(C)}else for(M=[],P.push(M);I;){for(I=!1,C=0,v=r.randomWalk?O(E):0,b=0;b<E;b++,v++){for(w=v%E,U++,A=0,N=0,z.clear(),n=T.belongings[w],c=T.starts[w],h=T.starts[w+1],f=T.offsets[w];c<h;c++)g=c<f,x=T.neighborhood[c],m=T.weights[c],g?N+=m:A+=m,l(z,i=T.belongings[x],m);for(S=T.deltaWithOwnCommunity(w,A,N,z.get(n)||0,n),k=n,y=0;y<z.size;y++)(i=z.dense[y])!==n&&(_=z.vals[y],L++,p(k,n,i,D=T.delta(w,A,N,_,i),S)&&(S=D,k=i));if(S<0){if((k=T.isolate(w,A,N))===n)continue}else{if(k===n)continue;T.move(w,A,N,k)}I=!0,C++}M.push(C),G=I||G}G&&T.zoomOut()}return{index:T,deltaComputations:L,nodesVisited:U,moves:P}}function y(t,e,r,a){if(!i(r))throw new Error("graphology-communities-louvain: the given graph is not a valid graphology instance.");var s=o(r);if("mixed"===s)throw new Error("graphology-communities-louvain: cannot run the algorithm on a true mixed graph.");a=n(a,f);var u=0;if(0===r.size){if(t)return void r.forEachNode((function(t){r.setNodeAttribute(t,a.attributes.communities,u++)}));var c={};return r.forEachNode((function(t){c[t]=u++})),e?{communities:c,count:r.order,deltaComputations:0,dendrogram:null,level:0,modularity:NaN,moves:null,nodesVisited:0,resolution:a.resolution}:c}var h=("undirected"===s?g:m)(e,r,a),d=h.index;if(!e)return t?void d.assign(a.attributes.community):d.collect();var l={count:d.C,deltaComputations:h.deltaComputations,dendrogram:d.dendrogram,level:d.level,modularity:d.modularity(),moves:h.moves,nodesVisited:h.nodesVisited,resolution:a.resolution};return t?(d.assign(a.attributes.community),l):(l.communities=d.collect(),l)}var v=y.bind(null,!1,!1);v.assign=y.bind(null,!0,!1),v.detailed=y.bind(null,!1,!0),v.defaults=f,t.exports=v},7775:(t,e,r)=>{var n=r(4993),i=r(2041).getPointerArray;function o(t,e){arguments.length<2&&(e=t,t=Array);var r=i(e);this.size=0,this.length=e,this.dense=new r(e),this.sparse=new r(e),this.vals=new t(e)}o.prototype.clear=function(){this.size=0},o.prototype.has=function(t){var e=this.sparse[t];return e<this.size&&this.dense[e]===t},o.prototype.get=function(t){var e=this.sparse[t];if(e<this.size&&this.dense[e]===t)return this.vals[e]},o.prototype.set=function(t,e){var r=this.sparse[t];return r<this.size&&this.dense[r]===t?(this.vals[r]=e,this):(this.dense[this.size]=t,this.sparse[t]=this.size,this.vals[this.size]=e,this.size++,this)},o.prototype.delete=function(t){var e=this.sparse[t];return!(e>=this.size||this.dense[e]!==t||(e=this.dense[this.size-1],this.dense[this.sparse[t]]=e,this.sparse[e]=this.sparse[t],this.size--,0))},o.prototype.forEach=function(t,e){e=arguments.length>1?e:this;for(var r=0;r<this.size;r++)t.call(e,this.vals[r],this.dense[r])},o.prototype.keys=function(){var t=this.size,e=this.dense,r=0;return new n((function(){if(r<t){var n=e[r];return r++,{value:n}}return{done:!0}}))},o.prototype.values=function(){var t=this.size,e=this.vals,r=0;return new n((function(){if(r<t){var n=e[r];return r++,{value:n}}return{done:!0}}))},o.prototype.entries=function(){var t=this.size,e=this.dense,r=this.vals,i=0;return new n((function(){if(i<t){var n=[e[i],r[i]];return i++,{value:n}}return{done:!0}}))},"undefined"!=typeof Symbol&&(o.prototype[Symbol.iterator]=o.prototype.entries),o.prototype.inspect=function(){for(var t=new Map,e=0;e<this.size;e++)t.set(this.dense[e],this.vals[e]);return Object.defineProperty(t,"constructor",{value:o,enumerable:!1}),t.length=this.length,this.vals.constructor!==Array&&(t.type=this.vals.constructor.name),t},"undefined"!=typeof Symbol&&(o.prototype[Symbol.for("nodejs.util.inspect.custom")]=o.prototype.inspect),t.exports=o},3265:(t,e,r)=>{var n=r(4993),i=r(2041).getPointerArray;function o(t){var e=i(t);this.start=0,this.size=0,this.capacity=t,this.dense=new e(t),this.sparse=new e(t)}o.prototype.clear=function(){this.start=0,this.size=0},o.prototype.has=function(t){if(0===this.size)return!1;var e=this.sparse[t];return(e<this.capacity&&e>=this.start&&e<this.start+this.size||e<(this.start+this.size)%this.capacity)&&this.dense[e]===t},o.prototype.enqueue=function(t){var e=this.sparse[t];return 0!==this.size&&(e<this.capacity&&e>=this.start&&e<this.start+this.size||e<(this.start+this.size)%this.capacity)&&this.dense[e]===t||(e=(this.start+this.size)%this.capacity,this.dense[e]=t,this.sparse[t]=e,this.size++),this},o.prototype.dequeue=function(){if(0!==this.size){var t=this.start;this.size--,this.start++,this.start===this.capacity&&(this.start=0);var e=this.dense[t];return this.sparse[e]=this.capacity,e}},o.prototype.forEach=function(t,e){e=arguments.length>1?e:this;for(var r=this.capacity,n=this.size,i=this.start,o=0;o<n;)t.call(e,this.dense[i],o,this),o++,++i===r&&(i=0)},o.prototype.values=function(){var t=this.dense,e=this.capacity,r=this.size,i=this.start,o=0;return new n((function(){if(o>=r)return{done:!0};var n=t[i];return i++,o++,i===e&&(i=0),{value:n,done:!1}}))},"undefined"!=typeof Symbol&&(o.prototype[Symbol.iterator]=o.prototype.values),o.prototype.inspect=function(){var t=[];return this.forEach((function(e){t.push(e)})),Object.defineProperty(t,"constructor",{value:o,enumerable:!1}),t.capacity=this.capacity,t},"undefined"!=typeof Symbol&&(o.prototype[Symbol.for("nodejs.util.inspect.custom")]=o.prototype.inspect),t.exports=o},2041:(t,e)=>{var r=Math.pow(2,8)-1,n=Math.pow(2,16)-1,i=Math.pow(2,32)-1,o=Math.pow(2,7)-1,a=Math.pow(2,15)-1,s=Math.pow(2,31)-1;e.getPointerArray=function(t){var e=t-1;if(e<=r)return Uint8Array;if(e<=n)return Uint16Array;if(e<=i)return Uint32Array;throw new Error("mnemonist: Pointer Array of size > 4294967295 is not supported.")},e.getSignedPointerArray=function(t){var e=t-1;return e<=o?Int8Array:e<=a?Int16Array:e<=s?Int32Array:Float64Array},e.getNumberType=function(t){return t===(0|t)?-1===Math.sign(t)?t<=127&&t>=-128?Int8Array:t<=32767&&t>=-32768?Int16Array:Int32Array:t<=255?Uint8Array:t<=65535?Uint16Array:Uint32Array:Float64Array};var u={Uint8Array:1,Int8Array:2,Uint16Array:3,Int16Array:4,Uint32Array:5,Int32Array:6,Float32Array:7,Float64Array:8};e.getMinimalRepresentation=function(t,r){var n,i,o,a,s,c=null,h=0;for(a=0,s=t.length;a<s;a++)o=r?r(t[a]):t[a],i=e.getNumberType(o),(n=u[i.name])>h&&(h=n,c=i);return c},e.isTypedArray=function(t){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView(t)},e.concat=function(){var t,e,r,n=0;for(t=0,r=arguments.length;t<r;t++)n+=arguments[t].length;var i=new arguments[0].constructor(n);for(t=0,e=0;t<r;t++)i.set(arguments[t],e),e+=arguments[t].length;return i},e.indices=function(t){for(var r=new(e.getPointerArray(t))(t),n=0;n<t;n++)r[n]=n;return r}},7362:(t,e)=>{e.cast=function(t,e){switch(t){case"boolean":e="true"===e;break;case"integer":case"long":case"float":case"double":e=+e;break;case"liststring":e=e?e.split("|"):[]}return e};var r=/["'<>&\s]/g;e.sanitizeTagName=function(t){return t.replace(r,"").trim()}},2443:(t,e,r)=>{var n=r(8465),i=r(4325).rW,o=r(3417),a=r(7183),s=r(7362).cast;function u(t,e){var r=t.getElementsByTagName("viz:"+e)[0];return r||(r=t.getElementsByTagNameNS("viz",e)[0]),r||(r=t.getElementsByTagName(e)[0]),r}function c(t){for(var e,r,n,i,o={},a={},u=0,c=t.length;u<c;u++)o[n=(e=t[u]).getAttribute("id")||e.getAttribute("for")]={id:n,type:e.getAttribute("type")||"string",title:(i=+n,i==i&&e.getAttribute("title")||n)},(r=e.getElementsByTagName("default")[0])&&(a[o[n].title]=s(o[n].type,r.textContent));return[o,a]}function h(t,e,r){var n={},i=r.getAttribute("label"),o=r.getAttribute("weight");i&&(n.label=i),o&&(n.weight=+o);for(var a,c,h,d=r.getElementsByTagName("attvalue"),f=0,l=d.length;f<l;f++)n[t[c=(a=d[f]).getAttribute("id")||a.getAttribute("for")].title]=s(t[c].type,a.getAttribute("value"));for(h in e)h in n||(n[h]=e[h]);var p,g,m,y=u(r,"color");return y&&(n.color=function(t){var e=t.getAttribute("a"),r=t.getAttribute("r"),n=t.getAttribute("g"),i=t.getAttribute("b");return e?"rgba("+r+","+n+","+i+","+e+")":"rgb("+r+","+n+","+i+")"}(y)),(y=u(r,"size"))&&(n.size=+y.getAttribute("value")),(y=u(r,"position"))&&(p=y.getAttribute("x"),g=y.getAttribute("y"),m=y.getAttribute("z"),p&&(n.x=+p),g&&(n.y=+g),m&&(n.z=+m)),(y=u(r,"shape"))&&(n.shape=y.getAttribute("value")),(y=u(r,"thickness"))&&(n.thickness=+y.getAttribute("value")),n}t.exports=function(t,e){return function(r,s,u){var d,f,l,p,g,m,y,v,b,w,x=!0===(u=u||{}).addMissingNodes,E=s;if(!n(r))throw new Error("graphology-gexf/parser: invalid Graph constructor.");if("string"==typeof s&&(E=(new t).parseFromString(s,"application/xml")),!(E instanceof e))throw new Error("graphology-gexf/parser: source should either be a XML document or a string.");var A=E.getElementsByTagName("graph")[0],N=E.getElementsByTagName("meta")[0],_=N&&N.childNodes||[],k=E.getElementsByTagName("node"),S=E.getElementsByTagName("edge"),D=E.getElementsByTagName("attributes"),M=[],C=[];for(b=0,w=D.length;b<w;b++)"node"===(f=D[b]).getAttribute("class")?M=f.getElementsByTagName("attribute"):"edge"===f.getAttribute("class")&&(C=f.getElementsByTagName("attribute"));var T=A.getAttribute("defaultedgetype")||"undirected";"mutual"===T&&(T="undirected");var O=(l=c(M))[0],G=l[1],I=(l=c(C))[0],z=l[1],L=new r({type:S[0]?S[0].getAttribute("type")||T:"mixed"}),U=function(t){for(var e,r={},n=0,i=t.length;n<i;n++)"#text"!==(e=t[n]).nodeName&&e.textContent.trim()&&(r[e.tagName.toLowerCase()]=e.textContent);return r}(_),P=N&&N.getAttribute("lastmodifieddate");for(L.replaceAttributes(U),P&&L.setAttribute("lastModifiedDate",P),b=0,w=k.length;b<w;b++)f=k[b],L.addNode(f.getAttribute("id"),h(O,G,f));for(b=0,w=S.length;b<w;b++)if(m=(f=S[b]).getAttribute("id"),p=f.getAttribute("type")||T,y=f.getAttribute("source"),v=f.getAttribute("target"),g=h(I,z,f),p!==L.type&&"mixed"!==L.type&&(L=o(L)),!L.multi&&("directed"===p&&L.hasDirectedEdge(y,v)||L.hasUndirectedEdge(y,v))&&(L=a(L)),d=i(L,"directed"!==p,m||null,y,v,g),!x&&(d[2]||d[3]))throw new Error("graphology-gexf/parser: one of your gexf file edges points to an inexisting node. Set the parser `addMissingNodes` option to `true` if you do not care.");return L}}},9929:(t,e,r)=>{var n=r(6186),i=r(3349),o=r(1513),a=r(7362).sanitizeTagName,s=new Set(["color","size","x","y","z","shape","thickness"]),u=/^\s*rgba?\s*\(/i,c=/^\s*rgba?\s*\(\s*([0-9]*)\s*,\s*([0-9]*)\s*,\s*([0-9]*)\s*(?:,\s*([.0-9]*))?\)\s*$/;function h(t){if(!t||"string"!=typeof t)return{};if("#"===t[0])return 3===(t=t.slice(1)).length?{r:parseInt(t[0]+t[0],16),g:parseInt(t[1]+t[1],16),b:parseInt(t[2]+t[2],16)}:{r:parseInt(t[0]+t[1],16),g:parseInt(t[2]+t[3],16),b:parseInt(t[4]+t[5],16)};if(u.test(t)){var e={};return t=t.match(c),e.r=+t[1],e.g=+t[2],e.b=+t[3],t[4]&&(e.a=+t[4]),e}return{}}function d(t,e,r){var n,i={};for(n in r)"label"===n?i.label=r.label:"edge"===t&&"weight"===n?i.weight=r.weight:s.has(n)?(i.viz=i.viz||{},i.viz[n]=r[n]):(i.attributes=i.attributes||{},i.attributes[n]=r[n]);return i}function f(t){return null==t||""===t||t!=t}function l(t,e){return"liststring"===t&&Array.isArray(e)?e.join("|"):""+e}function p(t){for(var e,r,n,i,o,a={},s=0,u=t.length;s<u;s++)if(e=t[s].attributes)for(n in e)o=void 0,"empty"!=(r=f(i=e[n])?"empty":Array.isArray(i)?"liststring":"boolean"==typeof i?"boolean":"object"==typeof i?"string":"number"==typeof i?i===(0|i)?(o=i)<=2147483647&&o>=-2147483647?"integer":"long":"double":"string")&&(a[n]?"integer"===a[n]&&"long"===r?a[n]=r:a[n]!==r&&(a[n]="string"):a[n]=r);return a}function g(t,e,r){var n;if(Object.keys(e).length){for(n in t.startElement("attributes"),t.writeAttribute("class",r),e)t.startElement("attribute"),t.writeAttribute("id",n),t.writeAttribute("title",n),t.writeAttribute("type",e[n]),t.endElement();t.endElement()}}function m(t,e,r,n){var i,o,a,s,u,c,d,p,g,m,y,v=!Object.keys(r).length;for(t.startElement(e+"s"),m=0,y=n.length;m<y;m++){if(c=(i=n[m]).attributes,p=i.viz,t.startElement(e),t.writeAttribute("id",i.key),"edge"===e&&((u=i.undirected?"undirected":"directed")!==t.defaultEdgeType&&t.writeAttribute("type",u),t.writeAttribute("source",i.source),t.writeAttribute("target",i.target),("number"==typeof(d=i.weight)&&!isNaN(d)||"string"==typeof d)&&t.writeAttribute("weight",i.weight)),i.label&&t.writeAttribute("label",i.label),!v&&c){for(o in t.startElement("attvalues"),r)if(o in c){if(f(s=c[o]))continue;t.startElement("attvalue"),t.writeAttribute("for",o),t.writeAttribute("value",l(r[o],s)),t.endElement()}t.endElement()}if(p){if(p.color){for(g in a=h(p.color),t.startElementNS("viz","color"),a)t.writeAttribute(g,a[g]);t.endElement()}"size"in p&&(t.startElementNS("viz","size"),t.writeAttribute("value",p.size),t.endElement()),("x"in p||"y"in p||"z"in p)&&(t.startElementNS("viz","position"),"x"in p&&t.writeAttribute("x",p.x),"y"in p&&t.writeAttribute("y",p.y),"z"in p&&t.writeAttribute("z",p.z),t.endElement()),p.shape&&(t.startElementNS("viz","shape"),t.writeAttribute("value",p.shape),t.endElement()),"thickness"in p&&(t.startElementNS("viz","thickness"),t.writeAttribute("value",p.thickness),t.endElement())}t.endElement()}t.endElement()}var y={encoding:"UTF-8",pretty:!0,formatNode:d.bind(null,"node"),formatEdge:d.bind(null,"edge")};t.exports=function(t,e){if(!n(t))throw new Error("graphology-gexf/writer: invalid graphology instance.");var r=!1!==(e=e||{}).pretty&&"  ",s=e.formatNode||y.formatNode,u=e.formatEdge||y.formatEdge,c=new o(r);c.startDocument("1.0",e.encoding||y.encoding),c.startElement("gexf"),c.writeAttribute("version","1.2"),c.writeAttribute("xmlns","http://www.gexf.net/1.2draft"),c.writeAttribute("xmlns:viz","http:///www.gexf.net/1.1draft/viz"),c.startElement("meta");var h,d=t.getAttributes();for(var f in d.lastModifiedDate&&c.writeAttribute("lastmodifieddate",d.lastModifiedDate),d)"lastModifiedDate"!==f&&(h=a(f))&&c.writeElement(h,d[f]);c.endElement(),c.startElement("graph");var l=i(t);c.defaultEdgeType="mixed"===l?"directed":l,c.writeAttribute("defaultedgetype",c.defaultEdgeType);var v=function(t,e){var r=new Array(t.order),n=0;return t.forEachNode((function(t,i){var o=e(t,i);o.key=t,r[n++]=o})),r}(t,s),b=function(t,e){var r=new Array(t.size),n=0;return t.forEachEdge((function(t,i,o,a,s,u,c){var h=e(t,i);h.key=t,h.source=o,h.target=a,h.undirected=c,r[n++]=h})),r}(t,u),w=p(v);g(c,w,"node");var x=p(b);return g(c,x,"edge"),m(c,"node",w,v),m(c,"edge",x,b),c.toString()}},1861:(t,e,r)=>{t.exports=r(4888)},4888:(t,e,r)=>{var n=r(3969),i=r(2443),o=(new n.DOMParser).parseFromString("<t></t>","application/xml");e.parse=i(n.DOMParser,o.constructor),e.write=r(9929)},8752:(t,e)=>{function r(t){return("0"+(0|t).toString(16)).slice(-2)}e.DEFAULT_FORMATTER=function(t){var e,n,i,o;return"number"==typeof t.r&&"number"==typeof t.g&&"number"==typeof t.b?((e=function(t){var e={};for(var r in t)"r"!==r&&"g"!==r&&"b"!==r&&(e[r]=t[r]);return e}(t)).color=(n=t.r,i=t.g,o=t.b,"#"+r(n)+r(i)+r(o)),e):t}},5386:(t,e,r)=>{var n=r(8465),i=r(4325).rW,o=r(8752).DEFAULT_FORMATTER;function a(t){return+t}var s={boolean:function(t){return"true"===t.toLowerCase()},int:a,long:a,float:a,double:a,string:function(t){return t}};function u(t,e,r){var n,i,o,a,s,u=r.getElementsByTagName("data"),c={};for(i=0,o=u.length;i<o;i++)void 0===(s=t[a=(n=u[i]).getAttribute("key")])?c[a]=n.textContent:c[s.name]=s.cast(n.textContent);for(a in e)a in c||(c[a]=e[a]);return c}t.exports=function(t,e){return function(r,a,c){var h,d=!0===(c=c||{}).addMissingNodes,f=a;if(!n(r))throw new Error("graphology-graphml/parser: invalid Graph constructor.");if("string"==typeof a&&(f=(new t).parseFromString(a,"application/xml")),!(f instanceof e))throw new Error("graphology-gexf/parser: source should either be a XML document or a string.");var l=f.getElementsByTagName("graph")[0],p=function(t){for(var e,r=t.childNodes,n=[],i=0,o=r.length;i<o;i++)if(1===(e=r[i]).nodeType){if("data"!==e.tagName.toLowerCase())break;n.push(e)}return n}(l),g=f.getElementsByTagName("key"),m=f.getElementsByTagName("node"),y=f.getElementsByTagName("edge"),v=l.getAttribute("edgedefault")||"undirected",b=function(t){var e,r,n,i,o,a,u,c,h,d={graph:{},node:{},edge:{}},f={graph:{},node:{},edge:{}};for(e=0,r=t.length;e<r;e++)n=(u=t[e]).getAttribute("for")||"node",i=u.getAttribute("id"),o=u.getAttribute("attr.name"),a=u.getAttribute("attr.type")||"string",h=void 0,0!==(c=u.getElementsByTagName("default")).length&&(h=c[0].textContent),d[n][i]={name:o,cast:s[a]},void 0!==h&&(f[n][o]=h);return{models:d,defaults:f}}(g),w=new r({type:v}),x=l.getAttribute("id");x&&w.setAttribute("id",x);var E=f.createElement("graph");p.forEach((function(t){E.appendChild(t)}));var A,N,_,k,S,D,M,C,T,O=u(b.models.graph,b.defaults.graph,E);for(w.mergeAttributes(O),A=0,N=m.length;A<N;A++)k=(_=m[A]).getAttribute("id"),S=u(b.models.node,b.defaults.node,_),S=o(S),w.addNode(k,S);for(A=0,N=y.length;A<N;A++)if(k=(D=y[A]).getAttribute("id"),M=D.getAttribute("source"),C=D.getAttribute("target"),T="true"===D.getAttribute("directed")?"directed":v,S=u(b.models.edge,b.defaults.edge,D),S=o(S),"mixed"!==!w.type&&T!==w.type&&w.upgradeToMixed(),w.multi||("undirected"===T?w.hasUndirectedEdge(M,C)&&w.upgradeToMulti():w.hasDirectedEdge(M,C)&&w.upgradeToMulti()),h=i(w,"undirected"===T,k||null,M,C,S),!d&&(h[2]||h[3]))throw new Error("graphology-graphml/parser: one of your graphml file edges points to an inexisting node. Set the parser `addMissingNodes` option to `true` if you do not care.");return w}}},8876:(t,e,r)=>{t.exports=r(372)},372:(t,e,r)=>{var n=r(3969),i=r(5386),o=(new n.DOMParser).parseFromString("<t></t>","application/xml");e.parse=i(n.DOMParser,o.constructor)},478:(t,e,r)=>{var n=r(7087),i=Symbol.for("nodejs.util.inspect.custom"),o="weight";function a(t,e){var r=(e=e||{}).attributes||{},i=!0===e.keepDendrogram,a="number"==typeof e.resolution?e.resolution:1,s=!0===e.weighted,u=r.weight||o,c=2*(t.size-t.selfLoopCount),h=n.getPointerArray(c),d=n.getPointerArray(t.order+1),f=s?Float64Array:n.getPointerArray(2*t.size);this.C=t.order,this.M=0,this.E=c,this.U=0,this.resolution=a,this.level=0,this.graph=t,this.nodes=new Array(t.order),this.keepDendrogram=i,this.neighborhood=new d(c),this.weights=new f(c),this.loops=new f(t.order),this.starts=new h(t.order+1),this.belongings=new d(t.order),this.dendrogram=[],this.mapping=null,this.counts=new d(t.order),this.unused=new d(t.order),this.totalWeights=new f(t.order);var l,p={},g=0,m=0,y=this;t.forEachNode((function(e){y.nodes[g]=e,p[e]=g,m+=t.undirectedDegreeWithoutSelfLoops(e),y.starts[g]=m,y.belongings[g]=g,y.counts[g]=1,g++})),t.forEachEdge((function(t,e,r,n){if(l=function(t){if(!s)return 1;var e=t[u];return"number"!=typeof e||isNaN(e)?1:e}(e),r=p[r],n=p[n],y.M+=l,r===n)y.totalWeights[r]+=2*l,y.loops[r]=2*l;else{y.totalWeights[r]+=l,y.totalWeights[n]+=l;var i=--y.starts[r],o=--y.starts[n];y.neighborhood[i]=n,y.neighborhood[o]=r,y.weights[i]=l,y.weights[o]=l}})),this.starts[g]=this.E,this.keepDendrogram?this.dendrogram.push(this.belongings.slice()):this.mapping=this.belongings.slice()}function s(t,e){var r=(e=e||{}).attributes||{},i=!0===e.keepDendrogram,a="number"==typeof e.resolution?e.resolution:1,s=!0===e.weighted,u=r.weight||o,c=2*(t.size-t.selfLoopCount),h=n.getPointerArray(c),d=n.getPointerArray(t.order+1),f=s?Float64Array:n.getPointerArray(2*t.size);this.C=t.order,this.M=0,this.E=c,this.U=0,this.resolution=a,this.level=0,this.graph=t,this.nodes=new Array(t.order),this.keepDendrogram=i,this.neighborhood=new d(c),this.weights=new f(c),this.loops=new f(t.order),this.starts=new h(t.order+1),this.offsets=new h(t.order),this.belongings=new d(t.order),this.dendrogram=[],this.counts=new d(t.order),this.unused=new d(t.order),this.totalInWeights=new f(t.order),this.totalOutWeights=new f(t.order);var l,p={},g=0,m=0,y=this;t.forEachNode((function(e){y.nodes[g]=e,p[e]=g,m+=t.outDegreeWithoutSelfLoops(e),y.starts[g]=m,m+=t.inDegreeWithoutSelfLoops(e),y.offsets[g]=m,y.belongings[g]=g,y.counts[g]=1,g++})),t.forEachEdge((function(t,e,r,n){if(l=function(t){if(!s)return 1;var e=t[u];return"number"!=typeof e||isNaN(e)?1:e}(e),r=p[r],n=p[n],y.M+=l,r===n)y.loops[r]+=l,y.totalInWeights[r]+=l,y.totalOutWeights[r]+=l;else{y.totalOutWeights[r]+=l,y.totalInWeights[n]+=l;var i=--y.starts[r],o=--y.offsets[n];y.neighborhood[i]=n,y.neighborhood[o]=r,y.weights[i]=l,y.weights[o]=l}})),this.starts[g]=this.E,this.keepDendrogram?this.dendrogram.push(this.belongings.slice()):this.mapping=this.belongings.slice()}a.prototype.isolate=function(t,e){var r=this.belongings[t];if(1===this.counts[r])return r;var n=this.unused[--this.U],i=this.loops[t];return this.totalWeights[r]-=e+i,this.totalWeights[n]+=e+i,this.belongings[t]=n,this.counts[r]--,this.counts[n]++,n},a.prototype.move=function(t,e,r){var n=this.belongings[t],i=this.loops[t];this.totalWeights[n]-=e+i,this.totalWeights[r]+=e+i,this.belongings[t]=r;var o=1==this.counts[n]--;this.counts[r]++,o&&(this.unused[this.U++]=n)},a.prototype.computeNodeDegree=function(t){var e,r,n=0;for(e=this.starts[t],r=this.starts[t+1];e<r;e++)n+=this.weights[e];return n},a.prototype.expensiveIsolate=function(t){var e=this.computeNodeDegree(t);return this.isolate(t,e)},a.prototype.expensiveMove=function(t,e){var r=this.computeNodeDegree(t);this.move(t,r,e)},a.prototype.zoomOut=function(){var t,e,r,i,o,a,s,u,c,h,d,f=new Array(this.C-this.U),l={},p=this.nodes.length,g=0,m=0;for(t=0,r=this.C;t<r;t++)(a=this.belongings[t])in l||(l[a]=g,f[g]={adj:{},totalWeights:this.totalWeights[a],internalWeights:0},g++),this.belongings[t]=l[a];if(this.keepDendrogram){for(h=this.dendrogram[this.level],d=new(n.getPointerArray(g))(p),t=0;t<p;t++)d[t]=this.belongings[h[t]];this.dendrogram.push(d)}else for(t=0;t<p;t++)this.mapping[t]=this.belongings[this.mapping[t]];for(t=0,r=this.C;t<r;t++)for(c=(u=f[a=this.belongings[t]]).adj,u.internalWeights+=this.loops[t],e=this.starts[t],i=this.starts[t+1];e<i;e++)o=this.neighborhood[e],a!==(s=this.belongings[o])?(s in c||(c[s]=0),c[s]+=this.weights[e]):u.internalWeights+=this.weights[e];for(this.C=g,o=0,a=0;a<g;a++)for(s in c=(u=f[a]).adj,a=+a,this.totalWeights[a]=u.totalWeights,this.loops[a]=u.internalWeights,this.counts[a]=1,this.starts[a]=o,this.belongings[a]=a,c)this.neighborhood[o]=+s,this.weights[o]=c[s],m++,o++;return this.starts[g]=m,this.E=m,this.U=0,this.level++,l},a.prototype.modularity=function(){var t,e,r,n,i=0,o=2*this.M,a=new Float64Array(this.C);for(e=0;e<this.C;e++)for(a[t=this.belongings[e]]+=this.loops[e],r=this.starts[e],n=this.starts[e+1];r<n;r++)t===this.belongings[this.neighborhood[r]]&&(a[t]+=this.weights[r]);for(e=0;e<this.C;e++)i+=a[e]/o-Math.pow(this.totalWeights[e]/o,2)*this.resolution;return i},a.prototype.delta=function(t,e,r,n){var i=this.M;return r/i-this.totalWeights[n]*(e+=this.loops[t])*this.resolution/(2*i*i)},a.prototype.deltaWithOwnCommunity=function(t,e,r,n){var i=this.M;return r/i-(this.totalWeights[n]-(e+=this.loops[t]))*e*this.resolution/(2*i*i)},a.prototype.fastDelta=function(t,e,r,n){var i=this.M,o=this.totalWeights[n];return r-(e+=this.loops[t])*o*this.resolution/(2*i)},a.prototype.fastDeltaWithOwnCommunity=function(t,e,r,n){var i=this.M,o=this.totalWeights[n];return r-(e+=this.loops[t])*(o-e)*this.resolution/(2*i)},a.prototype.bounds=function(t){return[this.starts[t],this.starts[t+1]]},a.prototype.project=function(){var t=this,e={};return t.nodes.slice(0,this.C).forEach((function(r,n){e[r]=Array.from(t.neighborhood.slice(t.starts[n],t.starts[n+1])).map((function(e){return t.nodes[e]}))})),e},a.prototype.collect=function(t){arguments.length<1&&(t=this.level);var e,r,n={},i=this.keepDendrogram?this.dendrogram[t]:this.mapping;for(e=0,r=i.length;e<r;e++)n[this.nodes[e]]=i[e];return n},a.prototype.assign=function(t,e){arguments.length<2&&(e=this.level);var r,n,i=this.keepDendrogram?this.dendrogram[e]:this.mapping;for(r=0,n=i.length;r<n;r++)this.graph.setNodeAttribute(this.nodes[r],t,i[r])},a.prototype[i]=function(){var t={};Object.defineProperty(t,"constructor",{value:a,enumerable:!1}),t.C=this.C,t.M=this.M,t.E=this.E,t.U=this.U,t.resolution=this.resolution,t.level=this.level,t.nodes=this.nodes,t.starts=this.starts.slice(0,t.C+1);var e=this;return["neighborhood","weights"].forEach((function(r){t[r]=e[r].slice(0,t.E)})),["counts","loops","belongings","totalWeights"].forEach((function(r){t[r]=e[r].slice(0,t.C)})),t.unused=this.unused.slice(0,this.U),this.keepDendrogram?t.dendrogram=this.dendrogram:t.mapping=this.mapping,t},s.prototype.bounds=a.prototype.bounds,s.prototype.inBounds=function(t){return[this.offsets[t],this.starts[t+1]]},s.prototype.outBounds=function(t){return[this.starts[t],this.offsets[t]]},s.prototype.project=a.prototype.project,s.prototype.projectIn=function(){var t=this,e={};return t.nodes.slice(0,this.C).forEach((function(r,n){e[r]=Array.from(t.neighborhood.slice(t.offsets[n],t.starts[n+1])).map((function(e){return t.nodes[e]}))})),e},s.prototype.projectOut=function(){var t=this,e={};return t.nodes.slice(0,this.C).forEach((function(r,n){e[r]=Array.from(t.neighborhood.slice(t.starts[n],t.offsets[n])).map((function(e){return t.nodes[e]}))})),e},s.prototype.isolate=function(t,e,r){var n=this.belongings[t];if(1===this.counts[n])return n;var i=this.unused[--this.U],o=this.loops[t];return this.totalInWeights[n]-=e+o,this.totalInWeights[i]+=e+o,this.totalOutWeights[n]-=r+o,this.totalOutWeights[i]+=r+o,this.belongings[t]=i,this.counts[n]--,this.counts[i]++,i},s.prototype.move=function(t,e,r,n){var i=this.belongings[t],o=this.loops[t];this.totalInWeights[i]-=e+o,this.totalInWeights[n]+=e+o,this.totalOutWeights[i]-=r+o,this.totalOutWeights[n]+=r+o,this.belongings[t]=n;var a=1==this.counts[i]--;this.counts[n]++,a&&(this.unused[this.U++]=i)},s.prototype.computeNodeInDegree=function(t){var e,r,n=0;for(e=this.offsets[t],r=this.starts[t+1];e<r;e++)n+=this.weights[e];return n},s.prototype.computeNodeOutDegree=function(t){var e,r,n=0;for(e=this.starts[t],r=this.offsets[t];e<r;e++)n+=this.weights[e];return n},s.prototype.expensiveMove=function(t,e){var r=this.computeNodeInDegree(t),n=this.computeNodeOutDegree(t);this.move(t,r,n,e)},s.prototype.zoomOut=function(){var t,e,r,i,o,a,s,u,c,h,d,f,l,p,g,m=new Array(this.C-this.U),y={},v=this.nodes.length,b=0,w=0;for(t=0,r=this.C;t<r;t++)(a=this.belongings[t])in y||(y[a]=b,m[b]={inAdj:{},outAdj:{},totalInWeights:this.totalInWeights[a],totalOutWeights:this.totalOutWeights[a],internalWeights:0},b++),this.belongings[t]=y[a];if(this.keepDendrogram){for(p=this.dendrogram[this.level],g=new(n.getPointerArray(b))(v),t=0;t<v;t++)g[t]=this.belongings[p[t]];this.dendrogram.push(g)}else for(t=0;t<v;t++)this.mapping[t]=this.belongings[this.mapping[t]];for(t=0,r=this.C;t<r;t++)for(a=this.belongings[t],c=this.offsets[t],f=(u=m[a]).inAdj,l=u.outAdj,u.internalWeights+=this.loops[t],e=this.starts[t],i=this.starts[t+1];e<i;e++)o=this.neighborhood[e],d=(h=e<c)?l:f,a!==(s=this.belongings[o])?(s in d||(d[s]=0),d[s]+=this.weights[e]):h&&(u.internalWeights+=this.weights[e]);for(this.C=b,o=0,a=0;a<b;a++){for(s in f=(u=m[a]).inAdj,l=u.outAdj,a=+a,this.totalInWeights[a]=u.totalInWeights,this.totalOutWeights[a]=u.totalOutWeights,this.loops[a]=u.internalWeights,this.counts[a]=1,this.starts[a]=o,this.belongings[a]=a,l)this.neighborhood[o]=+s,this.weights[o]=l[s],w++,o++;for(s in this.offsets[a]=o,f)this.neighborhood[o]=+s,this.weights[o]=f[s],w++,o++}return this.starts[b]=w,this.E=w,this.U=0,this.level++,y},s.prototype.modularity=function(){var t,e,r,n,i=0,o=this.M,a=new Float64Array(this.C);for(e=0;e<this.C;e++)for(a[t=this.belongings[e]]+=this.loops[e],r=this.starts[e],n=this.offsets[e];r<n;r++)t===this.belongings[this.neighborhood[r]]&&(a[t]+=this.weights[r]);for(e=0;e<this.C;e++)i+=a[e]/o-this.totalInWeights[e]*this.totalOutWeights[e]/Math.pow(o,2)*this.resolution;return i},s.prototype.delta=function(t,e,r,n,i){var o=this.M,a=this.totalInWeights[i],s=this.totalOutWeights[i],u=this.loops[t];return n/o-((r+=u)*a+(e+=u)*s)*this.resolution/(o*o)},s.prototype.deltaWithOwnCommunity=function(t,e,r,n,i){var o=this.M,a=this.totalInWeights[i],s=this.totalOutWeights[i],u=this.loops[t];return n/o-((r+=u)*(a-(e+=u))+e*(s-r))*this.resolution/(o*o)},s.prototype.collect=a.prototype.collect,s.prototype.assign=a.prototype.assign,s.prototype[i]=function(){var t={};Object.defineProperty(t,"constructor",{value:s,enumerable:!1}),t.C=this.C,t.M=this.M,t.E=this.E,t.U=this.U,t.resolution=this.resolution,t.level=this.level,t.nodes=this.nodes,t.starts=this.starts.slice(0,t.C+1);var e=this;return["neighborhood","weights"].forEach((function(r){t[r]=e[r].slice(0,t.E)})),["counts","offsets","loops","belongings","totalInWeights","totalOutWeights"].forEach((function(r){t[r]=e[r].slice(0,t.C)})),t.unused=this.unused.slice(0,this.U),this.keepDendrogram?t.dendrogram=this.dendrogram:t.mapping=this.mapping,t},e.UndirectedLouvainIndex=a,e.DirectedLouvainIndex=s},7087:(t,e)=>{var r=Math.pow(2,8)-1,n=Math.pow(2,16)-1,i=Math.pow(2,32)-1,o=Math.pow(2,7)-1,a=Math.pow(2,15)-1,s=Math.pow(2,31)-1;e.getPointerArray=function(t){var e=t-1;if(e<=r)return Uint8Array;if(e<=n)return Uint16Array;if(e<=i)return Uint32Array;throw new Error("mnemonist: Pointer Array of size > 4294967295 is not supported.")},e.getSignedPointerArray=function(t){var e=t-1;return e<=o?Int8Array:e<=a?Int16Array:e<=s?Int32Array:Float64Array},e.getNumberType=function(t){return t===(0|t)?-1===Math.sign(t)?t<=127&&t>=-128?Int8Array:t<=32767&&t>=-32768?Int16Array:Int32Array:t<=255?Uint8Array:t<=65535?Uint16Array:Uint32Array:Float64Array};var u={Uint8Array:1,Int8Array:2,Uint16Array:3,Int16Array:4,Uint32Array:5,Int32Array:6,Float32Array:7,Float64Array:8};e.getMinimalRepresentation=function(t,r){var n,i,o,a,s,c=null,h=0;for(a=0,s=t.length;a<s;a++)o=r?r(t[a]):t[a],i=e.getNumberType(o),(n=u[i.name])>h&&(h=n,c=i);return c},e.isTypedArray=function(t){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView(t)},e.concat=function(){var t,e,r,n=0;for(t=0,r=arguments.length;t<r;t++)n+=arguments[t].length;var i=new arguments[0].constructor(n);for(t=0,e=0;t<r;t++)i.set(arguments[t],e),e+=arguments[t].length;return i},e.indices=function(t){for(var r=new(e.getPointerArray(t))(t),n=0;n<t;n++)r[n]=n;return r}},7321:(t,e,r)=>{var n=r(6186),i="weight";function o(t,e,r,o,a){if(!n(o))throw new Error("graphology-metrics/"+t+": the given graph is not a valid graphology instance.");if("edges"!==r&&"undirected"===o.type)throw new Error("graphology-metrics/"+t+": cannot compute "+t+" on an undirected graph.");var s=null;5===arguments.length&&"object"!=typeof arguments[4]?s=arguments[4]:6===arguments.length&&(s=arguments[4],a=arguments[5]);var u,c,h,d,f,l=(a=a||{}).attributes||{},p=l.weight||i,g=l.weightedDegree||t;if(s){for(c=0,d=0,f=(u=o[r](s)).length;d<f;d++)"number"==typeof(h=o.getEdgeAttribute(u[d],p))&&(c+=h);return e?void o.setNodeAttribute(s,g,c):c}var m,y,v,b=o.nodes(),w={};for(d=0,f=b.length;d<f;d++){for(m=b[d],c=0,y=0,v=(u=o[r](m)).length;y<v;y++)"number"==typeof(h=o.getEdgeAttribute(u[y],p))&&(c+=h);e?o.setNodeAttribute(m,g,c):w[m]=c}if(!e)return w}var a=o.bind(null,"weightedDegree",!1,"edges"),s=o.bind(null,"weightedInDegree",!1,"inEdges"),u=o.bind(null,"weightedOutDegree",!1,"outEdges");a.assign=o.bind(null,"weightedDegree",!0,"edges"),s.assign=o.bind(null,"weightedInDegree",!0,"inEdges"),u.assign=o.bind(null,"weightedOutDegree",!0,"outEdges"),a.weightedDegree=a,a.weightedInDegree=s,a.weightedOutDegree=u,t.exports=a},3417:(t,e,r)=>{var n=r(6186),i=r(4325).De;t.exports=function(t){if(!n(t))throw new Error("graphology-operators/to-mixed: expecting a valid graphology instance.");if("mixed"===t.type)return t.copy();var e=t.emptyCopy({type:"mixed"});return t.forEachEdge((function(t,r,n,o,a,s,u){i(e,u,t,n,o,r)})),e}},7183:(t,e,r)=>{var n=r(6186),i=r(4325).De;t.exports=function(t){if(!n(t))throw new Error("graphology-operators/to-multi: expecting a valid graphology instance.");if(t.multi)return t.copy();var e=t.emptyCopy({multi:!0});return t.forEachEdge((function(t,r,n,o,a,s,u){i(e,u,t,n,o,r)})),e}},4325:(t,e)=>{e.De=function(t,e,r,n,i,o){return o=Object.assign({},o),e?null==r?t.addUndirectedEdge(n,i,o):t.addUndirectedEdgeWithKey(r,n,i,o):null==r?t.addDirectedEdge(n,i,o):t.addDirectedEdgeWithKey(r,n,i,o)},e.rW=function(t,e,r,n,i,o){return e?null==r?t.mergeUndirectedEdge(n,i,o):t.mergeUndirectedEdgeWithKey(r,n,i,o):null==r?t.mergeDirectedEdge(n,i,o):t.mergeDirectedEdgeWithKey(r,n,i,o)}},7432:t=>{t.exports=function t(e,r){e=e||{};var n,i={};for(var o in r){var a=e[o],s=r[o];!(n=s)||"object"!=typeof n||"function"==typeof n||Array.isArray(n)||n instanceof Set||n instanceof Map||n instanceof RegExp||n instanceof Date?i[o]=null==a?s:a:i[o]=t(a,s)}return i}},3349:(t,e,r)=>{var n=r(6186);t.exports=function(t){if(!n(t))throw new Error("graphology-utils/infer-type: expecting a valid graphology instance.");var e=t.type;return"mixed"!==e?e:0===t.directedSize&&0===t.undirectedSize||t.directedSize>0&&t.undirectedSize>0?"mixed":t.directedSize>0?"directed":"undirected"}},8465:t=>{t.exports=function(t){return null!==t&&"function"==typeof t&&"object"==typeof t.prototype&&"function"==typeof t.prototype.addUndirectedEdgeWithKey&&"function"==typeof t.prototype.dropNode}},6186:t=>{t.exports=function(t){return null!==t&&"object"==typeof t&&"function"==typeof t.addUndirectedEdgeWithKey&&"function"==typeof t.dropNode&&"boolean"==typeof t.multi}},2698:function(t){t.exports=function(){"use strict";function t(e){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function e(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,n(t,e)}function r(t){return r=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},r(t)}function n(t,e){return n=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},n(t,e)}function i(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}function o(t,e,r){return o=i()?Reflect.construct:function(t,e,r){var i=[null];i.push.apply(i,e);var o=new(Function.bind.apply(t,i));return r&&n(o,r.prototype),o},o.apply(null,arguments)}function a(t){var e="function"==typeof Map?new Map:void 0;return a=function(t){if(null===t||(i=t,-1===Function.toString.call(i).indexOf("[native code]")))return t;var i;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,a)}function a(){return o(t,arguments,r(this).constructor)}return a.prototype=Object.create(t.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),n(a,t)},a(t)}function s(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}var u=function(){for(var t=arguments[0],e=1,r=arguments.length;e<r;e++)if(arguments[e])for(var n in arguments[e])t[n]=arguments[e][n];return t};function c(t,e,r,n){var i=t._nodes.get(e),o=null;return i?o="mixed"===n?i.out&&i.out[r]||i.undirected&&i.undirected[r]:"directed"===n?i.out&&i.out[r]:i.undirected&&i.undirected[r]:o}function h(e){return null!==e&&"object"===t(e)&&"function"==typeof e.addUndirectedEdgeWithKey&&"function"==typeof e.dropNode}function d(e){return"object"===t(e)&&null!==e&&e.constructor===Object}function f(t){var e;for(e in t)return!1;return!0}function l(t,e,r){Object.defineProperty(t,e,{enumerable:!1,configurable:!1,writable:!0,value:r})}function p(t,e,r){var n={enumerable:!0,configurable:!0};"function"==typeof r?n.get=r:(n.value=r,n.writable=!1),Object.defineProperty(t,e,n)}function g(t){return!(!d(t)||t.attributes&&!Array.isArray(t.attributes))}"function"==typeof Object.assign&&(u=Object.assign);var m,y={exports:{}},v="object"==typeof Reflect?Reflect:null,b=v&&"function"==typeof v.apply?v.apply:function(t,e,r){return Function.prototype.apply.call(t,e,r)};m=v&&"function"==typeof v.ownKeys?v.ownKeys:Object.getOwnPropertySymbols?function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:function(t){return Object.getOwnPropertyNames(t)};var w=Number.isNaN||function(t){return t!=t};function x(){x.init.call(this)}y.exports=x,y.exports.once=function(t,e){return new Promise((function(r,n){function i(r){t.removeListener(e,o),n(r)}function o(){"function"==typeof t.removeListener&&t.removeListener("error",i),r([].slice.call(arguments))}T(t,e,o,{once:!0}),"error"!==e&&function(t,e,r){"function"==typeof t.on&&T(t,"error",e,{once:!0})}(t,i)}))},x.EventEmitter=x,x.prototype._events=void 0,x.prototype._eventsCount=0,x.prototype._maxListeners=void 0;var E=10;function A(t){if("function"!=typeof t)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t)}function N(t){return void 0===t._maxListeners?x.defaultMaxListeners:t._maxListeners}function _(t,e,r,n){var i,o,a,s;if(A(r),void 0===(o=t._events)?(o=t._events=Object.create(null),t._eventsCount=0):(void 0!==o.newListener&&(t.emit("newListener",e,r.listener?r.listener:r),o=t._events),a=o[e]),void 0===a)a=o[e]=r,++t._eventsCount;else if("function"==typeof a?a=o[e]=n?[r,a]:[a,r]:n?a.unshift(r):a.push(r),(i=N(t))>0&&a.length>i&&!a.warned){a.warned=!0;var u=new Error("Possible EventEmitter memory leak detected. "+a.length+" "+String(e)+" listeners added. Use emitter.setMaxListeners() to increase limit");u.name="MaxListenersExceededWarning",u.emitter=t,u.type=e,u.count=a.length,s=u,console&&console.warn&&console.warn(s)}return t}function k(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function S(t,e,r){var n={fired:!1,wrapFn:void 0,target:t,type:e,listener:r},i=k.bind(n);return i.listener=r,n.wrapFn=i,i}function D(t,e,r){var n=t._events;if(void 0===n)return[];var i=n[e];return void 0===i?[]:"function"==typeof i?r?[i.listener||i]:[i]:r?function(t){for(var e=new Array(t.length),r=0;r<e.length;++r)e[r]=t[r].listener||t[r];return e}(i):C(i,i.length)}function M(t){var e=this._events;if(void 0!==e){var r=e[t];if("function"==typeof r)return 1;if(void 0!==r)return r.length}return 0}function C(t,e){for(var r=new Array(e),n=0;n<e;++n)r[n]=t[n];return r}function T(t,e,r,n){if("function"==typeof t.on)n.once?t.once(e,r):t.on(e,r);else{if("function"!=typeof t.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof t);t.addEventListener(e,(function i(o){n.once&&t.removeEventListener(e,i),r(o)}))}}function O(t){if("function"!=typeof t)throw new Error("obliterator/iterator: expecting a function!");this.next=t}Object.defineProperty(x,"defaultMaxListeners",{enumerable:!0,get:function(){return E},set:function(t){if("number"!=typeof t||t<0||w(t))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+t+".");E=t}}),x.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},x.prototype.setMaxListeners=function(t){if("number"!=typeof t||t<0||w(t))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+t+".");return this._maxListeners=t,this},x.prototype.getMaxListeners=function(){return N(this)},x.prototype.emit=function(t){for(var e=[],r=1;r<arguments.length;r++)e.push(arguments[r]);var n="error"===t,i=this._events;if(void 0!==i)n=n&&void 0===i.error;else if(!n)return!1;if(n){var o;if(e.length>0&&(o=e[0]),o instanceof Error)throw o;var a=new Error("Unhandled error."+(o?" ("+o.message+")":""));throw a.context=o,a}var s=i[t];if(void 0===s)return!1;if("function"==typeof s)b(s,this,e);else{var u=s.length,c=C(s,u);for(r=0;r<u;++r)b(c[r],this,e)}return!0},x.prototype.addListener=function(t,e){return _(this,t,e,!1)},x.prototype.on=x.prototype.addListener,x.prototype.prependListener=function(t,e){return _(this,t,e,!0)},x.prototype.once=function(t,e){return A(e),this.on(t,S(this,t,e)),this},x.prototype.prependOnceListener=function(t,e){return A(e),this.prependListener(t,S(this,t,e)),this},x.prototype.removeListener=function(t,e){var r,n,i,o,a;if(A(e),void 0===(n=this._events))return this;if(void 0===(r=n[t]))return this;if(r===e||r.listener===e)0==--this._eventsCount?this._events=Object.create(null):(delete n[t],n.removeListener&&this.emit("removeListener",t,r.listener||e));else if("function"!=typeof r){for(i=-1,o=r.length-1;o>=0;o--)if(r[o]===e||r[o].listener===e){a=r[o].listener,i=o;break}if(i<0)return this;0===i?r.shift():function(t,e){for(;e+1<t.length;e++)t[e]=t[e+1];t.pop()}(r,i),1===r.length&&(n[t]=r[0]),void 0!==n.removeListener&&this.emit("removeListener",t,a||e)}return this},x.prototype.off=x.prototype.removeListener,x.prototype.removeAllListeners=function(t){var e,r,n;if(void 0===(r=this._events))return this;if(void 0===r.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==r[t]&&(0==--this._eventsCount?this._events=Object.create(null):delete r[t]),this;if(0===arguments.length){var i,o=Object.keys(r);for(n=0;n<o.length;++n)"removeListener"!==(i=o[n])&&this.removeAllListeners(i);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(e=r[t]))this.removeListener(t,e);else if(void 0!==e)for(n=e.length-1;n>=0;n--)this.removeListener(t,e[n]);return this},x.prototype.listeners=function(t){return D(this,t,!0)},x.prototype.rawListeners=function(t){return D(this,t,!1)},x.listenerCount=function(t,e){return"function"==typeof t.listenerCount?t.listenerCount(e):M.call(t,e)},x.prototype.listenerCount=M,x.prototype.eventNames=function(){return this._eventsCount>0?m(this._events):[]},"undefined"!=typeof Symbol&&(O.prototype[Symbol.iterator]=function(){return this}),O.of=function(){var t=arguments,e=t.length,r=0;return new O((function(){return r>=e?{done:!0}:{done:!1,value:t[r++]}}))},O.empty=function(){return new O((function(){return{done:!0}}))},O.fromSequence=function(t){var e=0,r=t.length;return new O((function(){return e>=r?{done:!0}:{done:!1,value:t[e++]}}))},O.is=function(t){return t instanceof O||"object"==typeof t&&null!==t&&"function"==typeof t.next};var G=O,I={};I.ARRAY_BUFFER_SUPPORT="undefined"!=typeof ArrayBuffer,I.SYMBOL_SUPPORT="undefined"!=typeof Symbol;var z=G,L=I,U=L.ARRAY_BUFFER_SUPPORT,P=L.SYMBOL_SUPPORT,R=function(t){var e=function(t){return"string"==typeof t||Array.isArray(t)||U&&ArrayBuffer.isView(t)?z.fromSequence(t):"object"!=typeof t||null===t?null:P&&"function"==typeof t[Symbol.iterator]?t[Symbol.iterator]():"function"==typeof t.next?t:null}(t);if(!e)throw new Error("obliterator: target is not iterable nor a valid iterator.");return e},j=R,W=function(t,e){for(var r,n=arguments.length>1?e:1/0,i=n!==1/0?new Array(n):[],o=0,a=j(t);;){if(o===n)return i;if((r=a.next()).done)return o!==e&&(i.length=o),i;i[o++]=r.value}},F=function(t){function r(e){var r;return(r=t.call(this)||this).name="GraphError",r.message=e,r}return e(r,t),r}(a(Error)),q=function(t){function r(e){var n;return(n=t.call(this,e)||this).name="InvalidArgumentsGraphError","function"==typeof Error.captureStackTrace&&Error.captureStackTrace(s(n),r.prototype.constructor),n}return e(r,t),r}(F),B=function(t){function r(e){var n;return(n=t.call(this,e)||this).name="NotFoundGraphError","function"==typeof Error.captureStackTrace&&Error.captureStackTrace(s(n),r.prototype.constructor),n}return e(r,t),r}(F),H=function(t){function r(e){var n;return(n=t.call(this,e)||this).name="UsageGraphError","function"==typeof Error.captureStackTrace&&Error.captureStackTrace(s(n),r.prototype.constructor),n}return e(r,t),r}(F);function X(t,e){this.key=t,this.attributes=e,this.clear()}function V(t,e){this.key=t,this.attributes=e,this.clear()}function K(t,e){this.key=t,this.attributes=e,this.clear()}function Y(t,e,r,n,i){this.key=e,this.attributes=i,this.undirected=t,this.source=r,this.target=n}function $(t,e,r,n,i,o,a){var s,u,c="out",h="in";if(e&&(c=h="undirected"),t.multi){if(void 0===(u=(s=o[c])[i])&&(u=new Set,s[i]=u),u.add(r),n===i&&e)return;void 0===(s=a[h])[n]&&(s[n]=u)}else{if(o[c][i]=r,n===i&&e)return;a[h][n]=r}}function Z(t,e,r){var n=t.multi,i=r.source,o=r.target,a=i.key,s=o.key,u=i[e?"undirected":"out"],c=e?"undirected":"in";if(s in u)if(n){var h=u[s];1===h.size?(delete u[s],delete o[c][a]):h.delete(r)}else delete u[s];n||delete o[c][a]}function Q(t,e,r,n,i,o,a){var s,u,c,h;if(n=""+n,0===r){if(!(s=t._nodes.get(n)))throw new B("Graph.".concat(e,': could not find the "').concat(n,'" node in the graph.'));c=i,h=o}else if(3===r){if(i=""+i,!(u=t._edges.get(i)))throw new B("Graph.".concat(e,': could not find the "').concat(i,'" edge in the graph.'));var d=u.source.key,f=u.target.key;if(n===d)s=u.target;else{if(n!==f)throw new B("Graph.".concat(e,': the "').concat(n,'" node is not attached to the "').concat(i,'" edge (').concat(d,", ").concat(f,")."));s=u.source}c=o,h=a}else{if(!(u=t._edges.get(n)))throw new B("Graph.".concat(e,': could not find the "').concat(n,'" edge in the graph.'));s=1===r?u.source:u.target,c=i,h=o}return[s,c,h]}X.prototype.clear=function(){this.inDegree=0,this.outDegree=0,this.undirectedDegree=0,this.directedSelfLoops=0,this.undirectedSelfLoops=0,this.in={},this.out={},this.undirected={}},V.prototype.clear=function(){this.inDegree=0,this.outDegree=0,this.directedSelfLoops=0,this.in={},this.out={}},V.prototype.upgradeToMixed=function(){this.undirectedDegree=0,this.undirectedSelfLoops=0,this.undirected={}},K.prototype.clear=function(){this.undirectedDegree=0,this.undirectedSelfLoops=0,this.undirected={}},K.prototype.upgradeToMixed=function(){this.inDegree=0,this.outDegree=0,this.directedSelfLoops=0,this.in={},this.out={}};var J=[{name:function(t){return"get".concat(t,"Attribute")},attacher:function(t,e,r){t.prototype[e]=function(t,n,i){var o=Q(this,e,r,t,n,i),a=o[0],s=o[1];return a.attributes[s]}}},{name:function(t){return"get".concat(t,"Attributes")},attacher:function(t,e,r){t.prototype[e]=function(t,n){return Q(this,e,r,t,n)[0].attributes}}},{name:function(t){return"has".concat(t,"Attribute")},attacher:function(t,e,r){t.prototype[e]=function(t,n,i){var o=Q(this,e,r,t,n,i),a=o[0],s=o[1];return a.attributes.hasOwnProperty(s)}}},{name:function(t){return"set".concat(t,"Attribute")},attacher:function(t,e,r){t.prototype[e]=function(t,n,i,o){var a=Q(this,e,r,t,n,i,o),s=a[0],u=a[1],c=a[2];return s.attributes[u]=c,this.emit("nodeAttributesUpdated",{key:s.key,type:"set",attributes:s.attributes,name:u}),this}}},{name:function(t){return"update".concat(t,"Attribute")},attacher:function(t,e,r){t.prototype[e]=function(t,n,i,o){var a=Q(this,e,r,t,n,i,o),s=a[0],u=a[1],c=a[2];if("function"!=typeof c)throw new q("Graph.".concat(e,": updater should be a function."));var h=s.attributes,d=c(h[u]);return h[u]=d,this.emit("nodeAttributesUpdated",{key:s.key,type:"set",attributes:s.attributes,name:u}),this}}},{name:function(t){return"remove".concat(t,"Attribute")},attacher:function(t,e,r){t.prototype[e]=function(t,n,i){var o=Q(this,e,r,t,n,i),a=o[0],s=o[1];return delete a.attributes[s],this.emit("nodeAttributesUpdated",{key:a.key,type:"remove",attributes:a.attributes,name:s}),this}}},{name:function(t){return"replace".concat(t,"Attributes")},attacher:function(t,e,r){t.prototype[e]=function(t,n,i){var o=Q(this,e,r,t,n,i),a=o[0],s=o[1];if(!d(s))throw new q("Graph.".concat(e,": provided attributes are not a plain object."));return a.attributes=s,this.emit("nodeAttributesUpdated",{key:a.key,type:"replace",attributes:a.attributes}),this}}},{name:function(t){return"merge".concat(t,"Attributes")},attacher:function(t,e,r){t.prototype[e]=function(t,n,i){var o=Q(this,e,r,t,n,i),a=o[0],s=o[1];if(!d(s))throw new q("Graph.".concat(e,": provided attributes are not a plain object."));return u(a.attributes,s),this.emit("nodeAttributesUpdated",{key:a.key,type:"merge",attributes:a.attributes,data:s}),this}}},{name:function(t){return"update".concat(t,"Attributes")},attacher:function(t,e,r){t.prototype[e]=function(t,n,i){var o=Q(this,e,r,t,n,i),a=o[0],s=o[1];if("function"!=typeof s)throw new q("Graph.".concat(e,": provided updater is not a function."));return a.attributes=s(a.attributes),this.emit("nodeAttributesUpdated",{key:a.key,type:"update",attributes:a.attributes}),this}}}],tt=[{name:function(t){return"get".concat(t,"Attribute")},attacher:function(t,e,r){t.prototype[e]=function(t,n){var i;if("mixed"!==this.type&&"mixed"!==r&&r!==this.type)throw new H("Graph.".concat(e,": cannot find this type of edges in your ").concat(this.type," graph."));if(arguments.length>2){if(this.multi)throw new H("Graph.".concat(e,": cannot use a {source,target} combo when asking about an edge's attributes in a MultiGraph since we cannot infer the one you want information about."));var o=""+t,a=""+n;if(n=arguments[2],!(i=c(this,o,a,r)))throw new B("Graph.".concat(e,': could not find an edge for the given path ("').concat(o,'" - "').concat(a,'").'))}else if(t=""+t,!(i=this._edges.get(t)))throw new B("Graph.".concat(e,': could not find the "').concat(t,'" edge in the graph.'));if("mixed"!==r&&i.undirected!==("undirected"===r))throw new B("Graph.".concat(e,': could not find the "').concat(t,'" ').concat(r," edge in the graph."));return i.attributes[n]}}},{name:function(t){return"get".concat(t,"Attributes")},attacher:function(t,e,r){t.prototype[e]=function(t){var n;if("mixed"!==this.type&&"mixed"!==r&&r!==this.type)throw new H("Graph.".concat(e,": cannot find this type of edges in your ").concat(this.type," graph."));if(arguments.length>1){if(this.multi)throw new H("Graph.".concat(e,": cannot use a {source,target} combo when asking about an edge's attributes in a MultiGraph since we cannot infer the one you want information about."));var i=""+t,o=""+arguments[1];if(!(n=c(this,i,o,r)))throw new B("Graph.".concat(e,': could not find an edge for the given path ("').concat(i,'" - "').concat(o,'").'))}else if(t=""+t,!(n=this._edges.get(t)))throw new B("Graph.".concat(e,': could not find the "').concat(t,'" edge in the graph.'));if("mixed"!==r&&n.undirected!==("undirected"===r))throw new B("Graph.".concat(e,': could not find the "').concat(t,'" ').concat(r," edge in the graph."));return n.attributes}}},{name:function(t){return"has".concat(t,"Attribute")},attacher:function(t,e,r){t.prototype[e]=function(t,n){var i;if("mixed"!==this.type&&"mixed"!==r&&r!==this.type)throw new H("Graph.".concat(e,": cannot find this type of edges in your ").concat(this.type," graph."));if(arguments.length>2){if(this.multi)throw new H("Graph.".concat(e,": cannot use a {source,target} combo when asking about an edge's attributes in a MultiGraph since we cannot infer the one you want information about."));var o=""+t,a=""+n;if(n=arguments[2],!(i=c(this,o,a,r)))throw new B("Graph.".concat(e,': could not find an edge for the given path ("').concat(o,'" - "').concat(a,'").'))}else if(t=""+t,!(i=this._edges.get(t)))throw new B("Graph.".concat(e,': could not find the "').concat(t,'" edge in the graph.'));if("mixed"!==r&&i.undirected!==("undirected"===r))throw new B("Graph.".concat(e,': could not find the "').concat(t,'" ').concat(r," edge in the graph."));return i.attributes.hasOwnProperty(n)}}},{name:function(t){return"set".concat(t,"Attribute")},attacher:function(t,e,r){t.prototype[e]=function(t,n,i){var o;if("mixed"!==this.type&&"mixed"!==r&&r!==this.type)throw new H("Graph.".concat(e,": cannot find this type of edges in your ").concat(this.type," graph."));if(arguments.length>3){if(this.multi)throw new H("Graph.".concat(e,": cannot use a {source,target} combo when asking about an edge's attributes in a MultiGraph since we cannot infer the one you want information about."));var a=""+t,s=""+n;if(n=arguments[2],i=arguments[3],!(o=c(this,a,s,r)))throw new B("Graph.".concat(e,': could not find an edge for the given path ("').concat(a,'" - "').concat(s,'").'))}else if(t=""+t,!(o=this._edges.get(t)))throw new B("Graph.".concat(e,': could not find the "').concat(t,'" edge in the graph.'));if("mixed"!==r&&o.undirected!==("undirected"===r))throw new B("Graph.".concat(e,': could not find the "').concat(t,'" ').concat(r," edge in the graph."));return o.attributes[n]=i,this.emit("edgeAttributesUpdated",{key:o.key,type:"set",attributes:o.attributes,name:n}),this}}},{name:function(t){return"update".concat(t,"Attribute")},attacher:function(t,e,r){t.prototype[e]=function(t,n,i){var o;if("mixed"!==this.type&&"mixed"!==r&&r!==this.type)throw new H("Graph.".concat(e,": cannot find this type of edges in your ").concat(this.type," graph."));if(arguments.length>3){if(this.multi)throw new H("Graph.".concat(e,": cannot use a {source,target} combo when asking about an edge's attributes in a MultiGraph since we cannot infer the one you want information about."));var a=""+t,s=""+n;if(n=arguments[2],i=arguments[3],!(o=c(this,a,s,r)))throw new B("Graph.".concat(e,': could not find an edge for the given path ("').concat(a,'" - "').concat(s,'").'))}else if(t=""+t,!(o=this._edges.get(t)))throw new B("Graph.".concat(e,': could not find the "').concat(t,'" edge in the graph.'));if("function"!=typeof i)throw new q("Graph.".concat(e,": updater should be a function."));if("mixed"!==r&&o.undirected!==("undirected"===r))throw new B("Graph.".concat(e,': could not find the "').concat(t,'" ').concat(r," edge in the graph."));return o.attributes[n]=i(o.attributes[n]),this.emit("edgeAttributesUpdated",{key:o.key,type:"set",attributes:o.attributes,name:n}),this}}},{name:function(t){return"remove".concat(t,"Attribute")},attacher:function(t,e,r){t.prototype[e]=function(t,n){var i;if("mixed"!==this.type&&"mixed"!==r&&r!==this.type)throw new H("Graph.".concat(e,": cannot find this type of edges in your ").concat(this.type," graph."));if(arguments.length>2){if(this.multi)throw new H("Graph.".concat(e,": cannot use a {source,target} combo when asking about an edge's attributes in a MultiGraph since we cannot infer the one you want information about."));var o=""+t,a=""+n;if(n=arguments[2],!(i=c(this,o,a,r)))throw new B("Graph.".concat(e,': could not find an edge for the given path ("').concat(o,'" - "').concat(a,'").'))}else if(t=""+t,!(i=this._edges.get(t)))throw new B("Graph.".concat(e,': could not find the "').concat(t,'" edge in the graph.'));if("mixed"!==r&&i.undirected!==("undirected"===r))throw new B("Graph.".concat(e,': could not find the "').concat(t,'" ').concat(r," edge in the graph."));return delete i.attributes[n],this.emit("edgeAttributesUpdated",{key:i.key,type:"remove",attributes:i.attributes,name:n}),this}}},{name:function(t){return"replace".concat(t,"Attributes")},attacher:function(t,e,r){t.prototype[e]=function(t,n){var i;if("mixed"!==this.type&&"mixed"!==r&&r!==this.type)throw new H("Graph.".concat(e,": cannot find this type of edges in your ").concat(this.type," graph."));if(arguments.length>2){if(this.multi)throw new H("Graph.".concat(e,": cannot use a {source,target} combo when asking about an edge's attributes in a MultiGraph since we cannot infer the one you want information about."));var o=""+t,a=""+n;if(n=arguments[2],!(i=c(this,o,a,r)))throw new B("Graph.".concat(e,': could not find an edge for the given path ("').concat(o,'" - "').concat(a,'").'))}else if(t=""+t,!(i=this._edges.get(t)))throw new B("Graph.".concat(e,': could not find the "').concat(t,'" edge in the graph.'));if(!d(n))throw new q("Graph.".concat(e,": provided attributes are not a plain object."));if("mixed"!==r&&i.undirected!==("undirected"===r))throw new B("Graph.".concat(e,': could not find the "').concat(t,'" ').concat(r," edge in the graph."));return i.attributes=n,this.emit("edgeAttributesUpdated",{key:i.key,type:"replace",attributes:i.attributes}),this}}},{name:function(t){return"merge".concat(t,"Attributes")},attacher:function(t,e,r){t.prototype[e]=function(t,n){var i;if("mixed"!==this.type&&"mixed"!==r&&r!==this.type)throw new H("Graph.".concat(e,": cannot find this type of edges in your ").concat(this.type," graph."));if(arguments.length>2){if(this.multi)throw new H("Graph.".concat(e,": cannot use a {source,target} combo when asking about an edge's attributes in a MultiGraph since we cannot infer the one you want information about."));var o=""+t,a=""+n;if(n=arguments[2],!(i=c(this,o,a,r)))throw new B("Graph.".concat(e,': could not find an edge for the given path ("').concat(o,'" - "').concat(a,'").'))}else if(t=""+t,!(i=this._edges.get(t)))throw new B("Graph.".concat(e,': could not find the "').concat(t,'" edge in the graph.'));if(!d(n))throw new q("Graph.".concat(e,": provided attributes are not a plain object."));if("mixed"!==r&&i.undirected!==("undirected"===r))throw new B("Graph.".concat(e,': could not find the "').concat(t,'" ').concat(r," edge in the graph."));return u(i.attributes,n),this.emit("edgeAttributesUpdated",{key:i.key,type:"merge",attributes:i.attributes,data:n}),this}}},{name:function(t){return"update".concat(t,"Attributes")},attacher:function(t,e,r){t.prototype[e]=function(t,n){var i;if("mixed"!==this.type&&"mixed"!==r&&r!==this.type)throw new H("Graph.".concat(e,": cannot find this type of edges in your ").concat(this.type," graph."));if(arguments.length>2){if(this.multi)throw new H("Graph.".concat(e,": cannot use a {source,target} combo when asking about an edge's attributes in a MultiGraph since we cannot infer the one you want information about."));var o=""+t,a=""+n;if(n=arguments[2],!(i=c(this,o,a,r)))throw new B("Graph.".concat(e,': could not find an edge for the given path ("').concat(o,'" - "').concat(a,'").'))}else if(t=""+t,!(i=this._edges.get(t)))throw new B("Graph.".concat(e,': could not find the "').concat(t,'" edge in the graph.'));if("function"!=typeof n)throw new q("Graph.".concat(e,": provided updater is not a function."));if("mixed"!==r&&i.undirected!==("undirected"===r))throw new B("Graph.".concat(e,': could not find the "').concat(t,'" ').concat(r," edge in the graph."));return i.attributes=n(i.attributes),this.emit("edgeAttributesUpdated",{key:i.key,type:"update",attributes:i.attributes}),this}}}],et=G,rt=R,nt=function(){var t,e=arguments,r=-1;return new et((function n(){if(!t){if(++r>=e.length)return{done:!0};t=rt(e[r])}var i=t.next();return i.done?(t=null,n()):i}))},it=[{name:"edges",type:"mixed"},{name:"inEdges",type:"directed",direction:"in"},{name:"outEdges",type:"directed",direction:"out"},{name:"inboundEdges",type:"mixed",direction:"in"},{name:"outboundEdges",type:"mixed",direction:"out"},{name:"directedEdges",type:"directed"},{name:"undirectedEdges",type:"undirected"}];function ot(t,e){for(var r in e)t.push(e[r].key)}function at(t,e){for(var r in e)e[r].forEach((function(e){return t.push(e.key)}))}function st(t,e,r){for(var n in t)if(n!==r){var i=t[n];e(i.key,i.attributes,i.source.key,i.target.key,i.source.attributes,i.target.attributes,i.undirected)}}function ut(t,e,r){for(var n in t)n!==r&&t[n].forEach((function(t){return e(t.key,t.attributes,t.source.key,t.target.key,t.source.attributes,t.target.attributes,t.undirected)}))}function ct(t,e,r){for(var n in t)if(n!==r){var i=t[n];if(e(i.key,i.attributes,i.source.key,i.target.key,i.source.attributes,i.target.attributes,i.undirected))return i.key}}function ht(t,e,r){var n,i,o,a,s;for(var u in t)if(u!==r)for(n=t[u].values();!0!==(i=n.next()).done;)if(a=(o=i.value).source,s=o.target,e(o.key,o.attributes,a.key,s.key,a.attributes,s.attributes,o.undirected))return o.key}function dt(t,e){var r=Object.keys(t),n=r.length,i=null,o=0;return new G((function a(){var s;if(i){var u=i.next();if(u.done)return i=null,o++,a();s=u.value}else{if(o>=n)return{done:!0};var c=r[o];if(c===e)return o++,a();if((s=t[c])instanceof Set)return i=s.values(),a();o++}return{done:!1,value:{edge:s.key,attributes:s.attributes,source:s.source.key,target:s.target.key,sourceAttributes:s.source.attributes,targetAttributes:s.target.attributes,undirected:s.undirected}}}))}function ft(t,e,r){var n=e[r];n&&t.push(n.key)}function lt(t,e,r){var n=e[r];n&&n.forEach((function(e){return t.push(e.key)}))}function pt(t,e,r){var n=t[e];if(n){var i=n.source,o=n.target;r(n.key,n.attributes,i.key,o.key,i.attributes,o.attributes,n.undirected)}}function gt(t,e,r){var n=t[e];n&&n.forEach((function(t){return r(t.key,t.attributes,t.source.key,t.target.key,t.source.attributes,t.target.attributes,t.undirected)}))}function mt(t,e,r){var n=t[e];if(n){var i=n.source,o=n.target;return r(n.key,n.attributes,i.key,o.key,i.attributes,o.attributes,n.undirected)?n.key:void 0}}function yt(t,e,r){var n=t[e];if(n)for(var i,o,a=n.values();!0!==(i=a.next()).done;)if(r((o=i.value).key,o.attributes,o.source.key,o.target.key,o.source.attributes,o.target.attributes,o.undirected))return o.key}function vt(t,e){var r=t[e];if(r instanceof Set){var n=r.values();return new G((function(){var t=n.next();if(t.done)return t;var e=t.value;return{done:!1,value:{edge:e.key,attributes:e.attributes,source:e.source.key,target:e.target.key,sourceAttributes:e.source.attributes,targetAttributes:e.target.attributes,undirected:e.undirected}}}))}return G.of([r.key,r.attributes,r.source.key,r.target.key,r.source.attributes,r.target.attributes])}function bt(t,e){if(0===t.size)return[];if("mixed"===e||e===t.type)return"function"==typeof Array.from?Array.from(t._edges.keys()):W(t._edges.keys(),t._edges.size);for(var r,n,i="undirected"===e?t.undirectedSize:t.directedSize,o=new Array(i),a="undirected"===e,s=t._edges.values(),u=0;!0!==(r=s.next()).done;)(n=r.value).undirected===a&&(o[u++]=n.key);return o}function wt(t,e,r){if(0!==t.size)for(var n,i,o="mixed"!==e&&e!==t.type,a="undirected"===e,s=t._edges.values();!0!==(n=s.next()).done;)if(i=n.value,!o||i.undirected===a){var u=i,c=u.key,h=u.attributes,d=u.source,f=u.target;r(c,h,d.key,f.key,d.attributes,f.attributes,i.undirected)}}function xt(t,e,r){if(0!==t.size)for(var n,i,o="mixed"!==e&&e!==t.type,a="undirected"===e,s=t._edges.values();!0!==(n=s.next()).done;)if(i=n.value,!o||i.undirected===a){var u=i,c=u.key,h=u.attributes,d=u.source,f=u.target;if(r(c,h,d.key,f.key,d.attributes,f.attributes,i.undirected))return c}}function Et(t,e){if(0===t.size)return G.empty();var r="mixed"!==e&&e!==t.type,n="undirected"===e,i=t._edges.values();return new G((function(){for(var t,e;;){if((t=i.next()).done)return t;if(e=t.value,!r||e.undirected===n)break}return{value:{edge:e.key,attributes:e.attributes,source:e.source.key,target:e.target.key,sourceAttributes:e.source.attributes,targetAttributes:e.target.attributes,undirected:e.undirected},done:!1}}))}function At(t,e,r,n){var i=[],o=t?at:ot;return"undirected"!==e&&("out"!==r&&o(i,n.in),"in"!==r&&o(i,n.out),!r&&n.directedSelfLoops>0&&i.splice(i.lastIndexOf(n.key),1)),"directed"!==e&&o(i,n.undirected),i}function Nt(t,e,r,n,i){var o=t?ut:st;"undirected"!==e&&("out"!==r&&o(n.in,i),"in"!==r&&o(n.out,i,r?null:n.key)),"directed"!==e&&o(n.undirected,i)}function _t(t,e,r,n,i){var o,a=t?ht:ct;if("undirected"!==e){if("out"!==r&&(o=a(n.in,i)))return o;if("in"!==r&&(o=a(n.out,i,r?null:n.key)))return o}if("directed"!==e&&(o=a(n.undirected,i)))return o}function kt(t,e,r){var n=G.empty();return"undirected"!==t&&("out"!==e&&void 0!==r.in&&(n=nt(n,dt(r.in))),"in"!==e&&void 0!==r.out&&(n=nt(n,dt(r.out,e?null:r.key)))),"directed"!==t&&void 0!==r.undirected&&(n=nt(n,dt(r.undirected))),n}function St(t,e,r,n,i){var o=e?lt:ft,a=[];return"undirected"!==t&&(void 0!==n.in&&"out"!==r&&o(a,n.in,i),void 0!==n.out&&"in"!==r&&o(a,n.out,i),!r&&n.directedSelfLoops>0&&a.splice(a.lastIndexOf(n.key),1)),"directed"!==t&&void 0!==n.undirected&&o(a,n.undirected,i),a}function Dt(t,e,r,n,i,o){var a=e?gt:pt;"undirected"!==t&&(void 0!==n.in&&"out"!==r&&a(n.in,i,o),n.key!==i&&void 0!==n.out&&"in"!==r&&a(n.out,i,o)),"directed"!==t&&void 0!==n.undirected&&a(n.undirected,i,o)}function Mt(t,e,r,n,i,o){var a,s=e?yt:mt;if("undirected"!==t){if(void 0!==n.in&&"out"!==r&&(a=s(n.in,i,o)))return a;if(n.key!==i&&void 0!==n.out&&"in"!==r&&(a=s(n.out,i,o,r?null:n.key)))return a}if("directed"!==t&&void 0!==n.undirected&&(a=s(n.undirected,i,o)))return a}function Ct(t,e,r,n){var i=G.empty();return"undirected"!==t&&(void 0!==r.in&&"out"!==e&&n in r.in&&(i=nt(i,vt(r.in,n))),void 0!==r.out&&"in"!==e&&n in r.out&&(i=nt(i,vt(r.out,n)))),"directed"!==t&&void 0!==r.undirected&&n in r.undirected&&(i=nt(i,vt(r.undirected,n))),i}var Tt=[{name:"neighbors",type:"mixed"},{name:"inNeighbors",type:"directed",direction:"in"},{name:"outNeighbors",type:"directed",direction:"out"},{name:"inboundNeighbors",type:"mixed",direction:"in"},{name:"outboundNeighbors",type:"mixed",direction:"out"},{name:"directedNeighbors",type:"directed"},{name:"undirectedNeighbors",type:"undirected"}];function Ot(t,e){if(void 0!==e)for(var r in e)t.add(r)}function Gt(t,e,r){for(var n in e){var i=e[n];i instanceof Set&&(i=i.values().next().value);var o=i.source,a=i.target,s=o===t?a:o;r(s.key,s.attributes)}}function It(t,e,r,n){for(var i in r){var o=r[i];o instanceof Set&&(o=o.values().next().value);var a=o.source,s=o.target,u=a===e?s:a;t.has(u.key)||(t.add(u.key),n(u.key,u.attributes))}}function zt(t,e,r){for(var n in e){var i=e[n];i instanceof Set&&(i=i.values().next().value);var o=i.source,a=i.target,s=o===t?a:o;if(r(s.key,s.attributes))return s.key}}function Lt(t,e,r,n){for(var i in r){var o=r[i];o instanceof Set&&(o=o.values().next().value);var a=o.source,s=o.target,u=a===e?s:a;if(!t.has(u.key)&&(t.add(u.key),n(u.key,u.attributes)))return u.key}}function Ut(t,e){var r=Object.keys(e),n=r.length,i=0;return new G((function(){if(i>=n)return{done:!0};var o=e[r[i++]];o instanceof Set&&(o=o.values().next().value);var a=o.source,s=o.target,u=a===t?s:a;return{done:!1,value:{neighbor:u.key,attributes:u.attributes}}}))}function Pt(t,e,r){var n=Object.keys(r),i=n.length,o=0;return new G((function a(){if(o>=i)return{done:!0};var s=r[n[o++]];s instanceof Set&&(s=s.values().next().value);var u=s.source,c=s.target,h=u===e?c:u;return t.has(h.key)?a():(t.add(h.key),{done:!1,value:{neighbor:h.key,attributes:h.attributes}})}))}function Rt(t,e,r,n,i){for(var o,a,s,u,c,h,d,f=n._nodes.values(),l=n.type;!0!==(o=f.next()).done;){var p=!1;if(a=o.value,"undirected"!==l)for(s in u=a.out)if(h=(c=u[s]).target,p=!0,d=i(a.key,h.key,a.attributes,h.attributes,c.key,c.attributes,c.undirected),t&&d)return c;if("directed"!==l)for(s in u=a.undirected)if(!(e&&a.key>s)&&((h=(c=u[s]).target).key!==s&&(h=c.source),p=!0,d=i(a.key,h.key,a.attributes,h.attributes,c.key,c.attributes,c.undirected),t&&d))return c;if(r&&!p&&(d=i(a.key,null,a.attributes,null,null,null,null),t&&d))return null}}function jt(t,e,r,n,i){for(var o,a,s,u,c,h,d,f,l,p=n._nodes.values(),g=n.type;!0!==(o=p.next()).done;){var m=!1;if(a=o.value,"undirected"!==g)for(s in h=a.out)for(u=h[s].values();!0!==(c=u.next()).done;)if(f=(d=c.value).target,m=!0,l=i(a.key,f.key,a.attributes,f.attributes,d.key,d.attributes,d.undirected),t&&l)return d;if("directed"!==g)for(s in h=a.undirected)if(!(e&&a.key>s))for(u=h[s].values();!0!==(c=u.next()).done;)if((f=(d=c.value).target).key!==s&&(f=d.source),m=!0,l=i(a.key,f.key,a.attributes,f.attributes,d.key,d.attributes,d.undirected),t&&l)return d;if(r&&!m&&(l=i(a.key,null,a.attributes,null,null,null,null),t&&l))return null}}function Wt(t,e){var r={key:t};return f(e.attributes)||(r.attributes=u({},e.attributes)),r}function Ft(t,e){var r={key:t,source:e.source.key,target:e.target.key};return f(e.attributes)||(r.attributes=u({},e.attributes)),e.undirected&&(r.undirected=!0),r}function qt(t){return d(t)?"key"in t?!("attributes"in t)||d(t.attributes)&&null!==t.attributes?null:"invalid-attributes":"no-key":"not-object"}function Bt(t){return d(t)?"source"in t?"target"in t?!("attributes"in t)||d(t.attributes)&&null!==t.attributes?"undirected"in t&&"boolean"!=typeof t.undirected?"invalid-undirected":null:"invalid-attributes":"no-target":"no-source":"not-object"}var Ht,Xt=(Ht=255&Math.floor(256*Math.random()),function(){return Ht++}),Vt=new Set(["directed","undirected","mixed"]),Kt=new Set(["domain","_events","_eventsCount","_maxListeners"]),Yt={allowSelfLoops:!0,multi:!1,type:"mixed"};function $t(t,e,r){var n=new t.NodeDataClass(e,r);return t._nodes.set(e,n),t.emit("nodeAdded",{key:e,attributes:r}),n}function Zt(t,e,r,n,i,o,a,s){if(!n&&"undirected"===t.type)throw new H("Graph.".concat(e,": you cannot add a directed edge to an undirected graph. Use the #.addEdge or #.addUndirectedEdge instead."));if(n&&"directed"===t.type)throw new H("Graph.".concat(e,": you cannot add an undirected edge to a directed graph. Use the #.addEdge or #.addDirectedEdge instead."));if(s&&!d(s))throw new q("Graph.".concat(e,': invalid attributes. Expecting an object but got "').concat(s,'"'));if(o=""+o,a=""+a,s=s||{},!t.allowSelfLoops&&o===a)throw new H("Graph.".concat(e,': source & target are the same ("').concat(o,"\"), thus creating a loop explicitly forbidden by this graph 'allowSelfLoops' option set to false."));var u=t._nodes.get(o),c=t._nodes.get(a);if(!u)throw new B("Graph.".concat(e,': source node "').concat(o,'" not found.'));if(!c)throw new B("Graph.".concat(e,': target node "').concat(a,'" not found.'));var h={key:null,undirected:n,source:o,target:a,attributes:s};if(r)i=t._edgeKeyGenerator();else if(i=""+i,t._edges.has(i))throw new H("Graph.".concat(e,': the "').concat(i,'" edge already exists in the graph.'));if(!t.multi&&(n?void 0!==u.undirected[a]:void 0!==u.out[a]))throw new H("Graph.".concat(e,': an edge linking "').concat(o,'" to "').concat(a,"\" already exists. If you really want to add multiple edges linking those nodes, you should create a multi graph by using the 'multi' option."));var f=new Y(n,i,u,c,s);return t._edges.set(i,f),o===a?n?(u.undirectedSelfLoops++,t._undirectedSelfLoopCount++):(u.directedSelfLoops++,t._directedSelfLoopCount++):n?(u.undirectedDegree++,c.undirectedDegree++):(u.outDegree++,c.inDegree++),$(t,n,f,o,a,u,c),n?t._undirectedSize++:t._directedSize++,h.key=i,t.emit("edgeAdded",h),i}function Qt(t,e,r,n,i,o,a,s,c){if(!n&&"undirected"===t.type)throw new H("Graph.".concat(e,": you cannot merge/update a directed edge to an undirected graph. Use the #.mergeEdge/#.updateEdge or #.addUndirectedEdge instead."));if(n&&"directed"===t.type)throw new H("Graph.".concat(e,": you cannot merge/update an undirected edge to a directed graph. Use the #.mergeEdge/#.updateEdge or #.addDirectedEdge instead."));if(s)if(c){if("function"!=typeof s)throw new q("Graph.".concat(e,': invalid updater function. Expecting a function but got "').concat(s,'"'))}else if(!d(s))throw new q("Graph.".concat(e,': invalid attributes. Expecting an object but got "').concat(s,'"'));var h;if(o=""+o,a=""+a,c&&(h=s,s=void 0),!t.allowSelfLoops&&o===a)throw new H("Graph.".concat(e,': source & target are the same ("').concat(o,"\"), thus creating a loop explicitly forbidden by this graph 'allowSelfLoops' option set to false."));var f,l,p=t._nodes.get(o),g=t._nodes.get(a);if(!r&&(f=t._edges.get(i))){if(f.source.key!==o||f.target.key!==a||n&&(f.source.key!==a||f.target.key!==o))throw new H("Graph.".concat(e,': inconsistency detected when attempting to merge the "').concat(i,'" edge with "').concat(o,'" source & "').concat(a,'" target vs. ("').concat(f.source.key,'", "').concat(f.target.key,'").'));l=f}if(l||t.multi||!p||(l=n?p.undirected[a]:p.out[a]),l){var m=[l.key,!1,!1,!1];if(c?!h:!s)return m;if(c){var y=l.attributes;l.attributes=h(y),t.emit("edgeAttributesUpdated",{type:"replace",key:l.key,attributes:l.attributes})}else u(l.attributes,s),t.emit("edgeAttributesUpdated",{type:"merge",key:l.key,attributes:l.attributes,data:s});return m}s=s||{},c&&h&&(s=h(s));var v={key:null,undirected:n,source:o,target:a,attributes:s};if(r)i=t._edgeKeyGenerator();else if(i=""+i,t._edges.has(i))throw new H("Graph.".concat(e,': the "').concat(i,'" edge already exists in the graph.'));var b=!1,w=!1;return p||(p=$t(t,o,{}),b=!0,o===a&&(g=p,w=!0)),g||(g=$t(t,a,{}),w=!0),f=new Y(n,i,p,g,s),t._edges.set(i,f),o===a?n?(p.undirectedSelfLoops++,t._undirectedSelfLoopCount++):(p.directedSelfLoops++,t._directedSelfLoopCount++):n?(p.undirectedDegree++,g.undirectedDegree++):(p.outDegree++,g.inDegree++),$(t,n,f,o,a,p,g),n?t._undirectedSize++:t._directedSize++,v.key=i,t.emit("edgeAdded",v),[i,!0,b,w]}var Jt=function(r){function n(t){var e;if(e=r.call(this)||this,"boolean"!=typeof(t=u({},Yt,t)).multi)throw new q("Graph.constructor: invalid 'multi' option. Expecting a boolean but got \"".concat(t.multi,'".'));if(!Vt.has(t.type))throw new q('Graph.constructor: invalid \'type\' option. Should be one of "mixed", "directed" or "undirected" but got "'.concat(t.type,'".'));if("boolean"!=typeof t.allowSelfLoops)throw new q("Graph.constructor: invalid 'allowSelfLoops' option. Expecting a boolean but got \"".concat(t.allowSelfLoops,'".'));var n="mixed"===t.type?X:"directed"===t.type?V:K;l(s(e),"NodeDataClass",n);var i=Xt(),o=0;return l(s(e),"_attributes",{}),l(s(e),"_nodes",new Map),l(s(e),"_edges",new Map),l(s(e),"_directedSize",0),l(s(e),"_undirectedSize",0),l(s(e),"_directedSelfLoopCount",0),l(s(e),"_undirectedSelfLoopCount",0),l(s(e),"_edgeKeyGenerator",(function(){var t;do{t="geid_"+i+"_"+o++}while(e._edges.has(t));return t})),l(s(e),"_options",t),Kt.forEach((function(t){return l(s(e),t,e[t])})),p(s(e),"order",(function(){return e._nodes.size})),p(s(e),"size",(function(){return e._edges.size})),p(s(e),"directedSize",(function(){return e._directedSize})),p(s(e),"undirectedSize",(function(){return e._undirectedSize})),p(s(e),"selfLoopCount",(function(){return e._directedSelfLoopCount+e._undirectedSelfLoopCount})),p(s(e),"directedSelfLoopCount",(function(){return e._directedSelfLoopCount})),p(s(e),"undirectedSelfLoopCount",(function(){return e._undirectedSelfLoopCount})),p(s(e),"multi",e._options.multi),p(s(e),"type",e._options.type),p(s(e),"allowSelfLoops",e._options.allowSelfLoops),p(s(e),"implementation",(function(){return"graphology"})),e}e(n,r);var i=n.prototype;return i._resetInstanceCounters=function(){this._directedSize=0,this._undirectedSize=0,this._directedSelfLoopCount=0,this._undirectedSelfLoopCount=0},i.hasNode=function(t){return this._nodes.has(""+t)},i.hasDirectedEdge=function(t,e){if("undirected"===this.type)return!1;if(1===arguments.length){var r=""+t,n=this._edges.get(r);return!!n&&!n.undirected}if(2===arguments.length){t=""+t,e=""+e;var i=this._nodes.get(t);if(!i)return!1;var o=i.out[e];return!(!o||this.multi&&!o.size)}throw new q("Graph.hasDirectedEdge: invalid arity (".concat(arguments.length,", instead of 1 or 2). You can either ask for an edge id or for the existence of an edge between a source & a target."))},i.hasUndirectedEdge=function(t,e){if("directed"===this.type)return!1;if(1===arguments.length){var r=""+t,n=this._edges.get(r);return!!n&&n.undirected}if(2===arguments.length){t=""+t,e=""+e;var i=this._nodes.get(t);if(!i)return!1;var o=i.undirected[e];return!(!o||this.multi&&!o.size)}throw new q("Graph.hasDirectedEdge: invalid arity (".concat(arguments.length,", instead of 1 or 2). You can either ask for an edge id or for the existence of an edge between a source & a target."))},i.hasEdge=function(t,e){if(1===arguments.length){var r=""+t;return this._edges.has(r)}if(2===arguments.length){t=""+t,e=""+e;var n=this._nodes.get(t);if(!n)return!1;var i=void 0!==n.out&&n.out[e];return i||(i=void 0!==n.undirected&&n.undirected[e]),!(!i||this.multi&&!i.size)}throw new q("Graph.hasEdge: invalid arity (".concat(arguments.length,", instead of 1 or 2). You can either ask for an edge id or for the existence of an edge between a source & a target."))},i.directedEdge=function(t,e){if("undirected"!==this.type){if(t=""+t,e=""+e,this.multi)throw new H("Graph.directedEdge: this method is irrelevant with multigraphs since there might be multiple edges between source & target. See #.directedEdges instead.");var r=this._nodes.get(t);if(!r)throw new B('Graph.directedEdge: could not find the "'.concat(t,'" source node in the graph.'));if(!this._nodes.has(e))throw new B('Graph.directedEdge: could not find the "'.concat(e,'" target node in the graph.'));var n=r.out&&r.out[e]||void 0;return n?n.key:void 0}},i.undirectedEdge=function(t,e){if("directed"!==this.type){if(t=""+t,e=""+e,this.multi)throw new H("Graph.undirectedEdge: this method is irrelevant with multigraphs since there might be multiple edges between source & target. See #.undirectedEdges instead.");var r=this._nodes.get(t);if(!r)throw new B('Graph.undirectedEdge: could not find the "'.concat(t,'" source node in the graph.'));if(!this._nodes.has(e))throw new B('Graph.undirectedEdge: could not find the "'.concat(e,'" target node in the graph.'));var n=r.undirected&&r.undirected[e]||void 0;return n?n.key:void 0}},i.edge=function(t,e){if(this.multi)throw new H("Graph.edge: this method is irrelevant with multigraphs since there might be multiple edges between source & target. See #.edges instead.");t=""+t,e=""+e;var r=this._nodes.get(t);if(!r)throw new B('Graph.edge: could not find the "'.concat(t,'" source node in the graph.'));if(!this._nodes.has(e))throw new B('Graph.edge: could not find the "'.concat(e,'" target node in the graph.'));var n=r.out&&r.out[e]||r.undirected&&r.undirected[e]||void 0;if(n)return n.key},i.areDirectedNeighbors=function(t,e){t=""+t,e=""+e;var r=this._nodes.get(t);if(!r)throw new B('Graph.areDirectedNeighbors: could not find the "'.concat(t,'" node in the graph.'));return"undirected"!==this.type&&(e in r.in||e in r.out)},i.areOutNeighbors=function(t,e){t=""+t,e=""+e;var r=this._nodes.get(t);if(!r)throw new B('Graph.areOutNeighbors: could not find the "'.concat(t,'" node in the graph.'));return"undirected"!==this.type&&e in r.out},i.areInNeighbors=function(t,e){t=""+t,e=""+e;var r=this._nodes.get(t);if(!r)throw new B('Graph.areInNeighbors: could not find the "'.concat(t,'" node in the graph.'));return"undirected"!==this.type&&e in r.in},i.areUndirectedNeighbors=function(t,e){t=""+t,e=""+e;var r=this._nodes.get(t);if(!r)throw new B('Graph.areUndirectedNeighbors: could not find the "'.concat(t,'" node in the graph.'));return"directed"!==this.type&&e in r.undirected},i.areNeighbors=function(t,e){t=""+t,e=""+e;var r=this._nodes.get(t);if(!r)throw new B('Graph.areNeighbors: could not find the "'.concat(t,'" node in the graph.'));return"undirected"!==this.type&&(e in r.in||e in r.out)||"directed"!==this.type&&e in r.undirected},i.areInboundNeighbors=function(t,e){t=""+t,e=""+e;var r=this._nodes.get(t);if(!r)throw new B('Graph.areInboundNeighbors: could not find the "'.concat(t,'" node in the graph.'));return"undirected"!==this.type&&e in r.in||"directed"!==this.type&&e in r.undirected},i.areOutboundNeighbors=function(t,e){t=""+t,e=""+e;var r=this._nodes.get(t);if(!r)throw new B('Graph.areOutboundNeighbors: could not find the "'.concat(t,'" node in the graph.'));return"undirected"!==this.type&&e in r.out||"directed"!==this.type&&e in r.undirected},i.inDegree=function(t){t=""+t;var e=this._nodes.get(t);if(!e)throw new B('Graph.inDegree: could not find the "'.concat(t,'" node in the graph.'));return"undirected"===this.type?0:e.inDegree+e.directedSelfLoops},i.outDegree=function(t){t=""+t;var e=this._nodes.get(t);if(!e)throw new B('Graph.outDegree: could not find the "'.concat(t,'" node in the graph.'));return"undirected"===this.type?0:e.outDegree+e.directedSelfLoops},i.directedDegree=function(t){t=""+t;var e=this._nodes.get(t);if(!e)throw new B('Graph.directedDegree: could not find the "'.concat(t,'" node in the graph.'));if("undirected"===this.type)return 0;var r=e.directedSelfLoops;return e.inDegree+r+(e.outDegree+r)},i.undirectedDegree=function(t){t=""+t;var e=this._nodes.get(t);if(!e)throw new B('Graph.undirectedDegree: could not find the "'.concat(t,'" node in the graph.'));if("directed"===this.type)return 0;var r=e.undirectedSelfLoops;return e.undirectedDegree+2*r},i.degree=function(t){t=""+t;var e=this._nodes.get(t);if(!e)throw new B('Graph.degree: could not find the "'.concat(t,'" node in the graph.'));var r=0;return"directed"!==this.type&&(r+=e.undirectedDegree+2*e.undirectedSelfLoops),"undirected"!==this.type&&(r+=e.inDegree+e.outDegree+2*e.directedSelfLoops),r},i.inDegreeWithoutSelfLoops=function(t){t=""+t;var e=this._nodes.get(t);if(!e)throw new B('Graph.inDegreeWithoutSelfLoops: could not find the "'.concat(t,'" node in the graph.'));return"undirected"===this.type?0:e.inDegree},i.outDegreeWithoutSelfLoops=function(t){t=""+t;var e=this._nodes.get(t);if(!e)throw new B('Graph.outDegreeWithoutSelfLoops: could not find the "'.concat(t,'" node in the graph.'));return"undirected"===this.type?0:e.outDegree},i.directedDegreeWithoutSelfLoops=function(t){t=""+t;var e=this._nodes.get(t);if(!e)throw new B('Graph.directedDegreeWithoutSelfLoops: could not find the "'.concat(t,'" node in the graph.'));return"undirected"===this.type?0:e.inDegree+e.outDegree},i.undirectedDegreeWithoutSelfLoops=function(t){t=""+t;var e=this._nodes.get(t);if(!e)throw new B('Graph.undirectedDegreeWithoutSelfLoops: could not find the "'.concat(t,'" node in the graph.'));return"directed"===this.type?0:e.undirectedDegree},i.degreeWithoutSelfLoops=function(t){t=""+t;var e=this._nodes.get(t);if(!e)throw new B('Graph.degreeWithoutSelfLoops: could not find the "'.concat(t,'" node in the graph.'));var r=0;return"directed"!==this.type&&(r+=e.undirectedDegree),"undirected"!==this.type&&(r+=e.inDegree+e.outDegree),r},i.source=function(t){t=""+t;var e=this._edges.get(t);if(!e)throw new B('Graph.source: could not find the "'.concat(t,'" edge in the graph.'));return e.source.key},i.target=function(t){t=""+t;var e=this._edges.get(t);if(!e)throw new B('Graph.target: could not find the "'.concat(t,'" edge in the graph.'));return e.target.key},i.extremities=function(t){t=""+t;var e=this._edges.get(t);if(!e)throw new B('Graph.extremities: could not find the "'.concat(t,'" edge in the graph.'));return[e.source.key,e.target.key]},i.opposite=function(t,e){t=""+t,e=""+e;var r=this._edges.get(e);if(!r)throw new B('Graph.opposite: could not find the "'.concat(e,'" edge in the graph.'));var n=r.source.key,i=r.target.key;if(t===n)return i;if(t===i)return n;throw new B('Graph.opposite: the "'.concat(t,'" node is not attached to the "').concat(e,'" edge (').concat(n,", ").concat(i,")."))},i.hasExtremity=function(t,e){t=""+t,e=""+e;var r=this._edges.get(t);if(!r)throw new B('Graph.hasExtremity: could not find the "'.concat(t,'" edge in the graph.'));return r.source.key===e||r.target.key===e},i.isUndirected=function(t){t=""+t;var e=this._edges.get(t);if(!e)throw new B('Graph.isUndirected: could not find the "'.concat(t,'" edge in the graph.'));return e.undirected},i.isDirected=function(t){t=""+t;var e=this._edges.get(t);if(!e)throw new B('Graph.isDirected: could not find the "'.concat(t,'" edge in the graph.'));return!e.undirected},i.isSelfLoop=function(t){t=""+t;var e=this._edges.get(t);if(!e)throw new B('Graph.isSelfLoop: could not find the "'.concat(t,'" edge in the graph.'));return e.source===e.target},i.addNode=function(t,e){var r=function(t,e,r){if(r&&!d(r))throw new q('Graph.addNode: invalid attributes. Expecting an object but got "'.concat(r,'"'));if(e=""+e,r=r||{},t._nodes.has(e))throw new H('Graph.addNode: the "'.concat(e,'" node already exist in the graph.'));var n=new t.NodeDataClass(e,r);return t._nodes.set(e,n),t.emit("nodeAdded",{key:e,attributes:r}),n}(this,t,e);return r.key},i.mergeNode=function(t,e){if(e&&!d(e))throw new q('Graph.mergeNode: invalid attributes. Expecting an object but got "'.concat(e,'"'));t=""+t,e=e||{};var r=this._nodes.get(t);return r?(e&&(u(r.attributes,e),this.emit("nodeAttributesUpdated",{type:"merge",key:t,attributes:r.attributes,data:e})),[t,!1]):(r=new this.NodeDataClass(t,e),this._nodes.set(t,r),this.emit("nodeAdded",{key:t,attributes:e}),[t,!0])},i.updateNode=function(t,e){if(e&&"function"!=typeof e)throw new q('Graph.updateNode: invalid updater function. Expecting a function but got "'.concat(e,'"'));t=""+t;var r=this._nodes.get(t);if(r){if(e){var n=r.attributes;r.attributes=e(n),this.emit("nodeAttributesUpdated",{type:"replace",key:t,attributes:r.attributes})}return[t,!1]}var i=e?e({}):{};return r=new this.NodeDataClass(t,i),this._nodes.set(t,r),this.emit("nodeAdded",{key:t,attributes:i}),[t,!0]},i.dropNode=function(t){var e=this;t=""+t;var r=this._nodes.get(t);if(!r)throw new B('Graph.dropNode: could not find the "'.concat(t,'" node in the graph.'));this.forEachEdge(t,(function(t){e.dropEdge(t)})),this._nodes.delete(t),this.emit("nodeDropped",{key:t,attributes:r.attributes})},i.dropEdge=function(t){var e;if(arguments.length>1){var r=""+arguments[0],n=""+arguments[1];if(!(e=c(this,r,n,this.type)))throw new B('Graph.dropEdge: could not find the "'.concat(r,'" -> "').concat(n,'" edge in the graph.'))}else if(t=""+t,!(e=this._edges.get(t)))throw new B('Graph.dropEdge: could not find the "'.concat(t,'" edge in the graph.'));this._edges.delete(e.key);var i=e,o=i.source,a=i.target,s=i.attributes,u=e.undirected;return o===a?u?(o.undirectedSelfLoops--,this._undirectedSelfLoopCount--):(o.directedSelfLoops--,this._directedSelfLoopCount--):u?(o.undirectedDegree--,a.undirectedDegree--):(o.outDegree--,a.inDegree--),Z(this,u,e),u?this._undirectedSize--:this._directedSize--,this.emit("edgeDropped",{key:t,attributes:s,source:o.key,target:a.key,undirected:u}),this},i.clear=function(){this._edges.clear(),this._nodes.clear(),this._resetInstanceCounters(),this.emit("cleared")},i.clearEdges=function(){!function(t){for(var e,r=t._nodes.values();!0!==(e=r.next()).done;)e.value.clear()}(this),this._edges.clear(),this._resetInstanceCounters(),this.emit("edgesCleared")},i.getAttribute=function(t){return this._attributes[t]},i.getAttributes=function(){return this._attributes},i.hasAttribute=function(t){return this._attributes.hasOwnProperty(t)},i.setAttribute=function(t,e){return this._attributes[t]=e,this.emit("attributesUpdated",{type:"set",attributes:this._attributes,name:t}),this},i.updateAttribute=function(t,e){if("function"!=typeof e)throw new q("Graph.updateAttribute: updater should be a function.");var r=this._attributes[t];return this._attributes[t]=e(r),this.emit("attributesUpdated",{type:"set",attributes:this._attributes,name:t}),this},i.removeAttribute=function(t){return delete this._attributes[t],this.emit("attributesUpdated",{type:"remove",attributes:this._attributes,name:t}),this},i.replaceAttributes=function(t){if(!d(t))throw new q("Graph.replaceAttributes: provided attributes are not a plain object.");return this._attributes=t,this.emit("attributesUpdated",{type:"replace",attributes:this._attributes}),this},i.mergeAttributes=function(t){if(!d(t))throw new q("Graph.mergeAttributes: provided attributes are not a plain object.");return u(this._attributes,t),this.emit("attributesUpdated",{type:"merge",attributes:this._attributes,data:t}),this},i.updateAttributes=function(t){if("function"!=typeof t)throw new q("Graph.updateAttributes: provided updater is not a function.");return this._attributes=t(this._attributes),this.emit("attributesUpdated",{type:"update",attributes:this._attributes}),this},i.updateEachNodeAttributes=function(t,e){if("function"!=typeof t)throw new q("Graph.updateEachNodeAttributes: expecting an updater function.");if(e&&!g(e))throw new q("Graph.updateEachNodeAttributes: invalid hints. Expecting an object having the following shape: {attributes?: [string]}");for(var r,n,i=this._nodes.values();!0!==(r=i.next()).done;)(n=r.value).attributes=t(n.key,n.attributes);this.emit("eachNodeAttributesUpdated",{hints:e||null})},i.updateEachEdgeAttributes=function(t,e){if("function"!=typeof t)throw new q("Graph.updateEachEdgeAttributes: expecting an updater function.");if(e&&!g(e))throw new q("Graph.updateEachEdgeAttributes: invalid hints. Expecting an object having the following shape: {attributes?: [string]}");for(var r,n,i,o,a=this._edges.values();!0!==(r=a.next()).done;)i=(n=r.value).source,o=n.target,n.attributes=t(n.key,n.attributes,i.key,o.key,i.attributes,o.attributes,n.undirected);this.emit("eachEdgeAttributesUpdated",{hints:e||null})},i.forEachAdjacencyEntry=function(t){if("function"!=typeof t)throw new q("Graph.forEachAdjacencyEntry: expecting a callback.");this.multi?jt(!1,!1,!1,this,t):Rt(!1,!1,!1,this,t)},i.forEachAdjacencyEntryWithOrphans=function(t){if("function"!=typeof t)throw new q("Graph.forEachAdjacencyEntryWithOrphans: expecting a callback.");this.multi?jt(!1,!1,!0,this,t):Rt(!1,!1,!0,this,t)},i.forEachAssymetricAdjacencyEntry=function(t){if("function"!=typeof t)throw new q("Graph.forEachAssymetricAdjacencyEntry: expecting a callback.");this.multi?jt(!1,!0,!1,this,t):Rt(!1,!0,!1,this,t)},i.forEachAssymetricAdjacencyEntryWithOrphans=function(t){if("function"!=typeof t)throw new q("Graph.forEachAssymetricAdjacencyEntryWithOrphans: expecting a callback.");this.multi?jt(!1,!0,!0,this,t):Rt(!1,!0,!0,this,t)},i.nodes=function(){return"function"==typeof Array.from?Array.from(this._nodes.keys()):W(this._nodes.keys(),this._nodes.size)},i.forEachNode=function(t){if("function"!=typeof t)throw new q("Graph.forEachNode: expecting a callback.");for(var e,r,n=this._nodes.values();!0!==(e=n.next()).done;)t((r=e.value).key,r.attributes)},i.findNode=function(t){if("function"!=typeof t)throw new q("Graph.findNode: expecting a callback.");for(var e,r,n=this._nodes.values();!0!==(e=n.next()).done;)if(t((r=e.value).key,r.attributes))return r.key},i.mapNodes=function(t){if("function"!=typeof t)throw new q("Graph.mapNode: expecting a callback.");for(var e,r,n=this._nodes.values(),i=new Array(this.order),o=0;!0!==(e=n.next()).done;)r=e.value,i[o++]=t(r.key,r.attributes);return i},i.someNode=function(t){if("function"!=typeof t)throw new q("Graph.someNode: expecting a callback.");for(var e,r,n=this._nodes.values();!0!==(e=n.next()).done;)if(t((r=e.value).key,r.attributes))return!0;return!1},i.everyNode=function(t){if("function"!=typeof t)throw new q("Graph.everyNode: expecting a callback.");for(var e,r,n=this._nodes.values();!0!==(e=n.next()).done;)if(!t((r=e.value).key,r.attributes))return!1;return!0},i.filterNodes=function(t){if("function"!=typeof t)throw new q("Graph.filterNodes: expecting a callback.");for(var e,r,n=this._nodes.values(),i=[];!0!==(e=n.next()).done;)t((r=e.value).key,r.attributes)&&i.push(r.key);return i},i.reduceNodes=function(t,e){if("function"!=typeof t)throw new q("Graph.reduceNodes: expecting a callback.");if(arguments.length<2)throw new q("Graph.reduceNodes: missing initial value. You must provide it because the callback takes more than one argument and we cannot infer the initial value from the first iteration, as you could with a simple array.");for(var r,n,i=e,o=this._nodes.values();!0!==(r=o.next()).done;)i=t(i,(n=r.value).key,n.attributes);return i},i.nodeEntries=function(){var t=this._nodes.values();return new G((function(){var e=t.next();if(e.done)return e;var r=e.value;return{value:{node:r.key,attributes:r.attributes},done:!1}}))},i.exportNode=function(t){t=""+t;var e=this._nodes.get(t);if(!e)throw new B('Graph.exportNode: could not find the "'.concat(t,'" node in the graph.'));return Wt(t,e)},i.exportEdge=function(t){t=""+t;var e=this._edges.get(t);if(!e)throw new B('Graph.exportEdge: could not find the "'.concat(t,'" edge in the graph.'));return Ft(t,e)},i.export=function(){var t=new Array(this._nodes.size),e=0;this._nodes.forEach((function(r,n){t[e++]=Wt(n,r)}));var r=new Array(this._edges.size);return e=0,this._edges.forEach((function(t,n){r[e++]=Ft(n,t)})),{attributes:this.getAttributes(),nodes:t,edges:r,options:{type:this.type,multi:this.multi,allowSelfLoops:this.allowSelfLoops}}},i.importNode=function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=qt(t);if(r){if("not-object"===r)throw new q('Graph.importNode: invalid serialized node. A serialized node should be a plain object with at least a "key" property.');if("no-key"===r)throw new q("Graph.importNode: no key provided.");if("invalid-attributes"===r)throw new q("Graph.importNode: invalid attributes. Attributes should be a plain object, null or omitted.")}var n=t.key,i=t.attributes,o=void 0===i?{}:i;return e?this.mergeNode(n,o):this.addNode(n,o),this},i.importEdge=function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=Bt(t);if(r){if("not-object"===r)throw new q('Graph.importEdge: invalid serialized edge. A serialized edge should be a plain object with at least a "source" & "target" property.');if("no-source"===r)throw new q("Graph.importEdge: missing souce.");if("no-target"===r)throw new q("Graph.importEdge: missing target.");if("invalid-attributes"===r)throw new q("Graph.importEdge: invalid attributes. Attributes should be a plain object, null or omitted.");if("invalid-undirected"===r)throw new q("Graph.importEdge: invalid undirected. Undirected should be boolean or omitted.")}var n=t.source,i=t.target,o=t.attributes,a=void 0===o?{}:o,s=t.undirected,u=void 0!==s&&s;return"key"in t?(e?u?this.mergeUndirectedEdgeWithKey:this.mergeDirectedEdgeWithKey:u?this.addUndirectedEdgeWithKey:this.addDirectedEdgeWithKey).call(this,t.key,n,i,a):(e?u?this.mergeUndirectedEdge:this.mergeDirectedEdge:u?this.addUndirectedEdge:this.addDirectedEdge).call(this,n,i,a),this},i.import=function(t){var e,r,n,i=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(h(t))return this.import(t.export(),i),this;if(!d(t))throw new q("Graph.import: invalid argument. Expecting a serialized graph or, alternatively, a Graph instance.");if(t.attributes){if(!d(t.attributes))throw new q("Graph.import: invalid attributes. Expecting a plain object.");i?this.mergeAttributes(t.attributes):this.replaceAttributes(t.attributes)}if(t.nodes){if(n=t.nodes,!Array.isArray(n))throw new q("Graph.import: invalid nodes. Expecting an array.");for(e=0,r=n.length;e<r;e++)this.importNode(n[e],i)}if(t.edges){if(n=t.edges,!Array.isArray(n))throw new q("Graph.import: invalid edges. Expecting an array.");for(e=0,r=n.length;e<r;e++)this.importEdge(n[e],i)}return this},i.nullCopy=function(t){var e=new n(u({},this._options,t));return e.replaceAttributes(u({},this.getAttributes())),e},i.emptyCopy=function(t){var e=this.nullCopy(t);return this._nodes.forEach((function(t,r){var n=u({},t.attributes);t=new e.NodeDataClass(r,n),e._nodes.set(r,t)})),e},i.copy=function(){for(var t,e,r=this.emptyCopy(),n=this._edges.values();!0!==(t=n.next()).done;)Zt(r,"copy",!1,(e=t.value).undirected,e.key,e.source.key,e.target.key,u({},e.attributes));return r},i.upgradeToMixed=function(){return"mixed"===this.type||(this._nodes.forEach((function(t){return t.upgradeToMixed()})),this._options.type="mixed",p(this,"type",this._options.type),l(this,"NodeDataClass",X)),this},i.upgradeToMulti=function(){return this.multi||(this._options.multi=!0,p(this,"multi",!0),(t=this)._nodes.forEach((function(e,r){if(e.out)for(var n in e.out){var i=new Set;i.add(e.out[n]),e.out[n]=i,t._nodes.get(n).in[r]=i}if(e.undirected)for(var o in e.undirected)if(!(o>r)){var a=new Set;a.add(e.undirected[o]),e.undirected[o]=a,t._nodes.get(o).undirected[r]=a}}))),this;var t},i.toJSON=function(){return this.export()},i.toString=function(){return"[object Graph]"},i.inspect=function(){var e=this,r={};this._nodes.forEach((function(t,e){r[e]=t.attributes}));var n={},i={};this._edges.forEach((function(t,r){var o,a=t.undirected?"--":"->",s="",u=t.source.key,c=t.target.key;t.undirected&&u>c&&(o=u,u=c,c=o);var h="(".concat(u,")").concat(a,"(").concat(c,")");r.startsWith("geid_")?e.multi&&(void 0===i[h]?i[h]=0:i[h]++,s+="".concat(i[h],". ")):s+="[".concat(r,"]: "),n[s+=h]=t.attributes}));var o={};for(var a in this)this.hasOwnProperty(a)&&!Kt.has(a)&&"function"!=typeof this[a]&&"symbol"!==t(a)&&(o[a]=this[a]);return o.attributes=this._attributes,o.nodes=r,o.edges=n,l(o,"constructor",this.constructor),o},n}(y.exports.EventEmitter);"undefined"!=typeof Symbol&&(Jt.prototype[Symbol.for("nodejs.util.inspect.custom")]=Jt.prototype.inspect),[{name:function(t){return"".concat(t,"Edge")},generateKey:!0},{name:function(t){return"".concat(t,"DirectedEdge")},generateKey:!0,type:"directed"},{name:function(t){return"".concat(t,"UndirectedEdge")},generateKey:!0,type:"undirected"},{name:function(t){return"".concat(t,"EdgeWithKey")}},{name:function(t){return"".concat(t,"DirectedEdgeWithKey")},type:"directed"},{name:function(t){return"".concat(t,"UndirectedEdgeWithKey")},type:"undirected"}].forEach((function(t){["add","merge","update"].forEach((function(e){var r=t.name(e),n="add"===e?Zt:Qt;t.generateKey?Jt.prototype[r]=function(i,o,a){return n(this,r,!0,"undirected"===(t.type||this.type),null,i,o,a,"update"===e)}:Jt.prototype[r]=function(i,o,a,s){return n(this,r,!1,"undirected"===(t.type||this.type),i,o,a,s,"update"===e)}}))})),function(t){J.forEach((function(e){var r=e.name,n=e.attacher;n(t,r("Node"),0),n(t,r("Source"),1),n(t,r("Target"),2),n(t,r("Opposite"),3)}))}(Jt),function(t){tt.forEach((function(e){var r=e.name,n=e.attacher;n(t,r("Edge"),"mixed"),n(t,r("DirectedEdge"),"directed"),n(t,r("UndirectedEdge"),"undirected")}))}(Jt),function(t){it.forEach((function(e){!function(t,e){var r=e.name,n=e.type,i=e.direction;t.prototype[r]=function(t,e){if("mixed"!==n&&"mixed"!==this.type&&n!==this.type)return[];if(!arguments.length)return bt(this,n);if(1===arguments.length){t=""+t;var o=this._nodes.get(t);if(void 0===o)throw new B("Graph.".concat(r,': could not find the "').concat(t,'" node in the graph.'));return At(this.multi,"mixed"===n?this.type:n,i,o)}if(2===arguments.length){t=""+t,e=""+e;var a=this._nodes.get(t);if(!a)throw new B("Graph.".concat(r,':  could not find the "').concat(t,'" source node in the graph.'));if(!this._nodes.has(e))throw new B("Graph.".concat(r,':  could not find the "').concat(e,'" target node in the graph.'));return St(n,this.multi,i,a,e)}throw new q("Graph.".concat(r,": too many arguments (expecting 0, 1 or 2 and got ").concat(arguments.length,")."))}}(t,e),function(t,e){var r=e.name,n=e.type,i=e.direction,o="forEach"+r[0].toUpperCase()+r.slice(1,-1);t.prototype[o]=function(t,e,r){if("mixed"===n||"mixed"===this.type||n===this.type){if(1===arguments.length)return wt(this,n,r=t);if(2===arguments.length){t=""+t,r=e;var a=this._nodes.get(t);if(void 0===a)throw new B("Graph.".concat(o,': could not find the "').concat(t,'" node in the graph.'));return Nt(this.multi,"mixed"===n?this.type:n,i,a,r)}if(3===arguments.length){t=""+t,e=""+e;var s=this._nodes.get(t);if(!s)throw new B("Graph.".concat(o,':  could not find the "').concat(t,'" source node in the graph.'));if(!this._nodes.has(e))throw new B("Graph.".concat(o,':  could not find the "').concat(e,'" target node in the graph.'));return Dt(n,this.multi,i,s,e,r)}throw new q("Graph.".concat(o,": too many arguments (expecting 1, 2 or 3 and got ").concat(arguments.length,")."))}};var a="map"+r[0].toUpperCase()+r.slice(1);t.prototype[a]=function(){var t,e=Array.prototype.slice.call(arguments),r=e.pop();if(0===e.length){var i=0;"directed"!==n&&(i+=this.undirectedSize),"undirected"!==n&&(i+=this.directedSize),t=new Array(i);var a=0;e.push((function(e,n,i,o,s,u,c){t[a++]=r(e,n,i,o,s,u,c)}))}else t=[],e.push((function(e,n,i,o,a,s,u){t.push(r(e,n,i,o,a,s,u))}));return this[o].apply(this,e),t};var s="filter"+r[0].toUpperCase()+r.slice(1);t.prototype[s]=function(){var t=Array.prototype.slice.call(arguments),e=t.pop(),r=[];return t.push((function(t,n,i,o,a,s,u){e(t,n,i,o,a,s,u)&&r.push(t)})),this[o].apply(this,t),r};var u="reduce"+r[0].toUpperCase()+r.slice(1);t.prototype[u]=function(){var t,e,r=Array.prototype.slice.call(arguments);if(r.length<2||r.length>4)throw new q("Graph.".concat(u,": invalid number of arguments (expecting 2, 3 or 4 and got ").concat(r.length,")."));if("function"==typeof r[r.length-1]&&"function"!=typeof r[r.length-2])throw new q("Graph.".concat(u,": missing initial value. You must provide it because the callback takes more than one argument and we cannot infer the initial value from the first iteration, as you could with a simple array."));2===r.length?(t=r[0],e=r[1],r=[]):3===r.length?(t=r[1],e=r[2],r=[r[0]]):4===r.length&&(t=r[2],e=r[3],r=[r[0],r[1]]);var n=e;return r.push((function(e,r,i,o,a,s,u){n=t(n,e,r,i,o,a,s,u)})),this[o].apply(this,r),n}}(t,e),function(t,e){var r=e.name,n=e.type,i=e.direction,o="find"+r[0].toUpperCase()+r.slice(1,-1);t.prototype[o]=function(t,e,r){if("mixed"!==n&&"mixed"!==this.type&&n!==this.type)return!1;if(1===arguments.length)return xt(this,n,r=t);if(2===arguments.length){t=""+t,r=e;var a=this._nodes.get(t);if(void 0===a)throw new B("Graph.".concat(o,': could not find the "').concat(t,'" node in the graph.'));return _t(this.multi,"mixed"===n?this.type:n,i,a,r)}if(3===arguments.length){t=""+t,e=""+e;var s=this._nodes.get(t);if(!s)throw new B("Graph.".concat(o,':  could not find the "').concat(t,'" source node in the graph.'));if(!this._nodes.has(e))throw new B("Graph.".concat(o,':  could not find the "').concat(e,'" target node in the graph.'));return Mt(n,this.multi,i,s,e,r)}throw new q("Graph.".concat(o,": too many arguments (expecting 1, 2 or 3 and got ").concat(arguments.length,")."))};var a="some"+r[0].toUpperCase()+r.slice(1,-1);t.prototype[a]=function(){var t=Array.prototype.slice.call(arguments),e=t.pop();return t.push((function(t,r,n,i,o,a,s){return e(t,r,n,i,o,a,s)})),!!this[o].apply(this,t)};var s="every"+r[0].toUpperCase()+r.slice(1,-1);t.prototype[s]=function(){var t=Array.prototype.slice.call(arguments),e=t.pop();return t.push((function(t,r,n,i,o,a,s){return!e(t,r,n,i,o,a,s)})),!this[o].apply(this,t)}}(t,e),function(t,e){var r=e.name,n=e.type,i=e.direction,o=r.slice(0,-1)+"Entries";t.prototype[o]=function(t,e){if("mixed"!==n&&"mixed"!==this.type&&n!==this.type)return G.empty();if(!arguments.length)return Et(this,n);if(1===arguments.length){t=""+t;var r=this._nodes.get(t);if(!r)throw new B("Graph.".concat(o,': could not find the "').concat(t,'" node in the graph.'));return kt(n,i,r)}if(2===arguments.length){t=""+t,e=""+e;var a=this._nodes.get(t);if(!a)throw new B("Graph.".concat(o,':  could not find the "').concat(t,'" source node in the graph.'));if(!this._nodes.has(e))throw new B("Graph.".concat(o,':  could not find the "').concat(e,'" target node in the graph.'));return Ct(n,i,a,e)}throw new q("Graph.".concat(o,": too many arguments (expecting 0, 1 or 2 and got ").concat(arguments.length,")."))}}(t,e)}))}(Jt),function(t){Tt.forEach((function(e){(function(t,e){var r=e.name,n=e.type,i=e.direction;t.prototype[r]=function(t){if("mixed"!==n&&"mixed"!==this.type&&n!==this.type)return[];t=""+t;var e=this._nodes.get(t);if(void 0===e)throw new B("Graph.".concat(r,': could not find the "').concat(t,'" node in the graph.'));return function(t,e,r){if("mixed"!==t){if("undirected"===t)return Object.keys(r.undirected);if("string"==typeof e)return Object.keys(r[e])}var n=new Set;return"undirected"!==t&&("out"!==e&&Ot(n,r.in),"in"!==e&&Ot(n,r.out)),"directed"!==t&&Ot(n,r.undirected),W(n.values(),n.size)}("mixed"===n?this.type:n,i,e)}})(t,e),function(t,e){var r=e.name,n=e.type,i=e.direction,o="forEach"+r[0].toUpperCase()+r.slice(1,-1);t.prototype[o]=function(t,e){if("mixed"===n||"mixed"===this.type||n===this.type){t=""+t;var r=this._nodes.get(t);if(void 0===r)throw new B("Graph.".concat(o,': could not find the "').concat(t,'" node in the graph.'));!function(t,e,r,n){if("mixed"!==t){if("undirected"===t)return Gt(r,r.undirected,n);if("string"==typeof e)return Gt(r,r[e],n)}var i=new Set;"undirected"!==t&&("out"!==e&&It(i,r,r.in,n),"in"!==e&&It(i,r,r.out,n)),"directed"!==t&&It(i,r,r.undirected,n)}("mixed"===n?this.type:n,i,r,e)}};var a="map"+r[0].toUpperCase()+r.slice(1);t.prototype[a]=function(t,e){var r=[];return this[o](t,(function(t,n){r.push(e(t,n))})),r};var s="filter"+r[0].toUpperCase()+r.slice(1);t.prototype[s]=function(t,e){var r=[];return this[o](t,(function(t,n){e(t,n)&&r.push(t)})),r};var u="reduce"+r[0].toUpperCase()+r.slice(1);t.prototype[u]=function(t,e,r){if(arguments.length<3)throw new q("Graph.".concat(u,": missing initial value. You must provide it because the callback takes more than one argument and we cannot infer the initial value from the first iteration, as you could with a simple array."));var n=r;return this[o](t,(function(t,r){n=e(n,t,r)})),n}}(t,e),function(t,e){var r=e.name,n=e.type,i=e.direction,o=r[0].toUpperCase()+r.slice(1,-1),a="find"+o;t.prototype[a]=function(t,e){if("mixed"===n||"mixed"===this.type||n===this.type){t=""+t;var r=this._nodes.get(t);if(void 0===r)throw new B("Graph.".concat(a,': could not find the "').concat(t,'" node in the graph.'));return function(t,e,r,n){if("mixed"!==t){if("undirected"===t)return zt(r,r.undirected,n);if("string"==typeof e)return zt(r,r[e],n)}var i,o=new Set;if("undirected"!==t){if("out"!==e&&(i=Lt(o,r,r.in,n)))return i;if("in"!==e&&(i=Lt(o,r,r.out,n)))return i}if("directed"!==t&&(i=Lt(o,r,r.undirected,n)))return i}("mixed"===n?this.type:n,i,r,e)}};var s="some"+o;t.prototype[s]=function(t,e){return!!this[a](t,e)};var u="every"+o;t.prototype[u]=function(t,e){return!this[a](t,(function(t,r){return!e(t,r)}))}}(t,e),function(t,e){var r=e.name,n=e.type,i=e.direction,o=r.slice(0,-1)+"Entries";t.prototype[o]=function(t){if("mixed"!==n&&"mixed"!==this.type&&n!==this.type)return G.empty();t=""+t;var e=this._nodes.get(t);if(void 0===e)throw new B("Graph.".concat(o,': could not find the "').concat(t,'" node in the graph.'));return function(t,e,r){if("mixed"!==t){if("undirected"===t)return Ut(r,r.undirected);if("string"==typeof e)return Ut(r,r[e])}var n=G.empty(),i=new Set;return"undirected"!==t&&("out"!==e&&(n=nt(n,Pt(i,r,r.in))),"in"!==e&&(n=nt(n,Pt(i,r,r.out)))),"directed"!==t&&(n=nt(n,Pt(i,r,r.undirected))),n}("mixed"===n?this.type:n,i,e)}}(t,e)}))}(Jt);var te=function(t){function r(e){var r=u({type:"directed"},e);if("multi"in r&&!1!==r.multi)throw new q("DirectedGraph.from: inconsistent indication that the graph should be multi in given options!");if("directed"!==r.type)throw new q('DirectedGraph.from: inconsistent "'+r.type+'" type in given options!');return t.call(this,r)||this}return e(r,t),r}(Jt),ee=function(t){function r(e){var r=u({type:"undirected"},e);if("multi"in r&&!1!==r.multi)throw new q("UndirectedGraph.from: inconsistent indication that the graph should be multi in given options!");if("undirected"!==r.type)throw new q('UndirectedGraph.from: inconsistent "'+r.type+'" type in given options!');return t.call(this,r)||this}return e(r,t),r}(Jt),re=function(t){function r(e){var r=u({multi:!0},e);if("multi"in r&&!0!==r.multi)throw new q("MultiGraph.from: inconsistent indication that the graph should be simple in given options!");return t.call(this,r)||this}return e(r,t),r}(Jt),ne=function(t){function r(e){var r=u({type:"directed",multi:!0},e);if("multi"in r&&!0!==r.multi)throw new q("MultiDirectedGraph.from: inconsistent indication that the graph should be simple in given options!");if("directed"!==r.type)throw new q('MultiDirectedGraph.from: inconsistent "'+r.type+'" type in given options!');return t.call(this,r)||this}return e(r,t),r}(Jt),ie=function(t){function r(e){var r=u({type:"undirected",multi:!0},e);if("multi"in r&&!0!==r.multi)throw new q("MultiUndirectedGraph.from: inconsistent indication that the graph should be simple in given options!");if("undirected"!==r.type)throw new q('MultiUndirectedGraph.from: inconsistent "'+r.type+'" type in given options!');return t.call(this,r)||this}return e(r,t),r}(Jt);function oe(t){t.from=function(e,r){var n=u({},e.options,r),i=new t(n);return i.import(e),i}}return oe(Jt),oe(te),oe(ee),oe(re),oe(ne),oe(ie),Jt.Graph=Jt,Jt.DirectedGraph=te,Jt.UndirectedGraph=ee,Jt.MultiGraph=re,Jt.MultiDirectedGraph=ne,Jt.MultiUndirectedGraph=ie,Jt.InvalidArgumentsGraphError=q,Jt.NotFoundGraphError=B,Jt.UsageGraphError=H,Jt}()},1393:(t,e,r)=>{var n=r(1911),i={protanope:{x:.7465,y:.2535,m:1.273463,yint:-.073894},deuteranope:{x:1.4,y:-.4,m:.968437,yint:.003331},tritanope:{x:.1748,y:0,m:.062921,yint:.292119}};function o(){this.cache={}}o.prototype.simulate=function(t,e,r){r=r||1;var o=t.join("-")+"-"+e+"-"+r,a=this.cache[o];if(a)return a;var s=i[e].x,u=i[e].y,c=i[e].m,h=i[e].yint,d=n.labToRgb(t),f=d[0],l=d[1],p=d[2],g=f,m=l,y=p,v=Math.pow(f,2.2),b=Math.pow(l,2.2),w=Math.pow(p,2.2),x=.412424*v+.357579*b+.180464*w,E=.212656*v+.715158*b+.0721856*w,A=.0193324*v+.119193*b+.950444*w,N=x/(x+E+A),_=E/(x+E+A),k=(_-u)/(N-s),S=_-N*k,D=(h-S)/(k-c),M=k*D+S,C=.312713*E/.329016-(x=D*E/M),T=.358271*E/.329016-(A=(1-(D+M))*E/M),O=3.24071*C+-.498571*T,G=-.969258*C+.0415557*T,I=.0556352*C+1.05707*T,z=(((g=3.24071*x+-1.53726*E+-.498571*A)<0?0:1)-g)/O,L=(((m=-.969258*x+1.87599*E+.0415557*A)<0?0:1)-m)/G,U=(((y=.0556352*x+-.203996*E+1.05707*A)<0?0:1)-y)/I,P=Math.max(z>1||z<0?0:z,L>1||L<0?0:L,U>1||U<0?0:U);g+=P*O,m+=P*G,y+=P*I;var R=[g=f*(1-r)+(g=Math.pow(g,1/2.2))*r,m=l*(1-r)+(m=Math.pow(m,1/2.2))*r,y=p*(1-r)+(y=Math.pow(y,1/2.2))*r],j=n.rgbToLab(R);return this.cache[o]=j,j},o.prototype.euclidean=function(t,e){return Math.sqrt(Math.pow(t[0]-e[0],2)+Math.pow(t[1]-e[1],2)+Math.pow(t[2]-e[2],2))},o.prototype.cmc=function(t,e,r,n){for(var i=r[0],o=n[0],a=r[1],s=n[1],u=r[2],c=n[2],h=Math.sqrt(Math.pow(a,2)+Math.pow(u,2)),d=h-Math.sqrt(Math.pow(s,2)+Math.pow(c,2)),f=i-o,l=a-s,p=u-c,g=Math.sqrt(Math.pow(l,2)+Math.pow(p,2)+Math.pow(d,2)),m=Math.atan2(u,a)*(180/Math.PI);m<0;)m+=360;var y=Math.sqrt(Math.pow(h,4)/(Math.pow(h,4)+1900)),v=m>=164&&m<=345?.56+Math.abs(.2*Math.cos(m+168)):.36+Math.abs(.4*Math.cos(m+35)),b=r[0]<16?.511:.040975*i/(1+.01765*i),w=.0638*h/(1+.0131*h)+.638,x=w*(y*v+1-y);return Math.sqrt(Math.pow(f/(t*b),2)+Math.pow(d/(e*w),2)+Math.pow(g/x,2))}.bind(null,2,1),o.prototype.colorblind=function(t,e,r){return e=this.simulate(e,t),r=this.simulate(r,t),this.cmc(e,r)},Object.keys(i).forEach((function(t){o.prototype[t]=function(e,r){return this.colorblind(t,e,r)}})),o.prototype.compromise=function(t,e){var r=0,n=this.cmc(t,e);return r+=1e3*n,n=this.colorblind("protanope",t,e),isNaN(n)||(r+=100*n),n=this.colorblind("deuteranope",t,e),isNaN(n)||(r+=500*n),n=this.colorblind("tritanope",t,e),isNaN(n)||(r+=1*n),r/1601},o.prototype.get=function(t){return t in i?this.colorblind.bind(this,t):this[t].bind(this)},t.exports=o},1911:(t,e)=>{var r=.95047,n=1.08883,i=.137931034,o=.12841855;function a(t){return Math.round(255*(t<=.00304?12.92*t:1.055*Math.pow(t,1/2.4)-.055))}function s(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function u(t){return t>.008856452?Math.pow(t,1/3):t/o+i}function c(t){return t>.206896552?t*t*t:o*(t-i)}function h(t){var e=t[0],i=t[1],o=t[2],s=(e+16)/116,u=isNaN(i)?s:s+i/500,h=isNaN(o)?s:s-o/200;return s=1*c(s),[a(3.2404542*(u=r*c(u))-1.5371385*s-.4985314*(h=n*c(h))),a(-.969266*u+1.8760108*s+.041556*h),o=a(.0556434*u-.2040259*s+1.0572252*h)]}function d(t){return("0"+t.toString(16)).slice(-2)}var f=180/Math.PI;e.validateRgb=function(t){var e=t[0],r=t[1],n=t[2];return e>=0&&e<=255&&r>=0&&r<=255&&n>=0&&n<=255},e.labToRgb=h,e.labToRgbHex=function(t){var e=h(t);return"#"+d(e[0])+d(e[1])+d(e[2])},e.rgbToLab=function(t){var e=function(t){var e=t[0],i=t[1],o=t[2];return[u((.4124564*(e=s(e))+.3575761*(i=s(i))+.1804375*(o=s(o)))/r),u((.2126729*e+.7151522*i+.072175*o)/1),u((.0193339*e+.119192*i+.9503041*o)/n)]}(t),i=e[0],o=e[1],a=116*o-16;return[a<0?0:a,500*(i-o),200*(o-e[2])]},e.labToHcl=function(t){var e=t[0],r=t[1],n=t[2],i=Math.sqrt(r*r+n*n),o=(Math.atan2(n,r)*f+360)%360;return 0===Math.round(1e4*i)&&(o=NaN),[o,i,e]},e.diffSort=function(t,e){for(var r,n,i,o,a,s,u=[(e=e.slice()).shift()];e.length>0;){for(r=-1,n=-1/0,i=0;i<e.length;i++)for(o=e[i],s=0;s<u.length;s++)(a=t(o,u[s]))>n&&(n=a,r=i);u.push(e[r]),e.splice(r,1)}return u},e.computeQualityMetrics=function(t,e){var r,n,i,o,a=1/0,s=0,u=0;for(r=0,i=e.length;r<i;r++)for(n=r+1;n<i;n++)(o=t(e[r],e[n]))<a&&(a=o),s+=o,u++;return{min:a,mean:s/u}}},5225:(t,e,r)=>{var n=r(2668),i=r(1393),o=r(1911),a=r(1608),s=o.validateRgb,u=o.labToRgb,c=o.labToRgbHex,h=o.labToHcl,d=o.diffSort,f={attempts:1,colorFilter:null,colorSpace:"default",clustering:"k-means",quality:50,ultraPrecision:!1,distance:"euclidean",seed:null},l=new Set(["force-vector","k-means"]),p=new Set(["euclidean","cmc","compromise","protanope","deuteranope","tritanope"]),g=new Set(Object.keys(a));function m(t,e,r){for(var n,i,o=new Array(e),a=0;a<e;a++){do{n=[100*t(),100*(2*t()-1),100*(2*t()-1)],i=u(n)}while(!r(i,n));o[a]=n}return o}function y(t,e,r,n,i){for(var o,a,s,c,h,d,f,l,p,g,m,y,v,b=new Array(n.length),w=20*i.quality,x=n.length;w-- >0;){for(o=0;o<x;o++)b[o]={dl:0,da:0,db:0};for(o=0;o<x;o++)for(s=n[o],a=0;a<o;a++)(h=e(s,c=n[a]))>0?(d=s[0]-c[0],f=s[1]-c[1],l=s[2]-c[2],p=100/Math.pow(h,2),b[o].dl+=d*p/h,b[o].da+=f*p/h,b[o].db+=l*p/h,b[a].dl-=d*p/h,b[a].da-=f*p/h,b[a].db-=l*p/h):(b[a].dl+=2-4*t(),b[a].da+=2-4*t(),b[a].db+=2-4*t());for(o=0;o<x;o++)m=n[o],(v=100*Math.sqrt(Math.pow(b[o].dl,2)+Math.pow(b[o].da,2)+Math.pow(b[o].db,2)))>0&&(y=100*Math.min(.1,v)/v,g=[m[0]+b[o].dl*y,m[1]+b[o].da*y,m[2]+b[o].db*y],r(u(g),g)&&(n[o]=g))}}function v(t,e,r,n){var i,o,a,s,c=[],h=[],d=5,f=10,l=10;for(n.ultraPrecision&&(d=1,f=5,l=5),i=0;i<=100;i+=d)for(o=-100;o<=100;o+=f)for(a=-100;a<=100;a+=l)e(u(s=[i,o,a]),s)&&(c.push(s),h.push(null));for(var p,g,m,y,v,b,w,x,E,A=n.quality,N=c.length,_=r.length;A-- >0;){for(p=0;p<N;p++)for(m=c[p],v=1/0,g=0;g<_;g++)(y=t(r[g],m))<v&&(v=y,h[p]=g);for(b=c.slice(),g=0;g<_;g++){for(w=0,x=[0,0,0],p=0;p<N;p++)h[p]===g&&(w++,x[0]+=c[p][0],x[1]+=c[p][1],x[2]+=c[p][2]);if(0!==w)if(x[0]/=w,x[1]/=w,x[2]/=w,e(u(x),x))r[g]=x;else{if(b.length>0){for(v=1/0,E=-1,p=0;p<b.length;p++)(y=t(b[p],x))<v&&(v=y,E=p);r[g]=c[E]}else{for(v=1/0,E=-1,p=0;p<c.length;p++)(y=t(c[p],x))<v&&(v=y,E=p);r[g]=c[E]}b=b.filter((function(t){return t[0]!==r[g][0]||t[1]!==r[g][1]||t[2]!==r[g][2]}))}}}return r}t.exports=function(t,e){if("number"!=typeof t||t<2)throw new Error("iwanthue: expecting a color count > 2.");e=function(t){var e=Object.assign({},f,t);if("number"!=typeof e.attempts||e.attempts<=0)throw new Error("iwanthue: invalid `attempts` setting. Expecting a positive number.");if(e.colorFilter&&"function"!=typeof e.colorFilter)throw new Error("iwanthue: invalid `colorFilter` setting. Expecting a function.");if(!l.has(e.clustering))throw new Error('iwanthue: unknown `clustering` "'+e.clustering+'".');if("number"!=typeof e.quality||isNaN(e.quality)||e.quality<1)throw new Error("iwanthue: invalid `quality`. Expecting a number > 0.");if("boolean"!=typeof e.ultraPrecision)throw new Error("iwanthue: invalid `ultraPrecision`. Expecting a boolean.");if(!p.has(e.distance))throw new Error('iwanthue: unknown `distance` "'+e.distance+'".');if("string"==typeof e.seed&&(e.seed=function(t){for(var e=0,r=0,n=t.length;r<n;r++)e+=t.charCodeAt(r);return e}(e.seed)),null!==e.seed&&"number"!=typeof e.seed)throw new Error("iwanthue: invalid `seed`. Expecting an integer or a string.");if(!e.colorFilter&&e.colorSpace&&"all"!==e.colorSpace){var r;if("string"==typeof e.colorSpace){if(!g.has(e.colorSpace))throw new Error('iwanthue: unknown `colorSpace` "'+e.colorSpace+'".');r=a[e.colorSpace]}else if(Array.isArray(e.colorSpace)){if(6!==e.colorSpace.length)throw new Error("iwanthue: expecting a `colorSpace` array of length 6 ([hmin, hmax, cmin, cmax, lmin, lmax]).");r=e.colorSpace}else r=[e.colorSpace.hmin||0,e.colorSpace.hmax||360,e.colorSpace.cmin||0,e.colorSpace.cmax||100,e.colorSpace.lmin||0,e.colorSpace.lmax||100];r[0]<r[1]?e.colorFilter=function(t,e){var n=h(e);return n[0]>=r[0]&&n[0]<=r[1]&&n[1]>=r[2]&&n[1]<=r[3]&&n[2]>=r[4]&&n[2]<=r[5]}:e.colorFilter=function(t,e){var n=h(e);return(n[0]>=r[0]||n[0]<=r[1])&&n[1]>=r[2]&&n[1]<=r[3]&&n[2]>=r[4]&&n[2]<=r[5]}}return e}(e);for(var r,u,b,w=new n(e.seed),x=function(){return w.nextFloat()},E=(new i).get(e.distance),A=function(t,r){return!(!s(t)||e.colorFilter&&!e.colorFilter(t,r))},N=e.attempts,_=-1/0;N>0;)r=m(x,t,A),"force-vector"===e.clustering?y(x,E,A,r,e):v(E,A,r,e),(u=o.computeQualityMetrics(E,r)).min>_&&(_=u.min,b=r),N--;return(r=d(E,r=b)).map(c)}},1608:t=>{t.exports={all:[0,360,0,100,0,100],default:[0,360,30,80,35,80],colorblind:[0,360,40,70,15,85],"fancy-light":[0,360,15,40,70,100],"fancy-dark":[0,360,8,40,7,40],shades:[0,240,0,15,0,100],tarnish:[0,360,0,15,30,70],pastel:[0,360,0,30,70,100],pimp:[0,360,30,100,25,70],intense:[0,360,20,100,15,80],fluo:[0,300,35,100,75,100],"red-roses":[330,20,10,100,35,100],"ochre-sand":[20,60,20,50,35,100],"yellow-lime":[60,90,10,100,35,100],"green-mint":[90,150,10,100,35,100],"ice-cube":[150,200,0,100,35,100],"blue-ocean":[220,260,8,80,0,50],"indigo-night":[260,290,40,100,35,100],"purple-wine":[290,330,0,100,0,40]}},2668:t=>{function e(t){var e;t||(0,e=Math.pow(2,31)-1,t=0+Math.floor(Math.random()*(e-0+1))),this.seed=t%2147483647,this.seed<=0&&(this.seed+=2147483646)}e.prototype.next=function(){return this.seed=16807*this.seed%2147483647,this.seed},e.prototype.nextFloat=function(){return(this.next()-1)/2147483646},t.exports=e},937:(t,e,r)=>{var n=r(5499),i=r(7972),o=n.DEFAULT_COMPARATOR,a=n.reverseComparator;function s(t,e,r,n){for(var o,a=r,s=n,u=e[n],c=2*n+1;c<a;)(o=c+1)<a&&t(e[c],e[o])>=0&&(c=o),e[n]=e[c],c=2*(n=c)+1;e[n]=u,i.siftDown(t,e,s,n)}function u(t,e,r,n){for(var i,o,a=n,u=new t(n);a>0;)i=r[--a],0!==a&&(o=r[0],r[0]=i,s(e,r,--n,0),i=o),u[a]=i;return u}function c(t,e,r){if(2===arguments.length&&(r=e,e=null),this.ArrayClass=t,this.capacity=r,this.items=new t(r),this.clear(),this.comparator=e||o,"number"!=typeof r&&r<=0)throw new Error("mnemonist/FixedReverseHeap.constructor: capacity should be a number > 0.");if("function"!=typeof this.comparator)throw new Error("mnemonist/FixedReverseHeap.constructor: given comparator should be a function.");this.comparator=a(this.comparator)}c.prototype.clear=function(){this.size=0},c.prototype.push=function(t){return this.size<this.capacity?(this.items[this.size]=t,i.siftDown(this.comparator,this.items,0,this.size),this.size++):this.comparator(t,this.items[0])>0&&i.replace(this.comparator,this.items,t),this.size},c.prototype.peek=function(){return this.items[0]},c.prototype.consume=function(){var t=u(this.ArrayClass,this.comparator,this.items,this.size);return this.size=0,t},c.prototype.toArray=function(){return u(this.ArrayClass,this.comparator,this.items.slice(0,this.size),this.size)},c.prototype.inspect=function(){var t=this.toArray();return Object.defineProperty(t,"constructor",{value:c,enumerable:!1}),t},"undefined"!=typeof Symbol&&(c.prototype[Symbol.for("nodejs.util.inspect.custom")]=c.prototype.inspect),t.exports=c},7972:(t,e,r)=>{var n=r(113),i=r(5499),o=r(650),a=i.DEFAULT_COMPARATOR,s=i.reverseComparator;function u(t,e,r,n){for(var i,o,a=e[n];n>r&&t(a,o=e[i=n-1>>1])<0;)e[n]=o,n=i;e[n]=a}function c(t,e,r){for(var n,i=e.length,o=r,a=e[r],s=2*r+1;s<i;)(n=s+1)<i&&t(e[s],e[n])>=0&&(s=n),e[r]=e[s],s=2*(r=s)+1;e[r]=a,u(t,e,o,r)}function h(t,e,r){e.push(r),u(t,e,0,e.length-1)}function d(t,e){var r=e.pop();if(0!==e.length){var n=e[0];return e[0]=r,c(t,e,0),n}return r}function f(t,e,r){if(0===e.length)throw new Error("mnemonist/heap.replace: cannot pop an empty heap.");var n=e[0];return e[0]=r,c(t,e,0),n}function l(t,e,r){var n;return 0!==e.length&&t(e[0],r)<0&&(n=e[0],e[0]=r,r=n,c(t,e,0)),r}function p(t,e){for(var r=e.length>>1;--r>=0;)c(t,e,r)}function g(t,e){for(var r=e.length,n=0,i=new Array(r);n<r;)i[n++]=d(t,e);return i}function m(t){if(this.clear(),this.comparator=t||a,"function"!=typeof this.comparator)throw new Error("mnemonist/Heap.constructor: given comparator should be a function.")}function y(t){if(this.clear(),this.comparator=t||a,"function"!=typeof this.comparator)throw new Error("mnemonist/MaxHeap.constructor: given comparator should be a function.");this.comparator=s(this.comparator)}m.prototype.clear=function(){this.items=[],this.size=0},m.prototype.push=function(t){return h(this.comparator,this.items,t),++this.size},m.prototype.peek=function(){return this.items[0]},m.prototype.pop=function(){return 0!==this.size&&this.size--,d(this.comparator,this.items)},m.prototype.replace=function(t){return f(this.comparator,this.items,t)},m.prototype.pushpop=function(t){return l(this.comparator,this.items,t)},m.prototype.consume=function(){return this.size=0,g(this.comparator,this.items)},m.prototype.toArray=function(){return g(this.comparator,this.items.slice())},m.prototype.inspect=function(){var t=this.toArray();return Object.defineProperty(t,"constructor",{value:m,enumerable:!1}),t},"undefined"!=typeof Symbol&&(m.prototype[Symbol.for("nodejs.util.inspect.custom")]=m.prototype.inspect),y.prototype=m.prototype,m.from=function(t,e){var r,n=new m(e);return r=o.isArrayLike(t)?t.slice():o.toArray(t),p(n.comparator,r),n.items=r,n.size=r.length,n},y.from=function(t,e){var r,n=new y(e);return r=o.isArrayLike(t)?t.slice():o.toArray(t),p(n.comparator,r),n.items=r,n.size=r.length,n},m.siftUp=c,m.siftDown=u,m.push=h,m.pop=d,m.replace=f,m.pushpop=l,m.heapify=p,m.consume=g,m.nsmallest=function(t,e,r){2===arguments.length&&(r=e,e=t,t=a);var i,u,c,h,d=s(t),l=1/0;if(1===e){if(o.isArrayLike(r)){for(i=0,u=r.length;i<u;i++)c=r[i],(l===1/0||t(c,l)<0)&&(l=c);return(h=new r.constructor(1))[0]=l,h}return n(r,(function(e){(l===1/0||t(e,l)<0)&&(l=e)})),[l]}if(o.isArrayLike(r)){if(e>=r.length)return r.slice().sort(t);for(h=r.slice(0,e),p(d,h),i=e,u=r.length;i<u;i++)d(r[i],h[0])>0&&f(d,h,r[i]);return h.sort(t)}var g=o.guessLength(r);return null!==g&&g<e&&(e=g),h=new Array(e),i=0,n(r,(function(t){i<e?h[i]=t:(i===e&&p(d,h),d(t,h[0])>0&&f(d,h,t)),i++})),h.length>i&&(h.length=i),h.sort(t)},m.nlargest=function(t,e,r){2===arguments.length&&(r=e,e=t,t=a);var i,u,c,h,d=s(t),l=-1/0;if(1===e){if(o.isArrayLike(r)){for(i=0,u=r.length;i<u;i++)c=r[i],(l===-1/0||t(c,l)>0)&&(l=c);return(h=new r.constructor(1))[0]=l,h}return n(r,(function(e){(l===-1/0||t(e,l)>0)&&(l=e)})),[l]}if(o.isArrayLike(r)){if(e>=r.length)return r.slice().sort(d);for(h=r.slice(0,e),p(t,h),i=e,u=r.length;i<u;i++)t(r[i],h[0])>0&&f(t,h,r[i]);return h.sort(d)}var g=o.guessLength(r);return null!==g&&g<e&&(e=g),h=new Array(e),i=0,n(r,(function(r){i<e?h[i]=r:(i===e&&p(t,h),t(r,h[0])>0&&f(t,h,r)),i++})),h.length>i&&(h.length=i),h.sort(d)},m.MinHeap=m,m.MaxHeap=y,t.exports=m},4054:(t,e,r)=>{var n=r(4993),i=r(113),o=r(937),a=function(t,e){return t[1]>e[1]?-1:t[1]<e[1]?1:0};function s(){this.items=new Map,Object.defineProperty(this.items,"constructor",{value:s,enumerable:!1}),this.clear()}s.prototype.clear=function(){this.size=0,this.dimension=0,this.items.clear()},s.prototype.add=function(t,e){if(0===e)return this;if(e<0)return this.remove(t,-e);if("number"!=typeof(e=e||1))throw new Error("mnemonist/multi-set.add: given count should be a number.");this.size+=e;const r=this.items.get(t);return void 0===r?this.dimension++:e+=r,this.items.set(t,e),this},s.prototype.set=function(t,e){var r;if("number"!=typeof e)throw new Error("mnemonist/multi-set.set: given count should be a number.");return e<=0?(void 0!==(r=this.items.get(t))&&(this.size-=r,this.dimension--),this.items.delete(t),this):(e=e||1,"number"==typeof(r=this.items.get(t))?this.items.set(t,r+e):(this.dimension++,this.items.set(t,e)),this.size+=e,this)},s.prototype.has=function(t){return this.items.has(t)},s.prototype.delete=function(t){var e=this.items.get(t);return 0!==e&&(this.size-=e,this.dimension--,this.items.delete(t),!0)},s.prototype.remove=function(t,e){if(0!==e){if(e<0)return this.add(t,-e);if("number"!=typeof(e=e||1))throw new Error("mnemonist/multi-set.remove: given count should be a number.");var r=this.multiplicity(t),n=Math.max(0,r-e);0===n?this.delete(t):(this.items.set(t,n),this.size-=r-n)}},s.prototype.edit=function(t,e){var r=this.multiplicity(t);if(0!==r){var n=this.multiplicity(e);return this.items.set(e,r+n),this.items.delete(t),this}},s.prototype.multiplicity=function(t){var e=this.items.get(t);return void 0===e?0:e},s.prototype.get=s.prototype.multiplicity,s.prototype.count=s.prototype.multiplicity,s.prototype.frequency=function(t){return 0===this.size?0:this.multiplicity(t)/this.size},s.prototype.top=function(t){if("number"!=typeof t||t<=0)throw new Error("mnemonist/multi-set.top: n must be a number > 0.");for(var e,r=new o(Array,a,t),n=this.items.entries();!(e=n.next()).done;)r.push(e.value);return r.consume()},s.prototype.forEach=function(t,e){var r;e=arguments.length>1?e:this,this.items.forEach((function(n,i){for(r=0;r<n;r++)t.call(e,i,i)}))},s.prototype.forEachMultiplicity=function(t,e){e=arguments.length>1?e:this,this.items.forEach(t,e)},s.prototype.keys=function(){return this.items.keys()},s.prototype.values=function(){var t,e,r,i,o=this.items.entries(),a=!1;return new n((function n(){if(!a){if((t=o.next()).done)return{done:!0};a=!0,e=t.value[0],r=t.value[1],i=0}return i>=r?(a=!1,n()):(i++,{done:!1,value:e})}))},s.prototype.multiplicities=function(){return this.items.entries()},"undefined"!=typeof Symbol&&(s.prototype[Symbol.iterator]=s.prototype.values),s.prototype.inspect=function(){return this.items},"undefined"!=typeof Symbol&&(s.prototype[Symbol.for("nodejs.util.inspect.custom")]=s.prototype.inspect),s.prototype.toJSON=function(){return this.items},s.from=function(t){var e=new s;return i(t,(function(t){e.add(t)})),e},s.isSubset=function(t,e){var r,n,i,o=t.multiplicities();if(t===e)return!0;if(t.dimension>e.dimension)return!1;for(;!(r=o.next()).done;)if(n=r.value[0],i=r.value[1],e.multiplicity(n)<i)return!1;return!0},s.isSuperset=function(t,e){return s.isSubset(e,t)},t.exports=s},5499:(t,e)=>{e.DEFAULT_COMPARATOR=function(t,e){return t<e?-1:t>e?1:0},e.DEFAULT_REVERSE_COMPARATOR=function(t,e){return t<e?1:t>e?-1:0},e.reverseComparator=function(t){return function(e,r){return t(r,e)}},e.createTupleComparator=function(t){return 2===t?function(t,e){return t[0]<e[0]?-1:t[0]>e[0]?1:t[1]<e[1]?-1:t[1]>e[1]?1:0}:function(e,r){for(var n=0;n<t;){if(e[n]<r[n])return-1;if(e[n]>r[n])return 1;n++}return 0}}},650:(t,e,r)=>{var n=r(113),i=r(3801);function o(t){return"number"==typeof t.length?t.length:"number"==typeof t.size?t.size:void 0}e.isArrayLike=function(t){return Array.isArray(t)||i.isTypedArray(t)},e.guessLength=o,e.toArray=function(t){var e=o(t),r="number"==typeof e?new Array(e):[],i=0;return n(t,(function(t){r[i++]=t})),r},e.toArrayWithIndices=function(t){var e=o(t),r="number"==typeof e?i.getPointerArray(e):Array,a="number"==typeof e?new Array(e):[],s="number"==typeof e?new r(e):[],u=0;return n(t,(function(t){a[u]=t,s[u]=u++})),[a,s]}},3801:(t,e)=>{var r=Math.pow(2,8)-1,n=Math.pow(2,16)-1,i=Math.pow(2,32)-1,o=Math.pow(2,7)-1,a=Math.pow(2,15)-1,s=Math.pow(2,31)-1;e.getPointerArray=function(t){var e=t-1;if(e<=r)return Uint8Array;if(e<=n)return Uint16Array;if(e<=i)return Uint32Array;throw new Error("mnemonist: Pointer Array of size > 4294967295 is not supported.")},e.getSignedPointerArray=function(t){var e=t-1;return e<=o?Int8Array:e<=a?Int16Array:e<=s?Int32Array:Float64Array},e.getNumberType=function(t){return t===(0|t)?-1===Math.sign(t)?t<=127&&t>=-128?Int8Array:t<=32767&&t>=-32768?Int16Array:Int32Array:t<=255?Uint8Array:t<=65535?Uint16Array:Uint32Array:Float64Array};var u={Uint8Array:1,Int8Array:2,Uint16Array:3,Int16Array:4,Uint32Array:5,Int32Array:6,Float32Array:7,Float64Array:8};e.getMinimalRepresentation=function(t,r){var n,i,o,a,s,c=null,h=0;for(a=0,s=t.length;a<s;a++)o=r?r(t[a]):t[a],i=e.getNumberType(o),(n=u[i.name])>h&&(h=n,c=i);return c},e.isTypedArray=function(t){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView(t)},e.concat=function(){var t,e,r,n=0;for(t=0,r=arguments.length;t<r;t++)n+=arguments[t].length;var i=new arguments[0].constructor(n);for(t=0,e=0;t<r;t++)i.set(arguments[t],e),e+=arguments[t].length;return i},e.indices=function(t){for(var r=new(e.getPointerArray(t))(t),n=0;n<t;n++)r[n]=n;return r}},113:(t,e,r)=>{var n=r(4844),i=n.ARRAY_BUFFER_SUPPORT,o=n.SYMBOL_SUPPORT;t.exports=function(t,e){var r,n,a,s,u;if(!t)throw new Error("obliterator/forEach: invalid iterable.");if("function"!=typeof e)throw new Error("obliterator/forEach: expecting a callback.");if(Array.isArray(t)||i&&ArrayBuffer.isView(t)||"string"==typeof t||"[object Arguments]"===t.toString())for(a=0,s=t.length;a<s;a++)e(t[a],a);else if("function"!=typeof t.forEach)if(o&&Symbol.iterator in t&&"function"!=typeof t.next&&(t=t[Symbol.iterator]()),"function"!=typeof t.next)for(n in t)t.hasOwnProperty(n)&&e(t[n],n);else for(r=t,a=0;!0!==(u=r.next()).done;)e(u.value,a),a++;else t.forEach(e)}},4993:t=>{function e(t){if("function"!=typeof t)throw new Error("obliterator/iterator: expecting a function!");this.next=t}"undefined"!=typeof Symbol&&(e.prototype[Symbol.iterator]=function(){return this}),e.of=function(){var t=arguments,r=t.length,n=0;return new e((function(){return n>=r?{done:!0}:{done:!1,value:t[n++]}}))},e.empty=function(){return new e((function(){return{done:!0}}))},e.fromSequence=function(t){var r=0,n=t.length;return new e((function(){return r>=n?{done:!0}:{done:!1,value:t[r++]}}))},e.is=function(t){return t instanceof e||"object"==typeof t&&null!==t&&"function"==typeof t.next},t.exports=e},4844:(t,e)=>{e.ARRAY_BUFFER_SUPPORT="undefined"!=typeof ArrayBuffer,e.SYMBOL_SUPPORT="undefined"!=typeof Symbol},1732:t=>{function e(t){return function(e,r){return e+t()*(r-e)}}var r=e(Math.random);r.createRandomFloat=e,t.exports=r},9502:(t,e,r)=>{var n=r(8610).createRandom;function i(t){var e=n(t);return function(t){return"number"!=typeof t&&(t=t.length),e(0,t-1)}}var o=i(Math.random);o.createRandomIndex=i,t.exports=o},8610:t=>{function e(t){return function(e,r){return e+Math.floor(t()*(r-e+1))}}var r=e(Math.random);r.createRandom=e,t.exports=r},6377:(t,e,r)=>{var n=r(4832),i=r(8652),o=r(801),a=r(2030),s=r(3618),u=r(9049),c=r(1971);c.alea=n,c.xor128=i,c.xorwow=o,c.xorshift7=a,c.xor4096=s,c.tychei=u,t.exports=c},4832:function(t,e,r){var n;!function(t,i,o){function a(t){var e,r=this,n=(e=4022871197,function(t){t=String(t);for(var r=0;r<t.length;r++){var n=.02519603282416938*(e+=t.charCodeAt(r));n-=e=n>>>0,e=(n*=e)>>>0,e+=4294967296*(n-=e)}return 2.3283064365386963e-10*(e>>>0)});r.next=function(){var t=2091639*r.s0+2.3283064365386963e-10*r.c;return r.s0=r.s1,r.s1=r.s2,r.s2=t-(r.c=0|t)},r.c=1,r.s0=n(" "),r.s1=n(" "),r.s2=n(" "),r.s0-=n(t),r.s0<0&&(r.s0+=1),r.s1-=n(t),r.s1<0&&(r.s1+=1),r.s2-=n(t),r.s2<0&&(r.s2+=1),n=null}function s(t,e){return e.c=t.c,e.s0=t.s0,e.s1=t.s1,e.s2=t.s2,e}function u(t,e){var r=new a(t),n=e&&e.state,i=r.next;return i.int32=function(){return 4294967296*r.next()|0},i.double=function(){return i()+11102230246251565e-32*(2097152*i()|0)},i.quick=i,n&&("object"==typeof n&&s(n,r),i.state=function(){return s(r,{})}),i}i&&i.exports?i.exports=u:r.amdD&&r.amdO?void 0===(n=function(){return u}.call(e,r,e,i))||(i.exports=n):this.alea=u}(0,t=r.nmd(t),r.amdD)},9049:function(t,e,r){var n;!function(t,i,o){function a(t){var e=this,r="";e.next=function(){var t=e.b,r=e.c,n=e.d,i=e.a;return t=t<<25^t>>>7^r,r=r-n|0,n=n<<24^n>>>8^i,i=i-t|0,e.b=t=t<<20^t>>>12^r,e.c=r=r-n|0,e.d=n<<16^r>>>16^i,e.a=i-t|0},e.a=0,e.b=0,e.c=-1640531527,e.d=1367130551,t===Math.floor(t)?(e.a=t/4294967296|0,e.b=0|t):r+=t;for(var n=0;n<r.length+20;n++)e.b^=0|r.charCodeAt(n),e.next()}function s(t,e){return e.a=t.a,e.b=t.b,e.c=t.c,e.d=t.d,e}function u(t,e){var r=new a(t),n=e&&e.state,i=function(){return(r.next()>>>0)/4294967296};return i.double=function(){do{var t=((r.next()>>>11)+(r.next()>>>0)/4294967296)/(1<<21)}while(0===t);return t},i.int32=r.next,i.quick=i,n&&("object"==typeof n&&s(n,r),i.state=function(){return s(r,{})}),i}i&&i.exports?i.exports=u:r.amdD&&r.amdO?void 0===(n=function(){return u}.call(e,r,e,i))||(i.exports=n):this.tychei=u}(0,t=r.nmd(t),r.amdD)},8652:function(t,e,r){var n;!function(t,i,o){function a(t){var e=this,r="";e.x=0,e.y=0,e.z=0,e.w=0,e.next=function(){var t=e.x^e.x<<11;return e.x=e.y,e.y=e.z,e.z=e.w,e.w^=e.w>>>19^t^t>>>8},t===(0|t)?e.x=t:r+=t;for(var n=0;n<r.length+64;n++)e.x^=0|r.charCodeAt(n),e.next()}function s(t,e){return e.x=t.x,e.y=t.y,e.z=t.z,e.w=t.w,e}function u(t,e){var r=new a(t),n=e&&e.state,i=function(){return(r.next()>>>0)/4294967296};return i.double=function(){do{var t=((r.next()>>>11)+(r.next()>>>0)/4294967296)/(1<<21)}while(0===t);return t},i.int32=r.next,i.quick=i,n&&("object"==typeof n&&s(n,r),i.state=function(){return s(r,{})}),i}i&&i.exports?i.exports=u:r.amdD&&r.amdO?void 0===(n=function(){return u}.call(e,r,e,i))||(i.exports=n):this.xor128=u}(0,t=r.nmd(t),r.amdD)},3618:function(t,e,r){var n;!function(t,i,o){function a(t){var e=this;e.next=function(){var t,r,n=e.w,i=e.X,o=e.i;return e.w=n=n+1640531527|0,r=i[o+34&127],t=i[o=o+1&127],r^=r<<13,t^=t<<17,r^=r>>>15,t^=t>>>12,r=i[o]=r^t,e.i=o,r+(n^n>>>16)|0},function(t,e){var r,n,i,o,a,s=[],u=128;for(e===(0|e)?(n=e,e=null):(e+="\0",n=0,u=Math.max(u,e.length)),i=0,o=-32;o<u;++o)e&&(n^=e.charCodeAt((o+32)%e.length)),0===o&&(a=n),n^=n<<10,n^=n>>>15,n^=n<<4,n^=n>>>13,o>=0&&(a=a+1640531527|0,i=0==(r=s[127&o]^=n+a)?i+1:0);for(i>=128&&(s[127&(e&&e.length||0)]=-1),i=127,o=512;o>0;--o)n=s[i+34&127],r=s[i=i+1&127],n^=n<<13,r^=r<<17,n^=n>>>15,r^=r>>>12,s[i]=n^r;t.w=a,t.X=s,t.i=i}(e,t)}function s(t,e){return e.i=t.i,e.w=t.w,e.X=t.X.slice(),e}function u(t,e){null==t&&(t=+new Date);var r=new a(t),n=e&&e.state,i=function(){return(r.next()>>>0)/4294967296};return i.double=function(){do{var t=((r.next()>>>11)+(r.next()>>>0)/4294967296)/(1<<21)}while(0===t);return t},i.int32=r.next,i.quick=i,n&&(n.X&&s(n,r),i.state=function(){return s(r,{})}),i}i&&i.exports?i.exports=u:r.amdD&&r.amdO?void 0===(n=function(){return u}.call(e,r,e,i))||(i.exports=n):this.xor4096=u}(0,t=r.nmd(t),r.amdD)},2030:function(t,e,r){var n;!function(t,i,o){function a(t){var e=this;e.next=function(){var t,r,n=e.x,i=e.i;return t=n[i],r=(t^=t>>>7)^t<<24,r^=(t=n[i+1&7])^t>>>10,r^=(t=n[i+3&7])^t>>>3,r^=(t=n[i+4&7])^t<<7,t=n[i+7&7],r^=(t^=t<<13)^t<<9,n[i]=r,e.i=i+1&7,r},function(t,e){var r,n=[];if(e===(0|e))n[0]=e;else for(e=""+e,r=0;r<e.length;++r)n[7&r]=n[7&r]<<15^e.charCodeAt(r)+n[r+1&7]<<13;for(;n.length<8;)n.push(0);for(r=0;r<8&&0===n[r];++r);for(8==r?n[7]=-1:n[r],t.x=n,t.i=0,r=256;r>0;--r)t.next()}(e,t)}function s(t,e){return e.x=t.x.slice(),e.i=t.i,e}function u(t,e){null==t&&(t=+new Date);var r=new a(t),n=e&&e.state,i=function(){return(r.next()>>>0)/4294967296};return i.double=function(){do{var t=((r.next()>>>11)+(r.next()>>>0)/4294967296)/(1<<21)}while(0===t);return t},i.int32=r.next,i.quick=i,n&&(n.x&&s(n,r),i.state=function(){return s(r,{})}),i}i&&i.exports?i.exports=u:r.amdD&&r.amdO?void 0===(n=function(){return u}.call(e,r,e,i))||(i.exports=n):this.xorshift7=u}(0,t=r.nmd(t),r.amdD)},801:function(t,e,r){var n;!function(t,i,o){function a(t){var e=this,r="";e.next=function(){var t=e.x^e.x>>>2;return e.x=e.y,e.y=e.z,e.z=e.w,e.w=e.v,(e.d=e.d+362437|0)+(e.v=e.v^e.v<<4^t^t<<1)|0},e.x=0,e.y=0,e.z=0,e.w=0,e.v=0,t===(0|t)?e.x=t:r+=t;for(var n=0;n<r.length+64;n++)e.x^=0|r.charCodeAt(n),n==r.length&&(e.d=e.x<<10^e.x>>>4),e.next()}function s(t,e){return e.x=t.x,e.y=t.y,e.z=t.z,e.w=t.w,e.v=t.v,e.d=t.d,e}function u(t,e){var r=new a(t),n=e&&e.state,i=function(){return(r.next()>>>0)/4294967296};return i.double=function(){do{var t=((r.next()>>>11)+(r.next()>>>0)/4294967296)/(1<<21)}while(0===t);return t},i.int32=r.next,i.quick=i,n&&("object"==typeof n&&s(n,r),i.state=function(){return s(r,{})}),i}i&&i.exports?i.exports=u:r.amdD&&r.amdO?void 0===(n=function(){return u}.call(e,r,e,i))||(i.exports=n):this.xorwow=u}(0,t=r.nmd(t),r.amdD)},1971:function(t,e,r){var n;!function(i,o,a){var s,u=256,c=a.pow(u,6),h=a.pow(2,52),d=2*h,f=255;function l(t,e,r){var n=[],f=y(m((e=1==e?{entropy:!0}:e||{}).entropy?[t,v(o)]:null==t?function(){try{var t;return s&&(t=s.randomBytes)?t=t(u):(t=new Uint8Array(u),(i.crypto||i.msCrypto).getRandomValues(t)),v(t)}catch(t){var e=i.navigator,r=e&&e.plugins;return[+new Date,i,r,i.screen,v(o)]}}():t,3),n),l=new p(n),b=function(){for(var t=l.g(6),e=c,r=0;t<h;)t=(t+r)*u,e*=u,r=l.g(1);for(;t>=d;)t/=2,e/=2,r>>>=1;return(t+r)/e};return b.int32=function(){return 0|l.g(4)},b.quick=function(){return l.g(4)/4294967296},b.double=b,y(v(l.S),o),(e.pass||r||function(t,e,r,n){return n&&(n.S&&g(n,l),t.state=function(){return g(l,{})}),r?(a.random=t,e):t})(b,f,"global"in e?e.global:this==a,e.state)}function p(t){var e,r=t.length,n=this,i=0,o=n.i=n.j=0,a=n.S=[];for(r||(t=[r++]);i<u;)a[i]=i++;for(i=0;i<u;i++)a[i]=a[o=f&o+t[i%r]+(e=a[i])],a[o]=e;(n.g=function(t){for(var e,r=0,i=n.i,o=n.j,a=n.S;t--;)e=a[i=f&i+1],r=r*u+a[f&(a[i]=a[o=f&o+e])+(a[o]=e)];return n.i=i,n.j=o,r})(u)}function g(t,e){return e.i=t.i,e.j=t.j,e.S=t.S.slice(),e}function m(t,e){var r,n=[],i=typeof t;if(e&&"object"==i)for(r in t)try{n.push(m(t[r],e-1))}catch(t){}return n.length?n:"string"==i?t:t+"\0"}function y(t,e){for(var r,n=t+"",i=0;i<n.length;)e[f&i]=f&(r^=19*e[f&i])+n.charCodeAt(i++);return v(e)}function v(t){return String.fromCharCode.apply(0,t)}if(y(a.random(),o),t.exports){t.exports=l;try{s=r(5042)}catch(t){}}else void 0===(n=function(){return l}.call(e,r,e,t))||(t.exports=n)}("undefined"!=typeof self?self:this,[],Math)},1513:(t,e,r)=>{t.exports=r(956)},956:t=>{function e(t){return"number"!=typeof t&&!t}function r(t){if("string"==typeof t)return t;if("number"==typeof t)return t+"";if("function"==typeof t)return t();if(t instanceof n)return t.toString();throw Error("Bad Parameter")}function n(t,e){if(!(this instanceof n))return new n;this.name_regex=/[_:A-Za-z][-._:A-Za-z0-9]*/,this.indent=!!t,this.indentString=this.indent&&"string"==typeof t?t:"    ",this.output="",this.stack=[],this.tags=0,this.attributes=0,this.attribute=0,this.texts=0,this.comment=0,this.dtd=0,this.root="",this.pi=0,this.cdata=0,this.started_write=!1,this.writer,this.writer_encoding="UTF-8",this.writer="function"==typeof e?e:function(t,e){this.output+=t}}n.prototype={toString:function(){return this.flush(),this.output},indenter:function(){if(this.indent){this.write("\n");for(var t=1;t<this.tags;t++)this.write(this.indentString)}},write:function(){for(var t=0;t<arguments.length;t++)this.writer(arguments[t],this.writer_encoding)},flush:function(){for(var t=this.tags;t>0;t--)this.endElement();this.tags=0},startDocument:function(t,e,r){return this.tags||this.attributes||(this.startPI("xml"),this.startAttribute("version"),this.text("string"==typeof t?t:"1.0"),this.endAttribute(),"string"==typeof e&&(this.startAttribute("encoding"),this.text(e),this.endAttribute(),this.writer_encoding=e),r&&(this.startAttribute("standalone"),this.text("yes"),this.endAttribute()),this.endPI(),this.indent||this.write("\n")),this},endDocument:function(){return this.attributes&&this.endAttributes(),this},writeElement:function(t,e){return this.startElement(t).text(e).endElement()},writeElementNS:function(t,e,r,n){return n||(n=r),this.startElementNS(t,e,r).text(n).endElement()},startElement:function(t){if(!(t=r(t)).match(this.name_regex))throw Error("Invalid Parameter");if(0===this.tags&&this.root&&this.root!==t)throw Error("Invalid Parameter");return this.attributes&&this.endAttributes(),++this.tags,this.texts=0,this.stack.length>0&&(this.stack[this.stack.length-1].containsTag=!0),this.stack.push({name:t,tags:this.tags}),this.started_write&&this.indenter(),this.write("<",t),this.startAttributes(),this.started_write=!0,this},startElementNS:function(t,e,n){if(t=r(t),e=r(e),!t.match(this.name_regex))throw Error("Invalid Parameter");if(!e.match(this.name_regex))throw Error("Invalid Parameter");return this.attributes&&this.endAttributes(),++this.tags,this.texts=0,this.stack.length>0&&(this.stack[this.stack.length-1].containsTag=!0),this.stack.push({name:t+":"+e,tags:this.tags}),this.started_write&&this.indenter(),this.write("<",t+":"+e),this.startAttributes(),this.started_write=!0,this},endElement:function(){if(!this.tags)return this;var t=this.stack.pop();return this.attributes>0?(this.attribute&&(this.texts&&this.endAttribute(),this.endAttribute()),this.write("/"),this.endAttributes()):(t.containsTag&&this.indenter(),this.write("</",t.name,">")),--this.tags,this.texts=0,this},writeAttribute:function(t,r){return"function"==typeof r&&(r=r()),e(r)?this:this.startAttribute(t).text(r).endAttribute()},writeAttributeNS:function(t,r,n,i){return i||(i=n),"function"==typeof i&&(i=i()),e(i)?this:this.startAttributeNS(t,r,n).text(i).endAttribute()},startAttributes:function(){return this.attributes=1,this},endAttributes:function(){return this.attributes?(this.attribute&&this.endAttribute(),this.attributes=0,this.attribute=0,this.texts=0,this.write(">"),this):this},startAttribute:function(t){if(!(t=r(t)).match(this.name_regex))throw Error("Invalid Parameter");return this.attributes||this.pi?(this.attribute||(this.attribute=1,this.write(" ",t,'="')),this):this},startAttributeNS:function(t,e,n){if(t=r(t),e=r(e),!t.match(this.name_regex))throw Error("Invalid Parameter");if(!e.match(this.name_regex))throw Error("Invalid Parameter");return this.attributes||this.pi?(this.attribute||(this.attribute=1,this.write(" ",t+":"+e,'="')),this):this},endAttribute:function(){return this.attribute?(this.attribute=0,this.texts=0,this.write('"'),this):this},text:function(t){return t=r(t),this.tags||this.comment||this.pi||this.cdata?this.attributes&&this.attribute?(++this.texts,this.write(t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/"/g,"&quot;").replace(/\t/g,"&#x9;").replace(/\n/g,"&#xA;").replace(/\r/g,"&#xD;")),this):(this.attributes&&!this.attribute&&this.endAttributes(),this.comment||this.cdata?this.write(t):this.write(t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")),++this.texts,this.started_write=!0,this):this},writeComment:function(t){return this.startComment().text(t).endComment()},startComment:function(){return this.comment||(this.attributes&&this.endAttributes(),this.indenter(),this.write("\x3c!--"),this.comment=1,this.started_write=!0),this},endComment:function(){return this.comment?(this.write("--\x3e"),this.comment=0,this):this},writeDocType:function(t,e,r,n){return this.startDocType(t,e,r,n).endDocType()},startDocType:function(t,e,n,i){if(this.dtd||this.tags)return this;if(t=r(t),e=e?r(e):e,n=n?r(n):n,i=i?r(i):i,!t.match(this.name_regex))throw Error("Invalid Parameter");if(e&&!e.match(/^[\w\-][\w\s\-\/\+\:\.]*/))throw Error("Invalid Parameter");if(n&&!n.match(/^[\w\.][\w\-\/\\\:\.]*/))throw Error("Invalid Parameter");if(i&&!i.match(/[\w\s\<\>\+\.\!\#\-\?\*\,\(\)\|]*/))throw Error("Invalid Parameter");return e=e?' PUBLIC "'+e+'"':n?" SYSTEM":"",n=n?' "'+n+'"':"",i=i?" ["+i+"]":"",this.started_write&&this.indenter(),this.write("<!DOCTYPE ",t,e,n,i),this.root=t,this.dtd=1,this.started_write=!0,this},endDocType:function(){return this.dtd?(this.write(">"),this):this},writePI:function(t,e){return this.startPI(t).text(e).endPI()},startPI:function(t){if(!(t=r(t)).match(this.name_regex))throw Error("Invalid Parameter");return this.pi||(this.attributes&&this.endAttributes(),this.started_write&&this.indenter(),this.write("<?",t),this.pi=1,this.started_write=!0),this},endPI:function(){return this.pi?(this.write("?>"),this.pi=0,this):this},writeCData:function(t){return this.startCData().text(t).endCData()},startCData:function(){return this.cdata||(this.attributes&&this.endAttributes(),this.indenter(),this.write("<![CDATA["),this.cdata=1,this.started_write=!0),this},endCData:function(){return this.cdata?(this.write("]]>"),this.cdata=0,this):this},writeRaw:function(t){return t=r(t),this.tags||this.comment||this.pi||this.cdata?this.attributes&&this.attribute?(++this.texts,this.write(t.replace("&","&amp;").replace('"',"&quot;")),this):(this.attributes&&!this.attribute&&this.endAttributes(),++this.texts,this.write(t),this.started_write=!0,this):this}},t.exports=n},5042:()=>{}},e={};function r(n){var i=e[n];if(void 0!==i)return i.exports;var o=e[n]={id:n,loaded:!1,exports:{}};return t[n].call(o.exports,o,o.exports,r),o.loaded=!0,o.exports}r.amdD=function(){throw new Error("define cannot be used indirect")},r.amdO={},r.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return r.d(e,{a:e}),e},r.d=(t,e)=>{for(var n in e)r.o(e,n)&&!r.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},r.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),r.nmd=t=>(t.paths=[],t.children||(t.children=[]),t),(()=>{"use strict";var t=r(2698),e=r.n(t),n=r(1861),i=r(8876),o=r(6377),a=r.n(o),s=r(1732),u=r(4054),c=r.n(u),h=r(9315),d=r.n(h),f=r(3349),l=r.n(f),p=r(7321),g=r.n(p);function m(t){return"number"==typeof t&&!isNaN(t)}var y=r(5225),v=r.n(y),b={cmin:25.59,cmax:55.59,lmin:60.94,lmax:90.94},w=["#999"];function x(t,e){return 1===e?w:v()(e,{colorSpace:b,seed:t,clustering:"force-vector",attempts:5})}var E,A=(E=function(t,e){return E=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])},E(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}E(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),N=g().weightedInDegree,_=g().weightedOutDegree,k=a()("nansi"),S=(0,s.createRandomFloat)(k),D=new Set(["label","size","x","y","color"]),M=new Set(["size","weight","color","shape","thickness"]),C=["size","thickness","weight"],T=function(){function t(t,e,r){void 0===r&&(r=0),this.name=t,this.kind=e,this.count=r}return t.prototype.serialize=function(){return{name:this.name,kind:this.kind,type:this.type,count:this.count}},t.prototype.add=function(t){this.count++},t}(),O=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="category",e.frequencies=new(c()),e}return A(e,t),e.prototype.add=function(t){this.frequencies.add(t),this.count++},e.prototype.degradeToKeyAttribute=function(){return new z(this.name,this.kind,this.count)},e.prototype.isConstant=function(){return 1===this.frequencies.dimension},e.prototype.degradeToConstant=function(){return new U(this.name,this.kind,this.count,this.frequencies.top(1)[0][0])},e.prototype.serialize=function(){var e=t.prototype.serialize.call(this);e.cardinality=this.frequencies.dimension,e.top=this.frequencies.top(15);var r=x(this.name,e.top.length);return e.palette={},r.forEach((function(t,r){e.palette[e.top[r][0]]=t})),e},e}(T),G=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="boolean",e.frequencies=[0,0],e}return A(e,t),e.prototype.add=function(t){this.frequencies[+t]+=1,this.count++},e.prototype.isConstant=function(){return!this.frequencies[0]||!this.frequencies[1]},e.prototype.degradeToConstant=function(){return new U(this.name,this.kind,this.count,!this.frequencies[0])},e.prototype.serialize=function(){var e=t.prototype.serialize.call(this);e.cardinality=2,e.top=this.frequencies[0]>this.frequencies[1]?[[!1,this.frequencies[0]],[!0,this.frequencies[1]]]:[[!0,this.frequencies[1]],[!1,this.frequencies[0]]];var r=x(this.name,2);return e.palette={},r.forEach((function(t,r){e.palette[e.top[""+r][0]]=t})),e},e}(T),I=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="number",e.max=-1/0,e.min=1/0,e.integer=!0,e}return A(e,t),e.prototype.add=function(t){t>this.max&&(this.max=t),t<this.min&&(this.min=t),this.integer&&!Number.isInteger(t)&&(this.integer=!1),this.count++},e.prototype.isConstant=function(){return this.min===this.max},e.prototype.degradeToConstant=function(){return new U(this.name,this.kind,this.count,this.min)},e.prototype.serialize=function(){var e=t.prototype.serialize.call(this);return e.min=this.min,e.max=this.max,e.integer=this.integer,e},e}(T),z=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="key",e}return A(e,t),e}(T),L=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="unknown",e}return A(e,t),e}(T),U=function(t){function e(e,r,n,i){var o=t.call(this,e,r,n)||this;return o.type="constant",o.value=i,o}return A(e,t),e.prototype.serialize=function(){var e=t.prototype.serialize.call(this);return e.value=this.value,e},e}(T),P={unknown:L,category:O,key:z,number:I,boolean:G},R=function(){function t(t,e){this.attributes={},this.type=t,this.cutoff=e}return t.prototype.has=function(t){return this.attributes.hasOwnProperty(t)},t.prototype.get=function(t){return this.attributes[t]},t.prototype.add=function(t,e){var r="unknown";"number"==typeof e?r="number":"string"==typeof e?r="category":"boolean"==typeof e&&(r="boolean"),"color"===t||"label"===t?r="key":"nansi-louvain"===t&&(r="category");var n=this.attributes[t];if(!n){var i="own";("node"===this.type?D:M).has(t)&&(i="wellKnown"),t.startsWith("nansi-")&&(i="computed"),n=new P[r](t,i),this.attributes[t]=n}n.add(e),n instanceof O&&n.frequencies.dimension>this.cutoff&&(this.attributes[t]=n.degradeToKeyAttribute())},t.prototype.serialize=function(){var t={};for(var e in this.attributes){var r=this.attributes[e];(r instanceof O||r instanceof I)&&r.isConstant()&&(this.attributes[e]=r.degradeToConstant()),t[e]=this.attributes[e].serialize()}return t},t}();function j(t){return t.endsWith(".gexf")?"gexf":t.endsWith(".graphml")?"graphml":t.endsWith(".json")?"json":null}function W(t,r){return"gexf"===t.format?r(null,n.parse(e(),t.text,{addMissingNodes:!0})):"graphml"===t.format?r(null,i.parse(e(),t.text,{addMissingNodes:!0})):"json"===t.format?r(null,e().from(JSON.parse(t.text))):r(new Error("nansi/app/lib/import: unknown text format!"))}var F={example:function(t,r){var i="".concat("/nansi/","resources/").concat(t.name,".gexf");fetch(i).then((function(t){return t.text()})).then((function(t){var i=n.parse(e(),t);r(null,i)}))},text:W,file:function(t,e){var r=new FileReader;r.onload=function(r){var n=r.target.result,i=j(t.file.name);return i?W({type:"text",text:n,format:i},e):e(new Error("nansi/app/lib/import: unknown format!"))},r.readAsText(t.file)},url:function(t,e){var r=j(new URL(t.url).pathname);if(!r)return e(new Error("nansi/app/lib/import: unknown format!"));fetch(t.url).then((function(t){return t.text()})).then((function(t){return W({type:"text",text:t,format:r},e)}))}};var q=self;q.onmessage=function(t){!function(t,e){var r=F[t.type];if(!r)throw new Error("nansi/app/lib/import: unknown import type!");r(t,(function(r,n){if(r)return e(r);var i=function(t){var e=1/0,r=-1/0,n=1/0,i=-1/0,o=1/0,a=-1/0,s=!1,u=new R("node",.6*t.order),c=new R("edge",.6*t.size);t.forEachEdge((function(t,e){for(var r in e){var n=e[r];c.add(r,n)}}));var h=c.has("weight")&&"number"===c.get("weight").type;"mixed"!==l()(t)&&d().assign(t,{attributes:{community:"nansi-louvain"},rng:k,weighted:h}),h&&(g().assign(t,{attributes:{weightedDegree:"nansi-weighted-degree"}}),"undirected"!==t.type&&(N.assign(t,{attributes:{weightedDegree:"nansi-weighted-indegree"}}),_.assign(t,{attributes:{weightedDegree:"nansi-weighted-outdegree"}}))),t.forEachNode((function(c,h){for(var d in m(h.x)?(h.x<e&&(e=h.x),h.x>r&&(r=h.x)):s=!0,m(h.y)?(h.y<n&&(n=h.y),h.y>i&&(i=h.y)):s=!0,m(h.size)&&(h.size<o&&(o=h.size),h.size>a&&(a=h.size)),h["nansi-degree"]=t.degree(c),"undirected"!==t.type&&(h["nansi-indegree"]=t.inDegree(c),h["nansi-outdegree"]=t.outDegree(c)),h){var f=h[d];u.add(d,f)}}));var f=k,p=k;t.order>1&&e!==1/0&&(f=S.bind(null,e,i),p=S.bind(null,n,i)),s&&t.updateEachNodeAttributes((function(t,e){return m(e.x)||(e.x=f()),m(e.y)||(e.y=p()),e}));var y=u.serialize(),v=c.serialize();return{weighted:h,nodes:y,defaultNodeSize:"size"in y?"size":null,defaultNodeColor:"color"in y?"color":null,defaultNodeLabel:"label"in y?"label":null,edges:v,defaultEdgeColor:"color"in v?"color":null,defaultEdgeSize:C.find((function(t){return t in v}))||null}}(n);return e(null,{graph:n,model:i,options:t})}))}(t.data,(function(t,e){var r=e.graph,n=e.model;return t?q.postMessage({error:t}):q.postMessage({result:{serializedGraph:r.export(),model:n}})}))}})()})();
//# sourceMappingURL=bundle.worker.js.map